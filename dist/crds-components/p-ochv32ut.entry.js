import{r as t,h as n,g as i}from"./p-70ddbb99.js";import{g as r,C as e,p as s,c as o,a as h,b as a,d as u,n as c}from"./p-49cf85e7.js";const f=class{constructor(n){t(this,n),this.icons={article:"media-article",video:"media-video",message:"media-video",series:"media-video",episode:"media-podcast",song:"media-music"}}render(){const{imageSrc:t,heading:i,meta:r,metaPosition:e,thumbnailSrc:s,url:o,contentType:h,icons:a}=this;return n("div",{class:"card-wrapper"},n("a",{class:"card-image-wrapper",href:o},t&&n("crds-image",{src:t,size:"card"}),a[h]&&n("div",{class:"card-stamp-container"},n("crds-icon",{name:a[h],size:"15",color:"white"}),n("span",{class:"card-stamp"},h)),s&&n("div",{class:"card-thumbnail"},n("crds-image",{src:s,size:"thumbnail"}))),"top"==e&&n("span",{class:"card-meta-top"},r),i&&n("a",{class:"card-heading",href:o},i),"bottom"==e&&n("span",{class:"card-meta-bottom"},r),n("div",{class:"card-content"},n("slot",null)))}get element(){return i(this)}static get style(){return".card-wrapper{margin-bottom:2.75rem;max-width:360px;font-family:acumin-pro,helvetica,arial,sans-serif}.card-image-wrapper{margin-bottom:.5rem;overflow:hidden;position:relative;display:block}.card-stamp-container{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:hsla(0,0%,9%,.9);top:1rem;padding:.5rem;position:absolute;left:1rem;display:-ms-flexbox;display:flex;max-height:28px}.card-stamp-container .card-stamp{margin-left:.25rem}.card-stamp{display:inline-block;color:#fff;font-size:.625rem;font-weight:600;text-transform:uppercase;line-height:1}.card-meta-top{color:#555;display:block;font-size:.8125rem;line-height:1.67}.card-heading,.card-meta-top{font-weight:500;text-transform:uppercase}.card-heading{color:#333;font-family:acumin-pro-extra-condensed,sans-serif;font-size:38px;line-height:.89;margin:0 0 .5rem;-webkit-transition:color .3s;transition:color .3s;text-decoration:none}.card-heading:hover{color:#000}.card-meta-bottom{color:#777;display:block;font-size:.8125rem;font-weight:300;line-height:1;margin:0;margin-bottom:.5rem}.card-content{overflow-y:hidden}.card-content p{display:block;font-size:1rem;font-weight:300;line-height:24px;color:#333;margin:0}.inactive{display:none}.card-button{display:inline-block;background-color:#3b6e8f;color:#fff;border-radius:4px;margin-top:1.375rem;text-decoration:none;cursor:pointer;height:43px;vertical-align:middle;line-height:43px;padding:0 1rem;font-size:.875rem}.card-thumbnail{background-color:hsla(0,0%,9%,.9);top:1rem;position:absolute;right:1rem;max-width:65px;max-height:65px}::slotted(p){display:block;font-size:1rem;font-weight:300;line-height:24px;color:#333;margin:0}"}},l=r`
  {
    user {
      firstName
      nickName
    }
  }
`,d=class{constructor(n){t(this,n),this.user=null,this.displayName=null}authTokenHandler(t,n){t!==n&&(this.apolloClient=e(t),this.getUser())}componentWillLoad(){this.apolloClient=e(this.authToken)}componentWillRender(){if(this.authToken)return this.getUser()}componentDidRender(){const t=new CustomEvent("component rendered",{detail:this.host});document.dispatchEvent(t),setTimeout(()=>{this.host.shadowRoot.querySelector(".greeting").classList.add("fade-in")},0)}getUser(){return this.apolloClient.query({query:l}).then(t=>{this.user=t.data.user,this.getDisplayName()}).catch(t=>{this.getDisplayName(),this.logError(t)})}getDisplayName(){this.displayName=this.user&&(this.user.nickName||this.user.firstName)||this.defaultName||""}parseTimeBasedGreetings(t){return t>=17?"Good evening":t>=12?"Good afternoon":"Good morning"}renderGreeting(){const t=new Date;return`${this.parseTimeBasedGreetings(t.getHours())}, ${this.displayName}`}logError(t){console.error(t)}render(){return this.displayName?n("div",{class:"greeting"},n("h3",{class:"font-size-large flush"},this.renderGreeting()),n("p",{class:"flush"},"This place was made for you!")):""}get host(){return i(this)}static get watchers(){return{authToken:["authTokenHandler"]}}static get style(){return"*{-webkit-box-sizing:border-box;box-sizing:border-box}.relative{position:relative}.overflow-hidden{overflow:hidden}.d-flex{display:-ms-flexbox;display:flex}.d-block{display:block}.d-inline{display:inline}.d-none{display:none}.align-items-center{-ms-flex-align:center;align-items:center}.w-100{width:100%}.img-responsive{display:block;height:auto;max-width:100%}.img-circle{border-radius:50%}hr{border:0;border-top:1px solid #e7e7e7;margin-bottom:1rem;margin-top:1rem}.btn,.font-family-base{font-family:acumin-pro,helvetica,arial,sans-serif!important;font-weight:300!important}.font-family-condensed-extra{font-family:acumin-pro-extra-condensed,sans-serif!important;font-weight:500!important}.text-white{color:#fff!important}.text-gray-dark{color:#4d4d4d!important}.text-gray-light{color:#979797!important}.text-gray{color:#737373!important}.text-center{text-align:center}.text-uppercase{text-transform:uppercase}.text-uppercase.font-size-smaller{font-size:13px!important;letter-spacing:.5px}.font-size-base{font-size:16px!important}\@media (min-width:480px){.font-size-base{font-size:19px!important}}.font-size-large{font-size:19px!important}\@media (min-width:480px){.font-size-large{font-size:22px!important}}.font-size-smaller{font-size:14px!important}.font-size-smallest{font-size:10px}.font-weight-mid{font-weight:500}.bg-charcoal{background-color:#171717}.flush{margin:0!important}.flush-bottom{margin-bottom:0!important}.flush-top{margin-top:0!important}.push-half-bottom{margin-bottom:12px!important}.push-bottom{margin-bottom:24px!important}.push-top{margin-top:24px}.push-half-top{margin-top:12px!important}.soft-quarter-top{padding-top:6px}.component-header{font-family:acumin-pro-extra-condensed;font-size:2rem;font-weight:500;line-height:.95;text-transform:uppercase}\@media (min-width:480px){.component-header{font-size:2.125rem}}.list-header{font-family:acumin-pro-extra-condensed,sans-serif;font-size:1.5rem;font-weight:500;text-transform:uppercase}.card>a{color:inherit;display:block;text-decoration:none}.card img{width:100%}.color-gray{color:#737373}.media-label{display:-ms-flexbox;display:flex;position:absolute;right:0;bottom:0;padding:6px 8px}.media-label>:not(:last-child){margin-right:5px}.media-label .icon{fill:#fff;height:16px;width:12px}.btn{display:inline-block;margin-bottom:0;font-weight:300;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid transparent;padding:8px 10px;font-size:16px;line-height:1.5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:4px;line-height:1;margin-top:5px;margin-bottom:5px;font-size:14px;padding:13px 16px;text-decoration:none}.btn.btn-gray-light{color:#fff;background-color:#979797;border-color:#979797}.btn.btn.btn-blue,.btn.btn.btn-primary{color:#fff;background-color:#3b6e8f;border-color:#3b6e8f}.btn.btn.btn-blue:hover,.btn.btn.btn-primary:hover{background-color:#2c526b;border-color:#294d64}.btn.btn-gray-light.btn-outline{background:transparent;border-style:solid;border-width:1px;color:#979797}.btn.btn-gray-light.btn-outline:hover{background-color:#979797;color:#fff}.btn.btn-sm{font-size:13px;padding:10px 16px 11px}.btn.btn-block{display:block;width:100%}.label{font-family:lexia,serif;font-size:12px;margin-top:9px;padding:5px 6px 4px;display:inline;font-weight:500!important;line-height:1;color:#4d4d4d;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25em;font-style:italic}.label.label-info{background-color:#b6dee6}.greeting{opacity:0;-webkit-transition:opacity .45s ease-in-out .25s;transition:opacity .45s ease-in-out .25s}.greeting.fade-in{opacity:1}"}};var v=function(t,n){return function(){for(var i=new Array(arguments.length),r=0;r<i.length;r++)i[r]=arguments[r];return t.apply(n,i)}},w=Object.prototype.toString;function p(t){return"[object Array]"===w.call(t)}function g(t){return null!==t&&"object"==typeof t}function C(t){return"[object Function]"===w.call(t)}function m(t,n){if(null!=t)if("object"!=typeof t&&(t=[t]),p(t))for(var i=0,r=t.length;i<r;i++)n.call(null,t[i],i,t);else for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.call(null,t[e],e,t)}var F={isArray:p,isArrayBuffer:function(t){return"[object ArrayBuffer]"===w.call(t)},isBuffer:function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:g,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===w.call(t)},isFile:function(t){return"[object File]"===w.call(t)},isBlob:function(t){return"[object Blob]"===w.call(t)},isFunction:C,isStream:function(t){return g(t)&&C(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:m,merge:function t(){var n={};function i(i,r){n[r]="object"==typeof n[r]&&"object"==typeof i?t(n[r],i):i}for(var r=0,e=arguments.length;r<e;r++)m(arguments[r],i);return n},deepMerge:function t(){var n={};function i(i,r){n[r]="object"==typeof n[r]&&"object"==typeof i?t(n[r],i):"object"==typeof i?t({},i):i}for(var r=0,e=arguments.length;r<e;r++)m(arguments[r],i);return n},extend:function(t,n,i){return m(n,(function(n,r){t[r]=i&&"function"==typeof n?v(n,i):n})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}};function y(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var b=function(t,n,i){if(!n)return t;var r;if(i)r=i(n);else if(F.isURLSearchParams(n))r=n.toString();else{var e=[];F.forEach(n,(function(t,n){null!=t&&(F.isArray(t)?n+="[]":t=[t],F.forEach(t,(function(t){F.isDate(t)?t=t.toISOString():F.isObject(t)&&(t=JSON.stringify(t)),e.push(y(n)+"="+y(t))})))})),r=e.join("&")}if(r){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t};function E(){this.handlers=[]}E.prototype.use=function(t,n){return this.handlers.push({fulfilled:t,rejected:n}),this.handlers.length-1},E.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},E.prototype.forEach=function(t){F.forEach(this.handlers,(function(n){null!==n&&t(n)}))};var L=E,S=function(t,n,i){return F.forEach(i,(function(i){t=i(t,n)})),t},A=function(t){return!(!t||!t.__CANCEL__)},k=function(t,n){F.forEach(t,(function(i,r){r!==n&&r.toUpperCase()===n.toUpperCase()&&(t[n]=i,delete t[r])}))},T=function(t,n,i,r,e){return function(t,n,i,r,e){return t.config=n,i&&(t.code=i),t.request=r,t.response=e,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}(new Error(t),n,i,r,e)},x=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],R=F.isStandardBrowserEnv()?function(){var t,n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function r(t){var r=t;return n&&(i.setAttribute("href",r),r=i.href),i.setAttribute("href",r),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=r(window.location.href),function(n){var i=F.isString(n)?r(n):n;return i.protocol===t.protocol&&i.host===t.host}}():function(){return!0},I=F.isStandardBrowserEnv()?{write:function(t,n,i,r,e,s){var o=[];o.push(t+"="+encodeURIComponent(n)),F.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),F.isString(r)&&o.push("path="+r),F.isString(e)&&o.push("domain="+e),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},M=function(t){return new Promise((function(n,i){var r=t.data,e=t.headers;F.isFormData(r)&&delete e["Content-Type"];var s=new XMLHttpRequest;if(t.auth&&(e.Authorization="Basic "+btoa((t.auth.username||"")+":"+(t.auth.password||""))),s.open(t.method.toUpperCase(),b(t.url,t.params,t.paramsSerializer),!0),s.timeout=t.timeout,s.onreadystatechange=function(){if(s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in s?function(t){var n,i,r,e={};return t?(F.forEach(t.split("\n"),(function(t){if(r=t.indexOf(":"),n=F.trim(t.substr(0,r)).toLowerCase(),i=F.trim(t.substr(r+1)),n){if(e[n]&&x.indexOf(n)>=0)return;e[n]="set-cookie"===n?(e[n]?e[n]:[]).concat([i]):e[n]?e[n]+", "+i:i}})),e):e}(s.getAllResponseHeaders()):null;!function(t,n,i){var r=i.config.validateStatus;!r||r(i.status)?t(i):n(T("Request failed with status code "+i.status,i.config,null,i.request,i))}(n,i,{data:t.responseType&&"text"!==t.responseType?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:t,request:s}),s=null}},s.onabort=function(){s&&(i(T("Request aborted",t,"ECONNABORTED",s)),s=null)},s.onerror=function(){i(T("Network Error",t,null,s)),s=null},s.ontimeout=function(){i(T("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",s)),s=null},F.isStandardBrowserEnv()){var o=I,h=(t.withCredentials||R(t.url))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;h&&(e[t.xsrfHeaderName]=h)}if("setRequestHeader"in s&&F.forEach(e,(function(t,n){void 0===r&&"content-type"===n.toLowerCase()?delete e[n]:s.setRequestHeader(n,t)})),t.withCredentials&&(s.withCredentials=!0),t.responseType)try{s.responseType=t.responseType}catch(n){if("json"!==t.responseType)throw n}"function"==typeof t.onDownloadProgress&&s.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){s&&(s.abort(),i(t),s=null)})),void 0===r&&(r=null),s.send(r)}))},D={"Content-Type":"application/x-www-form-urlencoded"};function j(t,n){!F.isUndefined(t)&&F.isUndefined(t["Content-Type"])&&(t["Content-Type"]=n)}var B,_={adapter:(void 0!==s&&"[object process]"===Object.prototype.toString.call(s)?B=M:"undefined"!=typeof XMLHttpRequest&&(B=M),B),transformRequest:[function(t,n){return k(n,"Accept"),k(n,"Content-Type"),F.isFormData(t)||F.isArrayBuffer(t)||F.isBuffer(t)||F.isStream(t)||F.isFile(t)||F.isBlob(t)?t:F.isArrayBufferView(t)?t.buffer:F.isURLSearchParams(t)?(j(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):F.isObject(t)?(j(n,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};F.forEach(["delete","get","head"],(function(t){_.headers[t]={}})),F.forEach(["post","put","patch"],(function(t){_.headers[t]=F.merge(D)}));var P=_;function N(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var O=function(t){var n,i;return N(t),t.baseURL&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t.url)&&(t.url=(n=t.baseURL,(i=t.url)?n.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):n)),t.headers=t.headers||{},t.data=S(t.data,t.headers,t.transformRequest),t.headers=F.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),F.forEach(["delete","get","head","post","put","patch","common"],(function(n){delete t.headers[n]})),(t.adapter||P.adapter)(t).then((function(n){return N(t),n.data=S(n.data,n.headers,t.transformResponse),n}),(function(n){return A(n)||(N(t),n&&n.response&&(n.response.data=S(n.response.data,n.response.headers,t.transformResponse))),Promise.reject(n)}))},U=function(t,n){n=n||{};var i={};return F.forEach(["url","method","params","data"],(function(t){void 0!==n[t]&&(i[t]=n[t])})),F.forEach(["headers","auth","proxy"],(function(r){F.isObject(n[r])?i[r]=F.deepMerge(t[r],n[r]):void 0!==n[r]?i[r]=n[r]:F.isObject(t[r])?i[r]=F.deepMerge(t[r]):void 0!==t[r]&&(i[r]=t[r])})),F.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(r){void 0!==n[r]?i[r]=n[r]:void 0!==t[r]&&(i[r]=t[r])})),i};function H(t){this.defaults=t,this.interceptors={request:new L,response:new L}}H.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=U(this.defaults,t)).method=t.method?t.method.toLowerCase():"get";var n=[O,void 0],i=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){n.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){n.push(t.fulfilled,t.rejected)}));n.length;)i=i.then(n.shift(),n.shift());return i},H.prototype.getUri=function(t){return t=U(this.defaults,t),b(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},F.forEach(["delete","get","head","options"],(function(t){H.prototype[t]=function(n,i){return this.request(F.merge(i||{},{method:t,url:n}))}})),F.forEach(["post","put","patch"],(function(t){H.prototype[t]=function(n,i,r){return this.request(F.merge(r||{},{method:t,url:n,data:i}))}}));var z=H;function Z(t){this.message=t}Z.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Z.prototype.__CANCEL__=!0;var $=Z;function K(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(t){n=t}));var i=this;t((function(t){i.reason||(i.reason=new $(t),n(i.reason))}))}K.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},K.source=function(){var t;return{token:new K((function(n){t=n})),cancel:t}};var q=K;function V(t){var n=new z(t),i=v(z.prototype.request,n);return F.extend(i,z.prototype,n),F.extend(i,n),i}var W=V(P);W.Axios=z,W.create=function(t){return V(U(W.defaults,t))},W.Cancel=$,W.CancelToken=q,W.isCancel=A,W.all=function(t){return Promise.all(t)},W.spread=function(t){return function(n){return t.apply(null,n)}};var Y=W;Y.default=W;var J=Y;class G{constructor(t=!1){this.debug=t}log(t,n=""){this.debug&&console.log(t,n)}}class X{static getMeta(t){let n=document.querySelector(`meta[property*="${t}"]`);if(n)return n.getAttribute("content")}static parameterize(t){return t.toLowerCase().replace(/[^a-z]/g,"-").replace(/-{2,}/g,"-")}static getCookie(t){var n=("; "+document.cookie).split("; "+t+"=");if(2==n.length)return n.pop().split(";").shift()}static getSubdomain(t){return{development:"int",prod:"www",production:"www"}[t]||t}static imgixify(t){return t.replace("images.ctfassets.net/y3a9myzsdjan","crds-media.imgix.net")}static trackInView(t,n,i){new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&window.analytics.track(`${n}InView`,{target:t.target,data:i()})})},{threshold:1}).observe(t)}}class Q{space_id(){return X.getMeta("cfl:space_id")||""}env(){return X.getMeta("cfl:env")||"master"}token(){return X.getMeta("cfl:token")||""}endpoint(){return`https://cdn.contentful.com/spaces/${this.space_id()}/environments/${this.env()}`}}const tt=class{constructor(n){t(this,n),this.debug=!1,this.storageKey="crds-hearts",this._likes=[]}componentWillLoad(){this.console=new G(this.debug),this.config=new Q,this.isLiked=this.likes().includes(this.contentfulId),this.getCount().then(t=>{this.count=t})}getCount(){let t=`${this.config.endpoint()}/entries/${this.contentfulId}`;return J.get(t,{params:{access_token:this.config.token()}}).then(t=>(function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e=t,s=!0,o=!1,h=void 0;try{for(var a,u=i[Symbol.iterator]();!(s=(a=u.next()).done);s=!0){var c=a.value;if(null==e)return;e="function"==typeof c?c(e):e[c]}}catch(t){o=!0,h=t}finally{try{!s&&u.return&&u.return()}finally{if(o)throw h}}return e})(t,"data","fields","interaction_count")||0)}abbrevCount(){return this.count>1e3?`${Math.round(this.count/1e3*4)/4}K`:(this.count||0).toString()}likes(){const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):[]}toggle(t){this.console.log("toggle()"),t.preventDefault(),this.isLiked=!this.isLiked,this.isLiked?(this.add(),this.count++):(this.remove(),this.count>0&&this.count--)}remove(){this.console.log("removeFromStore()"),this._likes=this.likes().filter(t=>{if(t.toString()!==this.contentfulId)return t}),this.save(this._likes)}add(){this._likes=this.likes(),this._likes.push(this.contentfulId),this.save(this.removeDuplicates(this._likes))}removeDuplicates(t){return Array.from(new Set(t))}save(t){this.console.log("save()"),localStorage.setItem(this.storageKey,JSON.stringify(t)),J.post(`${this.endpoint()}/content-interactions`,{entry_id:this.contentfulId,action:this.isLiked?"add":"subtract"})}endpoint(){return X.getMeta("crds:interactions-endpoint")||""}render(){return n("a",{href:"#",onClick:t=>this.toggle(t),class:this.isLiked?"on":"off"},n("span",{innerHTML:'<svg width="256px" height="256px" viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="heart"><path d="M222.944078,39.3395243 C232.469215,47.3270078 239.075354,57.1577642 242.762502,68.8317796 C246.449652,80.505795 246.987363,92.2566154 244.37563,104.084241 C241.763898,115.911866 236.156363,126.126627 227.553015,134.728537 L138.600552,226.891836 C135.527926,229.963948 131.994414,231.5 128,231.5 C124.005586,231.5 120.472074,229.963948 117.399448,226.891836 L28.4469857,135.189353 C19.8436364,126.280238 14.2361025,115.911866 11.6243699,104.084241 C9.01263721,92.2566154 9.55034867,80.505795 13.2374974,68.8317796 C16.924646,57.1577642 23.5307851,47.3270078 33.0559215,39.3395243 C41.3520061,32.2736738 50.7235066,27.8191121 61.1704302,25.9758461 C71.6173538,24.1325802 81.9106415,24.90061 92.0503004,28.2799285 C102.189959,31.6592471 111.100566,37.3426551 118.782129,45.3301387 L128,54.5464684 L137.217871,45.3301387 C144.899434,37.3426551 153.810041,31.6592471 163.9497,28.2799285 C174.089359,24.90061 184.382646,24.1325802 194.82957,25.9758461 C205.276493,27.8191121 214.647994,32.2736738 222.944078,39.3395243 Z" id="Path"></path></g></svg>',class:"icon heart"}),n("span",{innerHTML:'<svg width="256px" height="256px" viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="heart-o"><path d="M218.116413,43.6103959 C227.157221,51.1917362 233.427455,60.5226236 236.927121,71.603045 C240.426788,82.6834664 240.937158,93.8367875 238.458225,105.063008 C235.979293,116.289229 230.656887,125.984595 222.490997,134.14912 L138.061541,221.626149 C135.14515,224.542052 131.791308,226 128,226 C124.208692,226 120.85485,224.542052 117.938459,221.626149 L33.5090034,134.586505 C25.3431125,126.130395 20.0207075,116.289229 17.5417748,105.063008 C15.0628421,93.8367875 15.5732123,82.6834664 19.0728789,71.603045 C22.5725454,60.5226236 28.7698738,51.1917362 37.6648574,43.6103959 C46.559841,36.0290557 56.4026531,31.6552043 67.1932938,30.4888417 C76.8173768,29.3224791 86.587277,30.6346345 96.5030011,34.425308 C105.543809,37.9243891 113.126417,42.8814185 119.250834,49.2964028 L128,58.4814907 L136.749166,49.2964028 C144.040141,41.7150625 152.570578,36.3206413 162.340478,33.1131525 C172.110378,29.9056637 181.95319,29.1766863 191.868914,30.9262268 C201.784638,32.6757674 210.533805,36.903826 218.116413,43.6103959 Z M212.429455,124.526647 C218.262231,118.694847 222.272267,111.477993 224.459559,102.876083 C226.646851,94.2741726 226.573939,85.8909618 224.24083,77.726437 C221.61608,68.3955562 216.585309,60.5955167 209.148518,54.3263319 C201.711727,48.0571471 193.47293,44.630959 184.432123,44.0477811 C177.141149,43.7561888 169.704357,45.3599365 162.121749,48.8590176 C155.705691,51.4833285 150.602015,54.9824096 146.810708,59.356261 L128,78.6012073 L109.189292,59.356261 C105.10635,54.9824096 100.002668,51.3375357 93.8782512,48.4216325 C86.2956426,44.9225514 78.8588512,43.4646031 71.567877,44.0477811 C62.5270696,44.630959 54.2882735,48.0571471 46.8514821,54.3263319 C39.4146907,60.5955167 34.38392,68.3955562 31.7591701,77.726437 C29.4260613,85.8909618 29.3531494,94.2741726 31.5404409,102.876083 C33.7277325,111.477993 37.7377693,118.694847 43.5705447,124.526647 L128,212.003675 L212.429455,124.526647 Z"></path></g></svg>',class:"icon heart-o"}),n("span",{class:"count"},this.abbrevCount()))}static get style(){return"a{font-family:sans-serif;display:block;color:#979797;font-size:80%;text-decoration:none}a>*{vertical-align:middle}a.on>span.heart-o.heart,a.on>span.heart.heart{display:inline-block}a.on>span.heart-o.heart-o,a.on>span.heart.heart-o{display:none}a.on>span.heart-o>svg,a.on>span.heart>svg{fill:#c05c04}a span.count{padding-left:.5rem}a span.heart,a span.heart-o{display:inline-block;border:1px solid;border-radius:50%;width:42px;height:42px}a span.heart-o svg,a span.heart svg{margin:9px;width:24px;height:24px;fill:currentColor}a span.heart{display:none}a span.heart-o{display:inline-block}"}},nt={blue:"#3B6E8F","blue-dark":"#274254","blue-light":"#A5BDCC","blue-lighter":"#DBE4EA",cyan:"#0095D9","cyan-dark":"#006D9E","cyan-light":"#8BCEED","cyan-lighter":"#D8EBF8",teal:"#57AFA9","teal-dark":"#41807B","teal-light":"#B3DAD7","teal-lighter":"#E0F0EF",orange:"#C05C04","orange-dark":"#8C4303","orange-light":"#E2B48C","orange-lighter":"#F3E1D1",gold:"#E09E06","gold-dark":"#A37304","gold-light":"#F0D28C","gold-lighter":"#F9EDD1","gray-darker":"#151515","gray-dark":"#4D4D4D",gray:"#737373","gray-light":"#979797","gray-lighter":"#E7E7E7",white:"#FFFFFF",black:"#000000",rust:"#CC2255",green:"#6ACC93",success:"#6ACC93","alert-info":"#6ABCCC","alert-warning":"#DEBC73"},it=class{constructor(n){t(this,n)}render(){const t=(new DOMParser).parseFromString('<?xml version="1.0" encoding="UTF-8"?>\n<svg width="256" height="256" viewBox="0 0 256 256" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<svg id="account-thin" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M128,10 C62.8145161,10 10,62.8145161 10,128 C10,193.185484 62.8145161,246 128,246 C193.185484,246 246,193.185484 246,128 C246,62.8145161 193.185484,10 128,10 Z M188.903226,210.6 C171.821774,223.208871 150.791129,230.774194 128,230.774194 C105.208871,230.774194 84.1782258,223.208871 67.0967742,210.6 L67.0967742,204.129032 C67.0967742,187.333065 80.7524194,173.677419 97.5483871,173.677419 C102.829839,173.677419 110.633065,179.101613 128,179.101613 C145.414516,179.101613 153.122581,173.677419 158.451613,173.677419 C175.247581,173.677419 188.903226,187.333065 188.903226,204.129032 L188.903226,210.6 Z M203.462903,197.515323 C200.227419,175.437903 181.433065,158.451613 158.451613,158.451613 C148.697581,158.451613 143.987097,163.875806 128,163.875806 C112.012903,163.875806 107.35,158.451613 97.5483871,158.451613 C74.5669355,158.451613 55.7725806,175.437903 52.5370968,197.515323 C35.6459677,179.196774 25.2258065,154.835484 25.2258065,128 C25.2258065,71.3314516 71.3314516,25.2258065 128,25.2258065 C184.668548,25.2258065 230.774194,71.3314516 230.774194,128 C230.774194,154.835484 220.354032,179.196774 203.462903,197.515323 Z M128,63.2903226 C104.875806,63.2903226 86.1290323,82.0370968 86.1290323,105.16129 C86.1290323,128.285484 104.875806,147.032258 128,147.032258 C151.124194,147.032258 169.870968,128.285484 169.870968,105.16129 C169.870968,82.0370968 151.124194,63.2903226 128,63.2903226 Z M128,131.806452 C113.297581,131.806452 101.354839,119.86371 101.354839,105.16129 C101.354839,90.458871 113.297581,78.516129 128,78.516129 C142.702419,78.516129 154.645161,90.458871 154.645161,105.16129 C154.645161,119.86371 142.702419,131.806452 128,131.806452 Z"/>\n  </g>\n</svg>\n\n\n<svg id="calendar" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M36.2162975,228.37119 L73.8553719,228.37119 L73.8553719,190.732116 L36.2162975,190.732116 L36.2162975,228.37119 Z M82.219719,228.37119 L124.041455,228.37119 L124.041455,190.732116 L82.219719,190.732116 L82.219719,228.37119 Z M36.2162975,182.367769 L73.8553719,182.367769 L73.8553719,140.546033 L36.2162975,140.546033 L36.2162975,182.367769 Z M82.219719,182.367769 L124.041455,182.367769 L124.041455,140.546033 L82.219719,140.546033 L82.219719,182.367769 Z M36.2162975,132.181686 L73.8553719,132.181686 L73.8553719,94.5426116 L36.2162975,94.5426116 L36.2162975,132.181686 Z M132.404826,228.37119 L174.226562,228.37119 L174.226562,190.732116 L132.404826,190.732116 L132.404826,228.37119 Z M82.219719,132.181686 L124.041455,132.181686 L124.041455,94.5426116 L82.219719,94.5426116 L82.219719,132.181686 Z M182.590909,228.37119 L220.229983,228.37119 L220.229983,190.732116 L182.590909,190.732116 L182.590909,228.37119 Z M132.404826,182.367769 L174.226562,182.367769 L174.226562,140.546033 L132.404826,140.546033 L132.404826,182.367769 Z M86.401405,69.4505455 L86.401405,31.8114711 C86.401405,30.6792562 85.9879174,29.6981983 85.1599669,28.8712231 C84.3320165,28.0432727 83.3519339,27.6297851 82.219719,27.6297851 L73.8553719,27.6297851 C72.723157,27.6297851 71.7420992,28.0432727 70.915124,28.8712231 C70.0871736,29.6991736 69.673686,30.6792562 69.673686,31.8114711 L69.673686,69.4505455 C69.673686,70.5827603 70.0871736,71.5638182 70.915124,72.3907934 C71.7430744,73.2177686 72.723157,73.6322314 73.8553719,73.6322314 L82.219719,73.6322314 C83.3519339,73.6322314 84.3329917,73.2187438 85.1599669,72.3907934 C85.9869421,71.562843 86.401405,70.5827603 86.401405,69.4505455 Z M182.590909,182.367769 L220.229983,182.367769 L220.229983,140.546033 L182.590909,140.546033 L182.590909,182.367769 Z M132.404826,132.181686 L174.226562,132.181686 L174.226562,94.5426116 L132.404826,94.5426116 L132.404826,132.181686 Z M182.590909,132.181686 L220.229983,132.181686 L220.229983,94.5426116 L182.590909,94.5426116 L182.590909,132.181686 Z M186.772595,69.4505455 L186.772595,31.8114711 C186.772595,30.6792562 186.359107,29.6981983 185.531157,28.8712231 C184.703207,28.0432727 183.723124,27.6297851 182.590909,27.6297851 L174.226562,27.6297851 C173.094347,27.6297851 172.113289,28.0432727 171.286314,28.8712231 C170.458364,29.6991736 170.044876,30.6792562 170.044876,31.8114711 L170.044876,69.4505455 C170.044876,70.5827603 170.458364,71.5638182 171.286314,72.3907934 C172.114264,73.2177686 173.094347,73.6322314 174.226562,73.6322314 L182.590909,73.6322314 C183.723124,73.6322314 184.704182,73.2187438 185.531157,72.3907934 C186.358132,71.562843 186.772595,70.5827603 186.772595,69.4505455 Z M236.958678,61.0861983 L236.958678,228.37119 C236.958678,232.902 235.302777,236.822331 231.99195,240.133157 C228.681124,243.443983 224.760793,245.099884 220.229983,245.099884 L36.2162975,245.099884 C31.6854876,245.099884 27.765157,243.443983 24.4543306,240.133157 C21.1435041,236.822331 19.4876033,232.902 19.4876033,228.37119 L19.4876033,61.0861983 C19.4876033,56.5553884 21.1435041,52.6350579 24.4543306,49.3242314 C27.765157,46.013405 31.6864628,44.3575041 36.2162975,44.3575041 L52.9449917,44.3575041 L52.9449917,31.8114711 C52.9449917,26.0606777 54.9919504,21.1378347 59.0878182,17.0429421 C63.1827107,12.9480496 68.1055537,10.9001157 73.8563471,10.9001157 L82.2206942,10.9001157 C87.9714876,10.9001157 92.8943306,12.9480496 96.9892231,17.0429421 C101.084116,21.1378347 103.13205,26.0606777 103.13205,31.8114711 L103.13205,44.3575041 L153.318132,44.3575041 L153.318132,31.8114711 C153.318132,26.0606777 155.365091,21.1378347 159.460959,17.0429421 C163.555851,12.9480496 168.478694,10.9001157 174.229488,10.9001157 L182.593835,10.9001157 C188.344628,10.9001157 193.267471,12.9480496 197.362364,17.0429421 C201.457256,21.1378347 203.50519,26.0606777 203.50519,31.8114711 L203.50519,44.3575041 L220.233884,44.3575041 C224.764694,44.3575041 228.685025,46.013405 231.995851,49.3242314 C235.306678,52.6350579 236.958678,56.5553884 236.958678,61.0861983 Z"/>\n  </g>\n</svg>\n\n\n<svg id="chat-thin" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M216.5,10 L39.5,10 C23.2289063,10 10,23.2289063 10,39.5 L10,172.25 C10,188.521094 23.2289063,201.75 39.5,201.75 L83.75,201.75 L83.75,240.46875 C83.75,243.741406 86.4234375,246 89.28125,246 C90.3875,246 91.5398438,245.677344 92.5539062,244.89375 L150.125,201.75 L216.5,201.75 C232.771094,201.75 246,188.521094 246,172.25 L246,39.5 C246,23.2289063 232.771094,10 216.5,10 Z M231.25,172.25 C231.25,180.3625 224.6125,187 216.5,187 L145.192969,187 L141.275,189.95 L98.5,222.03125 L98.5,187 L39.5,187 C31.3875,187 24.75,180.3625 24.75,172.25 L24.75,39.5 C24.75,31.3875 31.3875,24.75 39.5,24.75 L216.5,24.75 C224.6125,24.75 231.25,31.3875 231.25,39.5 L231.25,172.25 Z"/>\n  </g>\n</svg>\n\n\n<svg id="chart-bar-thin" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M195.4375,132.75 L202.8125,132.75 C204.840625,132.75 206.5,131.090625 206.5,129.0625 L206.5,18.4375 C206.5,16.409375 204.840625,14.75 202.8125,14.75 L195.4375,14.75 C193.409375,14.75 191.75,16.409375 191.75,18.4375 L191.75,129.0625 C191.75,131.090625 193.409375,132.75 195.4375,132.75 Z M151.1875,132.75 L158.5625,132.75 C160.590625,132.75 162.25,131.090625 162.25,129.0625 L162.25,62.6875 C162.25,60.659375 160.590625,59 158.5625,59 L151.1875,59 C149.159375,59 147.5,60.659375 147.5,62.6875 L147.5,129.0625 C147.5,131.090625 149.159375,132.75 151.1875,132.75 Z M62.6875,132.75 L70.0625,132.75 C72.090625,132.75 73.75,131.090625 73.75,129.0625 L73.75,92.1875 C73.75,90.159375 72.090625,88.5 70.0625,88.5 L62.6875,88.5 C60.659375,88.5 59,90.159375 59,92.1875 L59,129.0625 C59,131.090625 60.659375,132.75 62.6875,132.75 Z M106.9375,132.75 L114.3125,132.75 C116.340625,132.75 118,131.090625 118,129.0625 L118,33.1875 C118,31.159375 116.340625,29.5 114.3125,29.5 L106.9375,29.5 C104.909375,29.5 103.25,31.159375 103.25,33.1875 L103.25,129.0625 C103.25,131.090625 104.909375,132.75 106.9375,132.75 Z M232.3125,162.25 L14.75,162.25 L14.75,3.6875 C14.75,1.65015625 13.0998437,0 11.0625,0 L3.6875,0 C1.65015625,0 0,1.65015625 0,3.6875 L0,169.625 C0,173.699687 3.3003125,177 7.375,177 L232.3125,177 C234.349844,177 236,175.349844 236,173.3125 L236,165.9375 C236,163.900156 234.349844,162.25 232.3125,162.25 Z" id="Shape"/>\n  </g>\n</svg>\n\n\n<svg id="camera" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M128.003354,106.508386 C137.507024,106.508386 145.633222,109.882748 152.381945,116.631471 C159.130669,123.380195 162.505031,131.506392 162.505031,141.010063 C162.505031,150.513733 159.130669,158.63993 152.381945,165.388654 C145.633222,172.137378 137.507024,175.51174 128.003354,175.51174 C118.499684,175.51174 110.373487,172.137378 103.624763,165.388654 C96.8760391,158.63993 93.5016771,150.513733 93.5016771,141.010063 C93.5016771,131.506392 96.8760391,123.380195 103.624763,116.631471 C110.373487,109.882748 118.499684,106.508386 128.003354,106.508386 Z M212.335569,56.671139 C220.801663,56.671139 228.028924,59.6653541 234.017355,65.6537845 C240.005785,71.6422148 243,78.8694764 243,87.3355695 L243,194.671139 C243,203.137232 240.005785,210.364494 234.017355,216.352924 C228.028924,222.341354 220.801663,225.335569 212.335569,225.335569 L43.6644305,225.335569 C35.1983375,225.335569 27.9710758,222.341354 21.9826455,216.352924 C15.9942152,210.364494 13,203.137232 13,194.671139 L13,87.3355695 C13,78.8694764 15.9942152,71.6422148 21.9826455,65.6537845 C27.9710758,59.6653541 35.1983375,56.671139 43.6644305,56.671139 L70.4983229,56.671139 L76.6097419,40.3762578 C78.1258568,36.4629819 80.9009285,33.0886199 84.934957,30.2531719 C88.9689855,27.417724 93.1014049,26 97.3322153,26 L158.667785,26 C162.898595,26 167.031015,27.417724 171.065043,30.2531719 C175.099072,33.0886199 177.874143,36.4629819 179.390258,40.3762578 L185.501677,56.671139 L212.335569,56.671139 Z M128.003354,194.677847 C142.779884,194.677847 155.418648,189.427349 165.919644,178.926353 C176.420641,168.425356 181.671139,155.786593 181.671139,141.010063 C181.671139,126.233533 176.420641,113.594769 165.919644,103.093773 C155.418648,92.5927762 142.779884,87.342278 128.003354,87.342278 C113.226824,87.342278 100.588061,92.5927762 90.0870643,103.093773 C79.5860678,113.594769 74.3355695,126.233533 74.3355695,141.010063 C74.3355695,155.786593 79.5860678,168.425356 90.0870643,178.926353 C100.588061,189.427349 113.226824,194.677847 128.003354,194.677847 Z"/>\n  </g>\n</svg>\n\n\n<svg id="caret-down" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M191.999979,104.000874 C191.999979,106.166173 191.208992,108.042143 189.627017,109.628785 L133.627901,165.627901 C132.045926,167.209876 130.169955,168.000863 127.99999,168.000863 C125.830024,168.000863 123.954054,167.209876 122.372079,165.627901 L66.3729625,109.628785 C64.7909875,108.04681 64,106.170839 64,104.000874 C64,101.830908 64.7909875,99.9549376 66.3729625,98.3729625 C67.9549376,96.7909875 69.830908,96 72.0008737,96 L183.999106,96 C186.164405,96 188.040375,96.7909875 189.627017,98.3729625 C191.213659,99.9549376 192.004646,101.830908 191.999979,104.000874 L191.999979,104.000874 Z"/>\n  </g>\n</svg>\n\n\n<svg id="chevron-left-thin" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M187.540179,245.608036 L191.328214,241.820536 C193.838571,239.310179 193.838571,235.239821 191.328214,232.728929 L86.5998214,128 L191.328214,23.2710714 C193.838571,20.7607143 193.838571,16.6903571 191.328214,14.1794643 L187.540179,10.3919643 C185.029821,7.88160714 180.959464,7.88160714 178.449107,10.3919643 L65.3860714,123.454464 C62.8757143,125.964821 62.8757143,130.035179 65.3860714,132.546071 L178.449107,245.608571 C180.959464,248.118929 185.029821,248.118929 187.540179,245.608036 Z"/>\n  </g>\n</svg>\n\n\n<svg id="check-circle" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M207.161842,102.72156 C207.161842,99.8650788 206.245261,97.5207469 204.41112,95.6866058 L190.48712,81.9163485 C188.550158,79.9793859 186.253809,79.0118838 183.598075,79.0118838 C180.94234,79.0118838 178.645012,79.9803651 176.709029,81.9163485 L114.277726,144.192929 L79.6944232,109.609627 C77.7574606,107.672664 75.461112,106.705162 72.8053776,106.705162 C70.1486639,106.705162 67.8523154,107.673643 65.916332,109.609627 L51.992332,123.379884 C50.1581909,125.214025 49.24161,127.558357 49.24161,130.414838 C49.24161,133.168498 50.1581909,135.464846 51.992332,137.303884 L107.379867,192.691419 C109.31683,194.628382 111.613178,195.595884 114.268913,195.595884 C117.022573,195.595884 119.366905,194.627402 121.303867,192.691419 L204.38566,109.609627 C206.219801,107.775485 207.136382,105.479137 207.136382,102.720581 L207.161842,102.72156 Z M245.720913,127.510373 C245.720913,148.828714 240.468199,168.491137 229.962772,186.496664 C219.457344,204.502191 205.202357,218.757178 187.19683,229.262606 C169.191303,239.768033 149.52888,245.020747 128.210539,245.020747 C106.892199,245.020747 87.2297759,239.768033 69.224249,229.262606 C51.218722,218.757178 36.9637344,204.502191 26.4583071,186.496664 C15.9528797,168.491137 10.700166,148.828714 10.700166,127.510373 C10.700166,106.192033 15.9528797,86.52961 26.4583071,68.524083 C36.9637344,50.518556 51.218722,36.2635685 69.224249,25.7581411 C87.2297759,15.2527137 106.892199,10 128.210539,10 C149.52888,10 169.191303,15.2527137 187.19683,25.7581411 C205.202357,36.2635685 219.458324,50.518556 229.962772,68.524083 C240.468199,86.52961 245.720913,106.192033 245.720913,127.510373 Z" id="Shape"/>\n  </g>\n</svg>\n\n\n<svg id="chevron-down" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M200.731183,135.586367 L92.1357833,244.181767 C90.2822,246.03535 88.0864167,246.962633 85.5494167,246.962633 C83.0124167,246.962633 80.8176167,246.03535 78.96305,244.181767 L54.6678333,219.88655 C52.81425,218.032967 51.8869667,215.837183 51.8869667,213.300183 C51.8869667,210.763183 52.81425,208.568383 54.6678333,206.713817 L132.383617,129 L54.6688167,51.2852 C52.8152333,49.4316167 51.88795,47.2358333 51.88795,44.6988333 C51.88795,42.1618333 52.8152333,39.9670333 54.6688167,38.1124667 L78.9640333,13.81725 C80.8176167,11.9636667 83.0134,11.0363833 85.5504,11.0363833 C88.0874,11.0363833 90.2822,11.9636667 92.1367667,13.81725 L200.731183,122.413633 C202.584767,124.267217 203.51205,126.463 203.51205,129 C203.51205,131.537 202.584767,133.7318 200.731183,135.586367 Z" id="chevron-down" transform="translate(127.699508, 128.999508) rotate(90.000000) translate(-127.699508, -128.999508) "/>\n  </g>\n</svg>\n\n\n<svg id="chevron-down-thin" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M245.589286,69.2142857 L241.785714,65.4107143 C239.267857,62.8928571 235.196429,62.8928571 232.678571,65.4107143 L128,170.142857 L23.2678571,65.4107143 C20.75,62.8928571 16.6785714,62.8928571 14.1607143,65.4107143 L10.3571429,69.2142857 C7.83928571,71.7321429 7.83928571,75.8035714 10.3571429,78.3214286 L123.392857,191.410714 C125.910714,193.928571 129.982143,193.928571 132.5,191.410714 L245.535714,78.3214286 C248.107143,75.8035714 248.107143,71.7321429 245.589286,69.2142857 Z"/>\n  </g>\n</svg>\n\n\n<svg id="chevron-left" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M200.6564,51.3835333 L123.03895,129 L200.655417,206.616467 C202.507033,208.468083 203.43235,210.660917 203.43235,213.193983 C203.43235,215.72705 202.507033,217.919883 200.655417,219.7715 L176.390683,244.036233 C174.539067,245.88785 172.346233,246.813167 169.813167,246.813167 C167.279117,246.813167 165.087267,245.88785 163.23565,244.036233 L54.7769333,135.577517 C52.9253167,133.7259 52,131.53405 52,129 C52,126.46595 52.9253167,124.2741 54.7769333,122.422483 L163.23565,13.9637667 C165.087267,12.11215 167.2801,11.1868333 169.813167,11.1868333 C172.347217,11.1868333 174.539067,12.11215 176.390683,13.9637667 L200.655417,38.2285 C202.507033,40.0801167 203.43235,42.27295 203.43235,44.8060167 C203.43235,47.3390833 202.508017,49.5319167 200.6564,51.3835333 Z"/>\n  </g>\n</svg>\n\n\n<svg id="chevron-right-thin" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M69.1741071,10.3919643 L65.3860714,14.1794643 C62.8757143,16.6898214 62.8757143,20.7601786 65.3860714,23.2710714 L170.114464,128 L65.3860714,232.728929 C62.8757143,235.239286 62.8757143,239.309643 65.3860714,241.820536 L69.1741071,245.608036 C71.6844643,248.118393 75.7548214,248.118393 78.2651786,245.608036 L191.328214,132.545536 C193.838571,130.035179 193.838571,125.964821 191.328214,123.453929 L78.2651786,10.3919643 C75.7548214,7.88107143 71.6844643,7.88107143 69.1741071,10.3919643 Z"/>\n  </g>\n</svg>\n\n\n<svg id="chevron-right" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M200.731183,135.586367 L92.1357833,244.181767 C90.2822,246.03535 88.0864167,246.962633 85.5494167,246.962633 C83.0124167,246.962633 80.8176167,246.03535 78.96305,244.181767 L54.6678333,219.88655 C52.81425,218.032967 51.8869667,215.837183 51.8869667,213.300183 C51.8869667,210.763183 52.81425,208.568383 54.6678333,206.713817 L132.383617,129 L54.6688167,51.2852 C52.8152333,49.4316167 51.88795,47.2358333 51.88795,44.6988333 C51.88795,42.1618333 52.8152333,39.9670333 54.6688167,38.1124667 L78.9640333,13.81725 C80.8176167,11.9636667 83.0134,11.0363833 85.5504,11.0363833 C88.0874,11.0363833 90.2822,11.9636667 92.1367667,13.81725 L200.731183,122.413633 C202.584767,124.267217 203.51205,126.463 203.51205,129 C203.51205,131.537 202.584767,133.7318 200.731183,135.586367 Z"/>\n  </g>\n</svg>\n\n\n<svg id="circle-thin" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M128,30.6686333 C114.455,30.6686333 101.517,33.2793833 89.173,38.50875 C76.828,43.73025 66.201,50.72175 57.298,59.48325 C48.388,68.24475 41.285,78.68775 35.968,90.827 C30.658,102.96625 27.995,115.6955 27.995,129.006883 C27.995,142.326133 30.65,155.0485 35.968,167.18775 C41.278,179.327 48.388,189.776883 57.298,198.5315 C66.208,207.293 76.828,214.277617 89.173,219.506 C101.518,224.7275 114.463,227.346117 128,227.346117 C141.545,227.346117 154.483,224.735367 166.827,219.506 C179.172,214.2845 189.799,207.293 198.702,198.5315 C207.612,189.77 214.715,179.327 220.032,167.18775 C225.342,155.0485 228.004,142.31925 228.004,129.006883 C228.004,115.687633 225.349,102.96625 220.032,90.827 C214.722,78.68775 207.612,68.2378667 198.702,59.48325 C189.792,50.72175 179.172,43.7371333 166.827,38.50875 C154.483,33.28725 141.538,30.6686333 128,30.6686333 Z M248,129 C248,150.409133 242.637,170.1525 231.905,188.228133 C221.173,206.303767 206.615,220.619133 188.233,231.17325 C169.851,241.727367 149.772,247 128,247 C106.228,247 86.15,241.726383 67.768,231.17325 C49.386,220.620117 34.828,206.30475 24.095,188.228133 C13.362,170.151517 8,150.409133 8,129 C8,107.590867 13.363,87.8475 24.095,69.7708833 C34.827,51.6942667 49.385,37.3798833 67.768,26.82675 C86.151,16.2736167 106.228,11 128,11 C149.772,11 169.85,16.2726333 188.233,26.82675 C206.616,37.3808667 221.173,51.69525 231.905,69.7708833 C242.637,87.8465167 248,107.590867 248,129 Z"/>\n  </g>\n</svg>\n\n\n<svg id="chevron-up-thin" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M9.89119138,187.565235 L13.694825,191.369406 C16.2158755,193.890457 20.3035711,193.890457 22.8251596,191.369406 L128.000202,86.194902 L233.175244,191.369406 C235.696294,193.890457 239.78399,193.890457 242.305579,191.369406 L246.109212,187.565235 C248.630263,185.044184 248.630263,180.956488 246.109212,178.435438 L132.5651,64.8907879 C130.04405,62.3697374 125.956354,62.3697374 123.434765,64.8907879 L9.89119138,178.435438 C7.36960287,180.956488 7.36960287,185.044184 9.89119138,187.565235 Z"/>\n  </g>\n</svg>\n\n\n<svg id="chevron-up" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M200.731183,135.586367 L92.1357833,244.181767 C90.2822,246.03535 88.0864167,246.962633 85.5494167,246.962633 C83.0124167,246.962633 80.8176167,246.03535 78.96305,244.181767 L54.6678333,219.88655 C52.81425,218.032967 51.8869667,215.837183 51.8869667,213.300183 C51.8869667,210.763183 52.81425,208.568383 54.6678333,206.713817 L132.383617,129 L54.6688167,51.2852 C52.8152333,49.4316167 51.88795,47.2358333 51.88795,44.6988333 C51.88795,42.1618333 52.8152333,39.9670333 54.6688167,38.1124667 L78.9640333,13.81725 C80.8176167,11.9636667 83.0134,11.0363833 85.5504,11.0363833 C88.0874,11.0363833 90.2822,11.9636667 92.1367667,13.81725 L200.731183,122.413633 C202.584767,124.267217 203.51205,126.463 203.51205,129 C203.51205,131.537 202.584767,133.7318 200.731183,135.586367 Z" id="chevron-right" transform="translate(127.699508, 128.999508) rotate(-90.000000) translate(-127.699508, -128.999508) "/>\n  </g>\n</svg>\n\n\n<svg id="close-thin" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M128,106 L43.5355339,21.5355339 L43.5355339,21.5355339 C41.5829124,19.5829124 38.4170876,19.5829124 36.4644661,21.5355339 L21.5355339,36.4644661 L21.5355339,36.4644661 C19.5829124,38.4170876 19.5829124,41.5829124 21.5355339,43.5355339 L106,128 L21.5355339,212.464466 L21.5355339,212.464466 C19.5829124,214.417088 19.5829124,217.582912 21.5355339,219.535534 L36.4644661,234.464466 L36.4644661,234.464466 C38.4170876,236.417088 41.5829124,236.417088 43.5355339,234.464466 L128,150 L212.464466,234.464466 L212.464466,234.464466 C214.417088,236.417088 217.582912,236.417088 219.535534,234.464466 L234.464466,219.535534 L234.464466,219.535534 C236.417088,217.582912 236.417088,214.417088 234.464466,212.464466 L150,128 L234.464466,43.5355339 L234.464466,43.5355339 C236.417088,41.5829124 236.417088,38.4170876 234.464466,36.4644661 L219.535534,21.5355339 L219.535534,21.5355339 C217.582912,19.5829124 214.417088,19.5829124 212.464466,21.5355339 L128,106 Z" id="icon-close-thin"/>\n  </g>\n</svg>\n\n\n<svg id="clock-o" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M147.66093,73.9130815 L147.66093,142.747849 C147.66093,144.181907 147.199164,145.360702 146.275631,146.284235 C145.352098,147.207768 144.173302,147.669535 142.739245,147.669535 L93.574012,147.669535 C92.1399543,147.669535 90.9611589,147.207768 90.0376258,146.284235 C89.1140927,145.360702 88.6523261,144.181907 88.6523261,142.747849 L88.6523261,132.913082 C88.6523261,131.479024 89.1140927,130.300228 90.0376258,129.376695 C90.9611589,128.453162 92.1399543,127.991396 93.574012,127.991396 L127.991396,127.991396 L127.991396,73.9044772 C127.991396,72.4704195 128.453162,71.2916241 129.376695,70.368091 C130.300228,69.4445579 131.479024,68.9827913 132.913082,68.9827913 L142.747849,68.9827913 C144.181907,68.9827913 145.360702,69.4445579 146.284235,70.368091 C147.207768,71.2916241 147.669535,72.4704195 147.669535,73.9044772 L147.66093,73.9130815 Z M211.582616,128 C211.582616,112.839142 207.842594,98.8570804 200.362549,86.0538136 C192.882504,73.2505469 182.740849,63.1088912 169.937582,55.6288464 C157.134315,48.1488017 143.152253,44.4087793 127.991396,44.4087793 C112.830538,44.4087793 98.848476,48.1488017 86.0452093,55.6288464 C73.2419425,63.1088912 63.1002868,73.2505469 55.6202421,86.0538136 C48.1401974,98.8570804 44.400175,112.839142 44.400175,128 C44.400175,143.160858 48.1401974,157.14292 55.6202421,169.946186 C63.1002868,182.749453 73.2419425,192.891109 86.0452093,200.371154 C98.848476,207.851198 112.830538,211.591221 127.991396,211.591221 C143.152253,211.591221 157.134315,207.851198 169.937582,200.371154 C182.740849,192.891109 192.882504,182.749453 200.362549,169.946186 C207.842594,157.14292 211.582616,143.160858 211.582616,128 Z M246,128 C246,149.407613 240.725536,169.151718 230.176608,187.232317 C219.62768,205.312916 205.312916,219.62768 187.232317,230.176608 C169.151718,240.725536 149.407613,246 128,246 C106.592387,246 86.8482816,240.725536 68.7676827,230.176608 C50.6870838,219.62768 36.3723203,205.312916 25.8233922,187.232317 C15.2744641,169.151718 10,149.407613 10,128 C10,106.592387 15.2744641,86.8482816 25.8233922,68.7676827 C36.3723203,50.6870838 50.6870838,36.3723203 68.7676827,25.8233922 C86.8482816,15.2744641 106.592387,10 128,10 C149.407613,10 169.151718,15.2744641 187.232317,25.8233922 C205.312916,36.3723203 219.62768,50.6870838 230.176608,68.7676827 C240.725536,86.8482816 246,106.592387 246,128 Z"/>\n  </g>\n</svg>\n\n\n<svg id="contrast" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M128,10 C193.172875,10 246,62.827125 246,128 C246,193.172875 193.172875,246 128,246 C62.827125,246 10,193.172875 10,128 C10,62.827125 62.827125,10 128,10 Z M39.5,128 C39.5,176.874125 79.125875,216.5 128,216.5 L128,39.5 C79.125875,39.5 39.5,79.125875 39.5,128 Z"/>\n  </g>\n</svg>\n\n\n<svg id="copy" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M201.75,69 L157.5,69 L157.5,54.25 L113.25,10 L10,10 L10,187 L98.5,187 L98.5,246 L246,246 L246,113.25 L201.75,69 Z M202,90 L226,114 L202,114 L202,90 Z M113,30 L137,54 L113,54 L113,30 Z M25,25 L99.375,25 L99.375,69.4 L144,69.4 L144,173 L25,173 L25,25 Z M230,231 L113,231 L113,186.6 L156.875,186.6 L156.875,83 L186.125,83 L186.125,127.4 L230,127.4 L230,231 Z"/>\n  </g>\n</svg>\n\n\n<svg id="download" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M191.5365,209.548754 C191.5365,207.09128 190.638272,204.96462 188.841817,203.168773 C187.045362,201.372927 184.917981,200.475004 182.459675,200.475004 C180.001368,200.475004 177.873987,201.372927 176.077532,203.168773 C174.281077,204.96462 173.38285,207.09128 173.38285,209.548754 C173.38285,212.006228 174.281077,214.132888 176.077532,215.928734 C177.873987,217.724581 180.001368,218.622504 182.459675,218.622504 C184.917981,218.622504 187.045362,217.724581 188.841817,215.928734 C190.638272,214.132888 191.5365,212.006228 191.5365,209.548754 Z M227.8438,209.548754 C227.8438,207.09128 226.945572,204.96462 225.149117,203.168773 C223.352662,201.372927 221.225281,200.475004 218.766975,200.475004 C216.308668,200.475004 214.181287,201.372927 212.384832,203.168773 C210.588377,204.96462 209.69015,207.09128 209.69015,209.548754 C209.69015,212.006228 210.588377,214.132888 212.384832,215.928734 C214.181287,217.724581 216.308668,218.622504 218.766975,218.622504 C221.225281,218.622504 223.352662,217.724581 225.149117,215.928734 C226.945572,214.132888 227.8438,212.006228 227.8438,209.548754 Z M245.99745,177.790628 L245.99745,223.159379 C245.99745,226.940108 244.673746,230.153728 242.026339,232.800239 C239.378931,235.446749 236.164222,236.770004 232.382212,236.770004 L23.6152375,236.770004 C19.8332271,236.770004 16.6185182,235.446749 13.9711109,232.800239 C11.3237036,230.153728 10,226.940108 10,223.159379 L10,177.790628 C10,174.009899 11.3237036,170.796279 13.9711109,168.149769 C16.6185182,165.503258 19.8332271,164.180003 23.6152375,164.180003 L89.564044,164.180003 L108.710472,183.461722 C114.194387,188.754743 120.623804,191.401253 127.998725,191.401253 C135.373645,191.401253 141.803063,188.754743 147.286978,183.461722 L166.575231,164.180003 L232.382212,164.180003 C236.164222,164.180003 239.378931,165.503258 242.026339,168.149769 C244.673746,170.796279 245.99745,174.009899 245.99745,177.790628 Z M199.904198,97.1193179 C201.511552,100.994565 200.8497,104.302703 197.918642,107.043732 L134.380867,170.559983 C132.678963,172.35583 130.551582,173.253753 127.998725,173.253753 C125.445868,173.253753 123.318487,172.35583 121.616582,170.559983 L58.0788073,107.043732 C55.1477493,104.302703 54.4858974,100.994565 56.0932519,97.1193179 C57.7006063,93.4331069 60.489839,91.5900014 64.4609499,91.5900014 L100.76825,91.5900014 L100.76825,28.0737502 C100.76825,25.6162762 101.666477,23.489616 103.462932,21.6937696 C105.259387,19.8979232 107.386768,19 109.845075,19 L146.152375,19 C148.610682,19 150.738062,19.8979232 152.534517,21.6937696 C154.330972,23.489616 155.2292,25.6162762 155.2292,28.0737502 L155.2292,91.5900014 L191.5365,91.5900014 C195.507611,91.5900014 198.296843,93.4331069 199.904198,97.1193179 Z" id="Shape"/>\n  </g>\n</svg>\n\n\n<svg id="close" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M246,199.912458 C246,205.209877 244.145903,209.712682 240.43771,213.420875 L213.420875,240.43771 C209.712682,244.145903 205.209877,246 199.912458,246 C194.615039,246 190.112233,244.145903 186.40404,240.43771 L128,182.03367 L69.5959596,240.43771 C65.8877666,244.145903 61.3849607,246 56.0875421,246 C50.7901235,246 46.2873176,244.145903 42.5791246,240.43771 L15.5622896,213.420875 C11.8540965,209.712682 10,205.209877 10,199.912458 C10,194.615039 11.8540965,190.112233 15.5622896,186.40404 L73.96633,128 L15.5622896,69.5959596 C11.8540965,65.8877666 10,61.3849607 10,56.0875421 C10,50.7901235 11.8540965,46.2873176 15.5622896,42.5791246 L42.5791246,15.5622896 C46.2873176,11.8540965 50.7901235,10 56.0875421,10 C61.3849607,10 65.8877666,11.8540965 69.5959596,15.5622896 L128,73.96633 L186.40404,15.5622896 C190.112233,11.8540965 194.615039,10 199.912458,10 C205.209877,10 209.712682,11.8540965 213.420875,15.5622896 L240.43771,42.5791246 C244.145903,46.2873176 246,50.7901235 246,56.0875421 C246,61.3849607 244.145903,65.8877666 240.43771,69.5959596 L182.03367,128 L240.43771,186.40404 C244.145903,190.112233 246,194.615039 246,199.912458 Z" id="Shape"/>\n  </g>\n</svg>\n\n\n<svg id="exclamation-circle" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M126.099643,13.4003571 C146.981071,13.4003571 166.239881,18.5451786 183.876071,28.8348214 C201.512262,39.1244643 215.475179,53.087381 225.764821,70.7235714 C236.054464,88.3597619 241.199286,107.618571 241.199286,128.5 C241.199286,149.381429 236.054464,168.640238 225.764821,186.276429 C215.475179,203.912619 201.512262,217.875536 183.876071,228.165179 C166.239881,238.454821 146.981071,243.599643 126.099643,243.599643 C105.218214,243.599643 85.9594048,238.454821 68.3232143,228.165179 C50.6870238,217.875536 36.7241071,203.912619 26.4344643,186.276429 C16.1448214,168.640238 11,149.381429 11,128.5 C11,107.618571 16.1448214,88.3597619 26.4344643,70.7235714 C36.7241071,53.087381 50.6870238,39.1244643 68.3232143,28.8348214 C85.9594048,18.5451786 105.218214,13.4003571 126.099643,13.4003571 Z M145.285714,200.2925 L145.285714,171.815536 C145.285714,170.416726 144.835298,169.241726 143.934464,168.290536 C143.033631,167.339345 141.934167,166.86375 140.636071,166.86375 L111.856964,166.86375 C110.558869,166.86375 109.409048,167.364524 108.4075,168.366071 C107.405952,169.367619 106.905179,170.51744 106.905179,171.815536 L106.905179,200.2925 C106.905179,201.590595 107.405952,202.740417 108.4075,203.741964 C109.409048,204.743512 110.558869,205.244286 111.856964,205.244286 L140.636071,205.244286 C141.934167,205.244286 143.033631,204.76869 143.934464,203.8175 C144.835298,202.86631 145.285714,201.69131 145.285714,200.2925 L145.285714,200.2925 Z M144.983571,148.735179 L147.677679,55.6667857 C147.677679,54.4694048 147.176905,53.571369 146.175357,52.9726786 C145.17381,52.1725595 143.973631,51.7725 142.574821,51.7725 L109.599286,51.7725 C108.200476,51.7725 107.000298,52.1725595 105.99875,52.9726786 C104.997202,53.571369 104.496429,54.4694048 104.496429,55.6667857 L107.047857,148.735179 C107.047857,149.736726 107.548631,150.612381 108.550179,151.362143 C109.551726,152.111905 110.751905,152.486786 112.150714,152.486786 L139.880714,152.486786 C141.279524,152.486786 142.454524,152.111905 143.405714,151.362143 C144.356905,150.612381 144.882857,149.736726 144.983571,148.735179 L144.983571,148.735179 Z"/>\n  </g>\n</svg>\n\n\n<svg id="eye-slash" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M82.3325,179.22 L92.78,160.335 C85.01,154.71 78.9375,147.6125 74.5625,139.0425 C70.1875,130.4725 68,121.41 68,111.855 C68,101.05 70.7225,91.005 76.1675,81.72 C55.7225,92.165 38.7125,107.925 25.1375,129 C40.0475,152.035 59.11,168.775 82.325,179.22 L82.3325,179.22 Z M134.4275,77.5725 C134.4275,75.7875 133.8025,74.27 132.5525,73.02 C131.3025,71.77 129.785,71.145 128,71.145 C116.84,71.145 107.265,75.14 99.275,83.13 C91.285,91.12 87.29,100.695 87.29,111.855 C87.29,113.64 87.915,115.1575 89.165,116.4075 C90.415,117.6575 91.9325,118.2825 93.7175,118.2825 C95.5025,118.2825 97.02,117.6575 98.27,116.4075 C99.52,115.1575 100.145,113.64 100.145,111.855 C100.145,104.175 102.8675,97.6125 108.3125,92.1675 C113.7575,86.7225 120.32,84 128,84 C129.785,84 131.3025,83.375 132.5525,82.125 C133.8025,80.875 134.4275,79.3575 134.4275,77.5725 L134.4275,77.5725 Z M183.0425,51.99 C183.0425,52.615 182.9975,53.0175 182.9075,53.1975 C173.5325,69.9825 159.47,95.25 140.72,129 C121.97,162.75 107.8625,188.0625 98.3975,204.9375 L91.835,216.855 C90.94,218.285 89.69,219 88.085,219 C87.015,219 81.0325,215.875 70.1375,209.625 C68.7075,208.73 67.9925,207.48 67.9925,205.875 C67.9925,204.805 69.9575,200.92 73.8875,194.22 C61.1175,188.415 49.355,180.6925 38.6,171.0525 C27.845,161.4125 18.5375,150.475 10.6775,138.24 C8.8925,135.47 8,132.39 8,129 C8,125.61 8.8925,122.53 10.6775,119.76 C24.3375,98.78 41.3025,82.2175 61.5725,70.0725 C81.8425,57.9275 103.985,51.855 128,51.855 C135.945,51.855 143.98,52.615 152.105,54.135 L159.335,41.145 C160.23,39.715 161.48,39 163.085,39 C163.53,39 164.3325,39.2675 165.4925,39.8025 C166.6525,40.3375 168.0375,41.03 169.6475,41.88 C171.2575,42.73 172.73,43.555 174.065,44.355 C175.4,45.155 176.8075,45.98 178.2875,46.83 C179.7675,47.68 180.6375,48.1925 180.8975,48.3675 C182.3275,49.2625 183.0425,50.4675 183.0425,51.9825 L183.0425,51.99 Z M188,111.855 C188,124.265 184.4725,135.5825 177.4175,145.8075 C170.3625,156.0325 161.0325,163.3775 149.4275,167.8425 L186.9275,100.6125 C187.6425,104.6325 188,108.3825 188,111.8625 L188,111.855 Z M248,129 C248,132.125 247.1075,135.205 245.3225,138.24 C241.8425,143.955 236.9775,150.4275 230.7275,157.6575 C217.3325,173.0125 201.82,184.9325 184.19,193.4175 C166.56,201.9025 147.8325,206.1425 128.0075,206.1375 L137.915,188.46 C156.845,186.855 174.3675,180.74 190.4825,170.115 C206.5975,159.49 220.0575,145.785 230.8625,129 C220.5925,113.02 208.0025,99.895 193.0925,89.625 L201.53,74.625 C210.01,80.34 218.1575,87.17 225.9725,95.115 C233.7875,103.06 240.2375,111.275 245.3225,119.76 C247.1075,122.795 248,125.875 248,129 Z"/>\n  </g>\n</svg>\n\n\n<svg id="eye" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M230.855,129.5725 C217.285,108.5025 200.275,92.7425 179.825,82.2925 C185.27,91.5775 187.9925,101.6225 187.9925,112.4275 C187.9925,128.9475 182.1225,143.0775 170.3825,154.8175 C158.6425,166.5575 144.5125,172.4275 127.9925,172.4275 C111.4725,172.4275 97.3425,166.5575 85.6025,154.8175 C73.8625,143.0775 67.9925,128.9475 67.9925,112.4275 C67.9925,101.6225 70.715,91.5775 76.16,82.2925 C55.715,92.7375 38.705,108.4975 25.13,129.5725 C37.005,147.8775 51.8925,162.4525 69.7925,173.2975 C87.6925,184.1425 107.09,189.5675 127.985,189.5725 C148.88,189.5775 168.2775,184.1525 186.1775,173.2975 C204.0775,162.4425 218.965,147.8675 230.84,129.5725 L230.855,129.5725 Z M134.4275,78.145 C134.4275,76.36 133.8025,74.8425 132.5525,73.5925 C131.3025,72.3425 129.785,71.7175 128,71.7175 C116.84,71.7175 107.265,75.7125 99.275,83.7025 C91.285,91.6925 87.29,101.2675 87.29,112.4275 C87.29,114.2125 87.915,115.73 89.165,116.98 C90.415,118.23 91.9325,118.855 93.7175,118.855 C95.5025,118.855 97.02,118.23 98.27,116.98 C99.52,115.73 100.145,114.2125 100.145,112.4275 C100.145,104.7475 102.8675,98.185 108.3125,92.74 C113.7575,87.295 120.32,84.5725 128,84.5725 C129.785,84.5725 131.3025,83.9475 132.5525,82.6975 C133.8025,81.4475 134.4275,79.93 134.4275,78.145 L134.4275,78.145 Z M248,129.5725 C248,132.6075 247.1075,135.6875 245.3225,138.8125 C232.8225,159.3475 216.015,175.7975 194.9,188.1625 C173.785,200.5275 151.485,206.71 128,206.71 C104.515,206.71 82.215,200.505 61.1,188.095 C39.985,175.685 23.1775,159.2575 10.6775,138.8125 C8.8925,135.6875 8,132.6075 8,129.5725 C8,126.5375 8.8925,123.4575 10.6775,120.3325 C23.1775,99.8875 39.985,83.46 61.1,71.05 C82.215,58.64 104.515,52.435 128,52.435 C151.485,52.435 173.785,58.64 194.9,71.05 C216.015,83.46 232.8225,99.8875 245.3225,120.3325 C247.1075,123.4575 248,126.5375 248,129.5725 Z"/>\n  </g>\n</svg>\n\n\n<svg id="credit-card" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M226.333333,36 L29.6666667,36 C18.8090278,36 10,44.8090278 10,55.6666667 L10,199.888889 C10,210.746528 18.8090278,219.555556 29.6666667,219.555556 L226.333333,219.555556 C237.190972,219.555556 246,210.746528 246,199.888889 L246,55.6666667 C246,44.8090278 237.190972,36 226.333333,36 Z M29.6666667,49.1111111 L226.333333,49.1111111 C229.938889,49.1111111 232.888889,52.0611111 232.888889,55.6666667 L232.888889,75.3333333 L23.1111111,75.3333333 L23.1111111,55.6666667 C23.1111111,52.0611111 26.0611111,49.1111111 29.6666667,49.1111111 Z M226.333333,206.444444 L29.6666667,206.444444 C26.0611111,206.444444 23.1111111,203.494444 23.1111111,199.888889 L23.1111111,114.666667 L232.888889,114.666667 L232.888889,199.888889 C232.888889,203.494444 229.938889,206.444444 226.333333,206.444444 Z M88.6666667,172.027778 L88.6666667,175.305556 C88.6666667,178.009722 86.4541667,180.222222 83.75,180.222222 L54.25,180.222222 C51.5458333,180.222222 49.3333333,178.009722 49.3333333,175.305556 L49.3333333,172.027778 C49.3333333,169.323611 51.5458333,167.111111 54.25,167.111111 L83.75,167.111111 C86.4541667,167.111111 88.6666667,169.323611 88.6666667,172.027778 Z M167.333333,172.027778 L167.333333,175.305556 C167.333333,178.009722 165.120833,180.222222 162.416667,180.222222 L106.694444,180.222222 C103.990278,180.222222 101.777778,178.009722 101.777778,175.305556 L101.777778,172.027778 C101.777778,169.323611 103.990278,167.111111 106.694444,167.111111 L162.416667,167.111111 C165.120833,167.111111 167.333333,169.323611 167.333333,172.027778 Z"/>\n  </g>\n</svg>\n\n\n<svg id="facebook" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M186.538462,11.7019231 L186.538462,49.1442308 L164.271635,49.1442308 C156.140224,49.1442308 150.65625,50.8461538 147.819712,54.25 C144.983173,57.6538462 143.564904,62.7596154 143.564904,69.5673077 L143.564904,96.3725962 L185.120192,96.3725962 L179.588942,138.353365 L143.564904,138.353365 L143.564904,246 L100.165865,246 L100.165865,138.353365 L64,138.353365 L64,96.3725962 L100.165865,96.3725962 L100.165865,65.4543269 C100.165865,47.8677885 105.082532,34.228766 114.915865,24.5372596 C124.749199,14.8457532 137.844551,10 154.201923,10 C168.100962,10 178.879808,10.5673077 186.538462,11.7019231 Z"/>\n  </g>\n</svg>\n\n\n<svg id="github" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M245.020747,130.453029 C245.020747,156.697992 237.549046,180.301909 222.604664,201.266739 C207.660282,222.231568 188.356266,236.739203 164.690656,244.789643 C161.936996,245.312564 159.921693,244.946324 158.646705,243.6919 C157.371718,242.437477 156.734224,240.868714 156.734224,238.986589 L156.734224,205.89371 C156.734224,195.751585 154.082407,188.327867 148.777793,183.622556 C154.592598,182.994855 159.819851,182.053793 164.46151,180.799369 C169.10317,179.544946 173.896614,177.506141 178.84478,174.682954 C183.791967,171.859768 187.923436,168.383419 191.238207,164.252929 C194.552979,160.12244 197.256697,154.633726 199.347402,147.78483 C201.438108,140.935934 202.48395,133.067635 202.48395,124.179934 C202.48395,111.527983 198.454324,100.758158 190.39605,91.8704564 C194.170091,82.3550539 193.762722,71.6900083 189.171983,59.8753195 C186.315502,58.9342573 182.185012,59.5090788 176.778556,61.6007635 C171.3721,63.6924481 166.680498,65.9917344 162.702772,68.5015602 L156.887967,72.2658091 C147.400963,69.5474025 137.608432,68.1881992 127.510373,68.1881992 C117.412315,68.1881992 107.619784,69.5474025 98.1327801,72.2658091 C96.5003651,71.1151867 94.333278,69.704083 91.6295602,68.0315187 C88.9258423,66.3589544 84.6680498,64.34561 78.8532448,61.993444 C73.0384398,59.641278 68.6523651,58.9352365 65.6940415,59.8762988 C61.2061245,71.6919668 60.8486971,82.3570124 64.6227386,91.8714357 C56.5644647,100.759137 52.5348382,111.528963 52.5348382,124.180913 C52.5348382,133.068614 53.5806805,140.910473 55.6713859,147.70649 C57.7620913,154.502506 60.4403485,159.992199 63.7041992,164.174589 C66.9680498,168.356979 71.0740581,171.859768 76.0212448,174.682954 C80.9684315,177.506141 85.7628548,179.544946 90.4045145,180.799369 C95.0461743,182.053793 100.273427,182.994855 106.088232,183.622556 C102.007685,187.386805 99.5086307,192.771718 98.5910705,199.777295 C96.4484647,200.823137 94.1540747,201.607519 91.7059419,202.129461 C89.2578091,202.651402 86.3504066,202.913842 82.9847137,202.913842 C79.6190207,202.913842 76.2778091,201.78966 72.9630373,199.542274 C69.6482656,197.293909 66.8172448,194.02712 64.4709544,189.73995 C62.5330124,186.393842 60.0594191,183.675436 57.0501743,181.58473 C54.0409295,179.493046 51.5164149,178.238622 49.4766307,177.820481 L46.4164647,177.35044 C44.2738589,177.35044 42.7951867,177.585461 41.9794689,178.056481 C41.163751,178.526523 40.908166,179.127784 41.2146722,179.860266 C41.5201992,180.591768 41.9794689,181.324249 42.5915021,182.055751 C43.2035353,182.787253 43.8664896,183.414954 44.5803651,183.937876 L45.651668,184.722257 C47.8961162,185.7681 50.1141245,187.754025 52.3076515,190.681992 C54.5011784,193.609959 56.1071535,196.275485 57.1275353,198.680531 L58.6571286,202.2881 C59.9830373,206.260929 62.2274855,209.476797 65.3894938,211.933743 C68.5515021,214.390689 71.9690954,215.959452 75.6412946,216.639054 C79.3134938,217.318656 82.85839,217.684896 86.2750041,217.736797 C89.6916183,217.788697 92.522639,217.606556 94.7670871,217.187436 L98.2865228,216.559734 C98.2865228,220.532564 98.3119834,225.185975 98.3629046,230.518988 C98.4138257,235.852 98.4392863,238.674207 98.4392863,238.988548 C98.4392863,240.870672 97.776332,242.439436 96.4504232,243.693859 C95.1245145,244.948282 93.083751,245.314523 90.3300913,244.791602 C66.6644813,236.740183 47.3604647,222.232548 32.416083,201.268697 C17.4717012,180.304846 10,156.697992 10,130.453029 C10,108.600017 15.2536929,88.4460083 25.7600996,69.9910041 C36.2665062,51.536 50.5214938,36.9245643 68.5260415,26.1547386 C86.5305892,15.3849129 106.191054,10 127.510373,10 C148.829693,10 168.491137,15.3849129 186.494705,26.1547386 C204.498274,36.9245643 218.754241,51.5369793 229.260647,69.9919834 C239.767054,88.4469876 245.020747,108.600017 245.020747,130.453029 Z"/>\n  </g>\n</svg>\n\n\n<svg id="equalizer" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M216.940994,113.25 L220.651398,113.25 C226.773564,113.25 231.782609,108.271875 231.782609,102.1875 L231.782609,65.3125 C231.782609,59.228125 226.773564,54.25 220.651398,54.25 L216.940994,54.25 L216.940994,10 L187.257764,10 L187.257764,54.25 L183.54736,54.25 C177.425194,54.25 172.416149,59.228125 172.416149,65.3125 L172.416149,102.1875 C172.416149,108.271875 177.425194,113.25 183.54736,113.25 L187.257764,113.25 L187.257764,246 L216.940994,246 L216.940994,113.25 Z M187.257764,69 L216.940994,69 L216.940994,98.5 L187.257764,98.5 L187.257764,69 Z M146.443323,201.75 C152.565489,201.75 157.574534,196.771875 157.574534,190.6875 L157.574534,153.8125 C157.574534,147.728125 152.565489,142.75 146.443323,142.75 L142.732919,142.75 L142.732919,10 L113.049689,10 L113.049689,142.75 L109.339286,142.75 C103.21712,142.75 98.2080745,147.728125 98.2080745,153.8125 L98.2080745,190.6875 C98.2080745,196.771875 103.21712,201.75 109.339286,201.75 L113.049689,201.75 L113.049689,246 L142.732919,246 L142.732919,201.75 L146.443323,201.75 Z M113.049689,157.5 L142.732919,157.5 L142.732919,187 L113.049689,187 L113.049689,157.5 Z M72.2352484,113.25 C78.3574146,113.25 83.3664596,108.271875 83.3664596,102.1875 L83.3664596,65.3125 C83.3664596,59.228125 78.3574146,54.25 72.2352484,54.25 L68.5248447,54.25 L68.5248447,10 L38.8416149,10 L38.8416149,54.25 L35.1312112,54.25 C29.009045,54.25 24,59.228125 24,65.3125 L24,102.1875 C24,108.271875 29.009045,113.25 35.1312112,113.25 L38.8416149,113.25 L38.8416149,246 L68.5248447,246 L68.5248447,113.25 L72.2352484,113.25 Z M38.8416149,69 L68.5248447,69 L68.5248447,98.5 L38.8416149,98.5 L38.8416149,69 Z" id="icon-equalizer"/>\n  </g>\n</svg>\n\n\n<svg id="instagram" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M219.265625,209.432292 L219.265625,109.869792 L198.523438,109.869792 C200.572049,116.322917 201.596354,123.032118 201.596354,129.997396 C201.596354,142.903646 198.318576,154.811198 191.763021,165.720052 C185.207465,176.628906 176.296007,185.258681 165.028646,191.609375 C153.761285,197.960069 141.469618,201.135417 128.153646,201.135417 C107.974826,201.135417 90.7152778,194.195747 76.375,180.316406 C62.0347222,166.437066 54.8645833,149.664062 54.8645833,129.997396 C54.8645833,123.032118 55.8888889,116.322917 57.9375,109.869792 L36.2734375,109.869792 L36.2734375,209.432292 C36.2734375,212.095486 37.1697049,214.323351 38.9622396,216.115885 C40.7547743,217.90842 42.9826389,218.804687 45.6458333,218.804687 L209.893229,218.804687 C212.453993,218.804687 214.65625,217.90842 216.5,216.115885 C218.34375,214.323351 219.265625,212.095486 219.265625,209.432292 Z M175.630208,127.539063 C175.630208,114.837674 170.995226,104.005642 161.72526,95.0429688 C152.455295,86.0802951 141.264757,81.5989583 128.153646,81.5989583 C115.144965,81.5989583 104.005642,86.0802951 94.7356771,95.0429688 C85.4657118,104.005642 80.8307292,114.837674 80.8307292,127.539063 C80.8307292,140.240451 85.4657118,151.072483 94.7356771,160.035156 C104.005642,168.99783 115.144965,173.479167 128.153646,173.479167 C141.264757,173.479167 152.455295,168.99783 161.72526,160.035156 C170.995226,151.072483 175.630208,140.240451 175.630208,127.539063 Z M219.265625,72.2265625 L219.265625,46.875 C219.265625,44.0069444 218.241319,41.5230035 216.192708,39.4231771 C214.144097,37.3233507 211.634549,36.2734375 208.664062,36.2734375 L181.929688,36.2734375 C178.959201,36.2734375 176.449653,37.3233507 174.401042,39.4231771 C172.352431,41.5230035 171.328125,44.0069444 171.328125,46.875 L171.328125,72.2265625 C171.328125,75.1970486 172.352431,77.7065972 174.401042,79.7552083 C176.449653,81.8038194 178.959201,82.828125 181.929688,82.828125 L208.664062,82.828125 C211.634549,82.828125 214.144097,81.8038194 216.192708,79.7552083 C218.241319,77.7065972 219.265625,75.1970486 219.265625,72.2265625 Z M246,40.2682292 L246,215.731771 C246,224.028646 243.029514,231.147569 237.088542,237.088542 C231.147569,243.029514 224.028646,246 215.731771,246 L40.2682292,246 C31.9713542,246 24.8524306,243.029514 18.9114583,237.088542 C12.9704861,231.147569 10,224.028646 10,215.731771 L10,40.2682292 C10,31.9713542 12.9704861,24.8524306 18.9114583,18.9114583 C24.8524306,12.9704861 31.9713542,10 40.2682292,10 L215.731771,10 C224.028646,10 231.147569,12.9704861 237.088542,18.9114583 C243.029514,24.8524306 246,31.9713542 246,40.2682292 Z"/>\n  </g>\n</svg>\n\n\n<svg id="heart-o" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M222.944078,39.3395243 C232.469215,47.3270078 239.075354,57.1577641 242.762502,68.8317796 C246.449652,80.505795 246.987363,92.2566154 244.37563,104.084241 C241.763898,115.911866 236.156363,126.126627 227.553015,134.728537 L138.600552,226.891836 C135.527926,229.963948 131.994414,231.5 128,231.5 C124.005586,231.5 120.472074,229.963948 117.399448,226.891836 L28.4469857,135.189353 C19.8436364,126.280238 14.2361025,115.911866 11.6243699,104.084241 C9.01263721,92.2566154 9.55034867,80.505795 13.2374974,68.8317796 C16.924646,57.1577641 23.4539742,47.3270078 32.8254748,39.3395243 C42.1969753,31.3520408 52.5670809,26.743876 63.9357917,25.5150296 C74.0754506,24.2861833 84.3687383,25.6686328 94.8156619,29.6623781 C104.340799,33.3489099 112.329618,38.5714945 118.782129,45.3301387 L128,55.0072848 L137.217871,45.3301387 C144.899434,37.3426551 153.886859,31.6592471 164.180146,28.2799285 C174.473434,24.90061 184.843539,24.1325802 195.290463,25.9758461 C205.737386,27.8191121 214.955259,32.2736738 222.944078,39.3395243 Z M216.952462,124.590575 C223.097708,118.446357 227.322567,110.842885 229.627035,101.780159 C231.931504,92.7174318 231.854686,83.8851205 229.396589,75.2832104 C226.631227,65.452461 221.330951,57.2345622 213.49576,50.6295283 C205.66057,44.0244943 196.980408,40.4147604 187.455272,39.8003408 C179.773711,39.4931275 171.938519,41.1827902 163.9497,44.8693221 C157.189924,47.6342211 151.812837,51.320753 147.818425,55.9289178 L128,76.2048434 L108.181576,55.9289178 C103.879904,51.320753 98.5028109,47.480618 92.0503004,44.4085057 C84.0614806,40.7219738 76.2262897,39.1859211 68.5447276,39.8003408 C59.0195912,40.4147604 50.339431,44.0244943 42.5042401,50.6295283 C34.6690491,57.2345622 29.3687729,65.452461 26.6034114,75.2832104 C24.1453146,83.8851205 24.0684967,92.7174318 26.3729645,101.780159 C28.6774325,110.842885 32.9022927,118.446357 39.0475382,124.590575 L128,216.753872 L216.952462,124.590575 Z" id="Shape" fill-rule="nonzero"/>\n  </g>\n</svg>\n\n\n<svg id="heart" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M222.944078,39.3395243 C232.469215,47.3270078 239.075354,57.1577642 242.762502,68.8317796 C246.449652,80.505795 246.987363,92.2566154 244.37563,104.084241 C241.763898,115.911866 236.156363,126.126627 227.553015,134.728537 L138.600552,226.891836 C135.527926,229.963948 131.994414,231.5 128,231.5 C124.005586,231.5 120.472074,229.963948 117.399448,226.891836 L28.4469857,135.189353 C19.8436364,126.280238 14.2361025,115.911866 11.6243699,104.084241 C9.01263721,92.2566154 9.55034867,80.505795 13.2374974,68.8317796 C16.924646,57.1577642 23.5307851,47.3270078 33.0559215,39.3395243 C41.3520061,32.2736738 50.7235066,27.8191121 61.1704302,25.9758461 C71.6173538,24.1325802 81.9106415,24.90061 92.0503004,28.2799285 C102.189959,31.6592471 111.100566,37.3426551 118.782129,45.3301387 L128,54.5464684 L137.217871,45.3301387 C144.899434,37.3426551 153.810041,31.6592471 163.9497,28.2799285 C174.089359,24.90061 184.382646,24.1325802 194.82957,25.9758461 C205.276493,27.8191121 214.647994,32.2736738 222.944078,39.3395243 Z" id="Path"/>\n  </g>\n</svg>\n\n\n<svg id="link" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M224.5615,32.3275 L223.6795,31.4455 C203.0855,10.8515 169.3875,10.8515 148.7935,31.4455 L101.0815,79.1645 C80.4875,99.7585 80.4875,133.4565 101.0815,154.0435 L101.9635,154.9255 C103.6785,156.6405 105.4985,158.1875 107.3745,159.6225 L124.8395,142.1575 C122.8025,140.9535 120.8775,139.5185 119.1275,137.7685 L118.2455,136.8865 C107.0665,125.7075 107.0665,107.5145 118.2455,96.3355 L165.9575,48.6235 C177.1365,37.4445 195.3295,37.4445 206.5085,48.6235 L207.3905,49.5055 C218.5695,60.6845 218.5695,78.8845 207.3905,90.0565 L185.8025,111.6445 C189.5475,120.8985 191.3255,130.7615 191.1715,140.6035 L224.5545,107.2205 C245.1485,86.6265 245.1485,52.9285 224.5545,32.3415 L224.5615,32.3275 Z M154.0435,101.0745 C152.3285,99.3595 150.5085,97.8125 148.6325,96.3845 L131.1675,113.8495 C133.2045,115.0535 135.1295,116.4885 136.8795,118.2385 L137.7615,119.1205 C148.9405,130.2995 148.9405,148.4925 137.7615,159.6715 L90.0425,207.3905 C78.8635,218.5695 60.6705,218.5695 49.4915,207.3905 L48.6095,206.5085 C37.4305,195.3225 37.4305,177.1365 48.6095,165.9575 L70.1975,144.3695 C66.4525,135.1155 64.6745,125.2525 64.8285,115.4105 L31.4455,148.7935 C10.8515,169.3875 10.8515,203.0855 31.4455,223.6795 L32.3275,224.5615 C52.9215,245.1555 86.6195,245.1555 107.2135,224.5615 L154.9255,176.8495 C175.5195,156.2555 175.5195,122.5575 154.9255,101.9635 L154.0435,101.0815 L154.0435,101.0745 Z"/>\n  </g>\n</svg>\n\n\n<svg id="location-arrow" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M232.275508,36.3039456 L136.36718,228.11221 C134.666469,231.608737 131.818898,233.357 127.824466,233.357 C127.32656,233.357 126.576905,233.2563 125.5755,233.0549 C123.376884,232.556995 121.603445,231.432512 120.255185,229.681451 C118.906924,227.930391 118.232794,225.95835 118.232794,223.765328 L118.232794,137.448672 L31.9161375,137.448672 C29.7175215,137.448672 27.7454805,136.774542 26.0000144,135.426281 C24.2545483,134.07802 23.1300653,132.304582 22.6265655,130.105966 C22.1230656,127.90735 22.3216683,125.809434 23.2223736,123.812218 C24.1230789,121.815002 25.5720395,120.315691 27.5692556,119.314286 L219.37752,23.405958 C220.675431,22.7066527 222.124391,22.357 223.724402,22.357 C226.420923,22.357 228.669889,23.305258 230.4713,25.2017741 C231.97061,26.6003848 232.893693,28.3234731 233.240549,30.3710391 C233.587404,32.4186052 233.262927,34.3906462 232.267116,36.2871623 L232.275508,36.3039456 Z"/>\n  </g>\n</svg>\n\n\n<svg id="map-marker" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M166.982777,88.6695285 C166.982777,77.8108453 163.142371,68.5410977 155.461559,60.8602858 C147.780747,53.179474 138.511,49.339068 127.652317,49.339068 C116.793633,49.339068 107.523886,53.179474 99.8430739,60.8602858 C92.1622621,68.5410977 88.3218561,77.8108453 88.3218561,88.6695285 C88.3218561,99.5282118 92.1622621,108.797959 99.8430739,116.478771 C107.523886,124.159583 116.793633,127.999989 127.652317,127.999989 C138.511,127.999989 147.780747,124.159583 155.461559,116.478771 C163.142371,108.797959 166.982777,99.5282118 166.982777,88.6695285 L166.982777,88.6695285 Z M206.321842,88.6695285 C206.321842,99.8322319 204.632522,108.998727 201.253883,116.169015 L145.325641,235.089665 C143.685079,238.468305 141.252918,241.132784 138.029157,243.083102 C134.805395,245.03342 131.349317,246.005711 127.660921,245.999975 C123.972525,245.994239 120.516447,245.021948 117.292685,243.083102 C114.068924,241.144256 111.688389,238.479777 110.151079,235.089665 L54.0679591,116.169015 C50.6893197,108.998727 49,99.8322319 49,88.6695285 C49,66.952162 56.68368,48.4126669 72.05104,33.0510432 C87.4183999,17.6894194 105.957895,10.0057394 127.669525,10.0000032 C149.381156,9.99426698 167.920651,17.677947 183.288011,33.0510432 C198.655371,48.4241394 206.339051,66.9636345 206.339051,88.6695285 L206.321842,88.6695285 Z" id="icon-map-marker"/>\n  </g>\n</svg>\n\n\n<svg id="media-article" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M118.96061,18.1745377 C118.96061,19.5513945 118.478707,20.7217287 117.514909,21.6855279 C116.551109,22.6493271 115.380775,23.1312298 114.003918,23.1312298 L4.95669217,23.1312298 C3.57983527,23.1312298 2.40950105,22.6493271 1.44570185,21.6855279 C0.48190265,20.7217287 0,19.5513945 0,18.1745377 L0,4.95669217 C0,3.57983527 0.48190265,2.40950105 1.44570185,1.44570185 C2.40950105,0.48190265 3.57983527,0 4.95669217,0 L114.003918,0 C115.380775,0 116.551109,0.48190265 117.514909,1.44570185 C118.478707,2.40950105 118.96061,3.57983527 118.96061,4.95669217 L118.96061,18.1745377 Z M4.95669217,76.0026128 C3.57983527,76.0026128 2.40950105,75.5207099 1.44570185,74.5569101 C0.48190265,73.5931118 0,72.4227775 0,71.0459196 L0,57.828074 C0,56.4512176 0.48190265,55.2808834 1.44570185,54.3170835 C2.40950105,53.3532853 3.57983527,52.8713823 4.95669217,52.8713823 L180.093146,52.8713823 C181.470003,52.8713823 182.640337,53.3532853 183.604137,54.3170835 C184.567935,55.2808834 185.049838,56.4512176 185.049838,57.828074 L185.049838,71.0459196 C185.049838,72.4227775 184.567935,73.5931118 183.604137,74.5569101 C182.640337,75.5207099 181.470003,76.0026128 180.093146,76.0026128 L4.95669217,76.0026128 Z M4.95669217,181.745377 C3.57983527,181.745377 2.40950105,181.263474 1.44570185,180.299675 C0.48190265,179.335876 0,178.165542 0,176.788684 L0,163.570839 C0,162.193982 0.48190265,161.023648 1.44570185,160.059848 C2.40950105,159.09605 3.57983527,158.614147 4.95669217,158.614147 L180.093146,158.614147 C181.470003,158.614147 182.640337,159.09605 183.604137,160.059848 C184.567935,161.023648 185.049838,162.193982 185.049838,163.570839 L185.049838,176.788684 C185.049838,178.165542 184.567935,179.335876 183.604137,180.299675 C182.640337,181.263474 181.470003,181.745377 180.093146,181.745377 L4.95669217,181.745377 Z M114.003918,105.742765 C115.380775,105.742765 116.551109,106.224668 117.514909,107.188466 C118.478707,108.152266 118.96061,109.3226 118.96061,110.699456 L118.96061,123.917302 C118.96061,125.29416 118.478707,126.464494 117.514909,127.428292 C116.551109,128.392092 115.380775,128.873995 114.003918,128.873995 L4.95669217,128.873995 C3.57983527,128.873995 2.40950105,128.392092 1.44570185,127.428292 C0.48190265,126.464494 0,125.29416 0,123.917302 L0,110.699456 C0,109.3226 0.48190265,108.152266 1.44570185,107.188466 C2.40950105,106.224668 3.57983527,105.742765 4.95669217,105.742765 L114.003918,105.742765 Z"/>\n  </g>\n</svg>\n\n\n<svg id="media-music" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M55.1913394,174.672848 C46.6103282,173.008125 36.6268115,173.640103 26.7262832,177.038918 C4.46046803,184.722858 -3.39854307,203.427898 2.51023815,218.795779 C8.40242194,234.171367 25.8383062,240.390966 48.1041213,232.707024 C67.0089015,226.186851 79.3990859,211.728403 79.0837291,198.094609 C79.0837291,198.094609 79.0837291,157.799521 79.0837291,77.2093452 L173.375265,57.1478633 L173.375265,150.002544 C164.794253,148.337818 154.810738,148.969799 144.91021,152.368612 C122.627796,160.052552 114.768786,178.757592 120.677566,194.125473 C126.586347,209.501061 144.005635,215.72066 166.288047,208.03672 C185.209426,201.516545 197.574712,187.058097 197.275955,173.424305 L197.275955,8.99178972 C197.275955,4.91868969 193.974055,1.61678972 189.900955,1.61678972 C189.416441,1.61678972 188.933108,1.66453566 188.45796,1.75933557 L62.6142165,26.8672424 C58.3033623,27.7273291 55.1994588,31.5114693 55.1992095,35.9072873 L55.1913394,174.672848 Z"/>\n  </g>\n</svg>\n\n\n<svg id="media-video" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M168.208819,84.995565 C172.44049,87.3670546 175.283638,90.6607884 176.738276,94.8767721 C178.192914,99.0927558 178.192914,103.308734 176.738276,107.524717 C175.283638,111.740701 172.44049,115.034435 168.208819,117.405925 L28.5637616,199.617567 C24.5965726,201.989056 20.3649022,202.779553 15.8687566,201.989056 C11.3726108,201.198559 7.60378118,199.090571 4.56226745,195.665084 C1.52075372,192.239596 0,188.155367 0,183.412388 L0,18.9891028 C0,13.7191278 1.58687556,9.43726757 4.76062687,6.14353376 C7.93437818,2.84980013 11.7693298,0.873558707 16.2654754,0.214809667 C20.761621,-0.443939562 24.8610539,0.412433772 28.5637616,2.78392341 L168.208819,84.995565 Z"/>\n  </g>\n</svg>\n\n\n<svg id="menu" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M246,197.166667 L246,216.833333 C246,219.496528 245.02691,221.801215 243.080729,223.747396 C241.134549,225.693576 238.829861,226.666667 236.166667,226.666667 L19.8333333,226.666667 C17.1701389,226.666667 14.8654514,225.693576 12.9192708,223.747396 C10.9730903,221.801215 10,219.496528 10,216.833333 L10,197.166667 C10,194.503472 10.9730903,192.198785 12.9192708,190.252604 C14.8654514,188.306424 17.1701389,187.333333 19.8333333,187.333333 L236.166667,187.333333 C238.829861,187.333333 241.134549,188.306424 243.080729,190.252604 C245.02691,192.198785 246,194.503472 246,197.166667 Z M246,118.5 L246,138.166667 C246,140.829861 245.02691,143.134549 243.080729,145.080729 C241.134549,147.02691 238.829861,148 236.166667,148 L19.8333333,148 C17.1701389,148 14.8654514,147.02691 12.9192708,145.080729 C10.9730903,143.134549 10,140.829861 10,138.166667 L10,118.5 C10,115.836806 10.9730903,113.532118 12.9192708,111.585938 C14.8654514,109.639757 17.1701389,108.666667 19.8333333,108.666667 L236.166667,108.666667 C238.829861,108.666667 241.134549,109.639757 243.080729,111.585938 C245.02691,113.532118 246,115.836806 246,118.5 Z M246,39.8333333 L246,59.5 C246,62.1631944 245.02691,64.4678819 243.080729,66.4140625 C241.134549,68.3602431 238.829861,69.3333333 236.166667,69.3333333 L19.8333333,69.3333333 C17.1701389,69.3333333 14.8654514,68.3602431 12.9192708,66.4140625 C10.9730903,64.4678819 10,62.1631944 10,59.5 L10,39.8333333 C10,37.1701389 10.9730903,34.8654514 12.9192708,32.9192708 C14.8654514,30.9730903 17.1701389,30 19.8333333,30 L236.166667,30 C238.829861,30 241.134549,30.9730903 243.080729,32.9192708 C245.02691,34.8654514 246,37.1701389 246,39.8333333 Z" id="Shape"/>\n  </g>\n</svg>\n\n\n<svg id="media-podcast" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M30.8570701,41.150981 C30.8570701,29.7201507 34.8570578,20.0039512 42.8570411,12.0023695 C50.8570244,4.00078768 60.5712818,0 71.9998291,0 C83.4283749,0 93.1426323,4.00078768 101.142616,12.0023695 C109.142599,20.0039512 113.142588,29.7201507 113.142588,41.150981 L113.142588,109.735949 C113.142588,121.166779 109.142599,130.882979 101.142616,138.884561 C93.1426323,146.886143 83.4283749,150.88693 71.9998291,150.88693 C60.5712818,150.88693 50.8570244,146.886143 42.8570411,138.884561 C34.8570578,130.882979 30.8570701,121.166779 30.8570701,109.735949 L30.8570701,41.150981 Z M138.856812,85.7312112 C140.285378,85.7312112 141.499665,86.2313108 142.499661,87.2315068 C143.499655,88.2317012 143.999657,89.4462325 143.999657,90.8750835 L143.999657,109.735949 C143.999657,121.738318 141.28538,132.811931 135.856819,142.956793 C130.428258,153.101656 122.999706,161.531887 113.571157,168.247501 C104.142609,174.963115 93.7140638,179.178229 82.2855181,180.892854 L82.2855181,200.611033 L111.428306,200.611033 C112.856872,200.611033 114.071159,201.111134 115.071155,202.111328 C116.071149,203.111524 116.571151,204.326054 116.571151,205.754905 L116.571151,214.328026 C116.571151,215.756877 116.071149,216.971407 115.071155,217.971603 C114.071159,218.971798 112.856872,219.471899 111.428306,219.471899 L32.5713505,219.471899 C31.1427851,219.471899 29.9284979,218.971798 28.9285018,217.971603 C27.9285073,216.971407 27.428506,215.756877 27.428506,214.328026 L27.428506,205.754905 C27.428506,204.326054 27.9285073,203.111524 28.9285018,202.111328 C29.9284979,201.111134 31.1427851,200.611033 32.5713505,200.611033 L61.7141385,200.611033 L61.7141385,180.892854 C50.2855928,179.178229 39.8570479,174.963115 30.4284992,168.247501 C20.9999499,161.531887 13.5713984,153.101656 8.14283778,142.956793 C2.71427705,132.811931 0,121.738318 0,109.735949 L0,90.8750835 C0,89.4462325 0.500000914,88.2317012 1.49999641,87.2315068 C2.49999191,86.2313108 3.71427903,85.7312112 5.14284496,85.7312112 L15.4285347,85.7312112 C16.8571005,85.7312112 18.0713876,86.2313108 19.0713831,87.2315068 C20.0713786,88.2317012 20.5713795,89.4462325 20.5713795,90.8750835 L20.5713795,109.735949 C20.5713795,119.166382 22.9285168,127.810948 27.6427907,135.669641 C32.3570658,143.528332 38.6427671,149.743845 46.4998898,154.31618 C54.3570108,158.888512 62.9284193,161.174676 72.2141138,161.174676 C81.4998082,161.174676 90.0712167,158.817068 97.9283378,154.101851 C105.78546,149.386635 111.999731,143.028238 116.571151,135.026657 C121.14257,127.025075 123.428277,118.451954 123.428277,109.307293 L123.428277,90.8750835 C123.428277,89.4462325 123.928278,88.2317012 124.928273,87.2315068 C125.928269,86.2313108 127.142556,85.7312112 128.571122,85.7312112 L138.856812,85.7312112 Z"/>\n  </g>\n</svg>\n\n\n<svg id="minus" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M24.9928573,112.443651 L231.007143,112.443651 C233.768566,112.443651 236.007143,114.682227 236.007143,117.443651 L236.007143,138.556349 C236.007143,141.317773 233.768566,143.556349 231.007143,143.556349 L24.9928573,143.556349 C22.2314336,143.556349 19.9928573,141.317773 19.9928573,138.556349 L19.9928573,117.443651 C19.9928573,114.682227 22.2314336,112.443651 24.9928573,112.443651 Z"/>\n  </g>\n</svg>\n\n\n<svg id="menu-thin" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M242.852679,47.6875 L14.1473214,47.6875 C12.4091038,47.6875 11,46.5915304 11,45.2395833 L11,35.4479167 C11,34.0959696 12.4091038,33 14.1473214,33 L242.852679,33 C244.590896,33 246,34.0959696 246,35.4479167 L246,45.2395833 C246,46.5915304 244.590896,47.6875 242.852679,47.6875 Z M242.852679,135.8125 L14.1473214,135.8125 C12.4091038,135.8125 11,134.71653 11,133.364583 L11,123.572917 C11,122.22097 12.4091038,121.125 14.1473214,121.125 L242.852679,121.125 C244.590896,121.125 246,122.22097 246,123.572917 L246,133.364583 C246,134.71653 244.590896,135.8125 242.852679,135.8125 Z M242.852679,223.9375 L14.1473214,223.9375 C12.4091038,223.9375 11,222.84153 11,221.489583 L11,211.697917 C11,210.34597 12.4091038,209.25 14.1473214,209.25 L242.852679,209.25 C244.590896,209.25 246,210.34597 246,211.697917 L246,221.489583 C246,222.84153 244.590896,223.9375 242.852679,223.9375 Z"/>\n  </g>\n</svg>\n\n\n<svg id="play-thin" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M128,246 C62.8303995,246 10,193.1696 10,128 C10,62.8303995 62.8303995,10 128,10 C193.1696,10 246,62.8303995 246,128 C246,193.1696 193.1696,246 128,246 Z M127.5,236 C187.422895,236 236,187.422895 236,127.5 C236,67.5771046 187.422895,19 127.5,19 C67.5771046,19 19,67.5771046 19,127.5 C19,187.422895 67.5771046,236 127.5,236 Z M106.752202,87.4098467 L173.600769,127.518987 C175.968671,128.939728 176.736496,132.011029 175.315755,134.37893 C174.893506,135.082678 174.304517,135.671667 173.600769,136.093916 L106.752202,176.203057 C104.384301,177.623797 101.313,176.855972 99.8922589,174.488071 C99.4260127,173.710994 99.1797235,172.821812 99.1797235,171.915592 L99.1797235,91.6973113 C99.1797235,88.9358876 101.4183,86.6973113 104.179724,86.6973113 C105.085943,86.6973113 105.975125,86.9436005 106.752202,87.4098467 Z" id="Oval"/>\n  </g>\n</svg>\n\n\n<svg id="plus" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M143.556349,112.443651 L231.007143,112.443651 C233.768566,112.443651 236.007143,114.682227 236.007143,117.443651 L236.007143,138.556349 C236.007143,141.317773 233.768566,143.556349 231.007143,143.556349 L143.556349,143.556349 L143.556349,231.007143 C143.556349,233.768566 141.317773,236.007143 138.556349,236.007143 L117.443651,236.007143 C114.682227,236.007143 112.443651,233.768566 112.443651,231.007143 L112.443651,143.556349 L24.9928573,143.556349 C22.2314336,143.556349 19.9928573,141.317773 19.9928573,138.556349 L19.9928573,117.443651 C19.9928573,114.682227 22.2314336,112.443651 24.9928573,112.443651 L112.443651,112.443651 L112.443651,24.9928573 C112.443651,22.2314336 114.682227,19.9928573 117.443651,19.9928573 L138.556349,19.9928573 C141.317773,19.9928573 143.556349,22.2314336 143.556349,24.9928573 L143.556349,112.443651 Z"/>\n  </g>\n</svg>\n\n\n<svg id="question-circle" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M147.666667,201.75 L147.666667,172.25 C147.666667,170.815972 147.205729,169.638021 146.283854,168.716146 C145.361979,167.794271 144.184028,167.333333 142.75,167.333333 L113.25,167.333333 C111.815972,167.333333 110.638021,167.794271 109.716146,168.716146 C108.794271,169.638021 108.333333,170.815972 108.333333,172.25 L108.333333,201.75 C108.333333,203.184028 108.794271,204.361979 109.716146,205.283854 C110.638021,206.205729 111.815972,206.666667 113.25,206.666667 L142.75,206.666667 C144.184028,206.666667 145.361979,206.205729 146.283854,205.283854 C147.205729,204.361979 147.666667,203.184028 147.666667,201.75 Z M187,98.5 C187,89.4861111 184.157552,81.1380208 178.472656,73.4557292 C172.78776,65.7734375 165.694444,59.8324653 157.192708,55.6328125 C148.690972,51.4331597 139.984375,49.3333333 131.072917,49.3333333 C106.182292,49.3333333 87.1814236,60.2421875 74.0703125,82.0598958 C72.5338542,84.5182292 72.9435764,86.6692708 75.2994792,88.5130208 L95.5807292,103.877604 C96.2977431,104.492187 97.2708333,104.799479 98.5,104.799479 C100.138889,104.799479 101.419271,104.184896 102.341146,102.955729 C107.769965,95.9904514 112.174479,91.2786458 115.554687,88.8203125 C119.037326,86.3619792 123.44184,85.1328125 128.768229,85.1328125 C133.684896,85.1328125 138.063802,86.4644097 141.904948,89.1276042 C145.746094,91.7907986 147.666667,94.8125 147.666667,98.1927083 C147.666667,102.085069 146.642361,105.209201 144.59375,107.565104 C142.545139,109.921007 139.0625,112.225694 134.145833,114.479167 C127.692708,117.347222 121.777344,121.777344 116.39974,127.769531 C111.022135,133.761719 108.333333,140.189236 108.333333,147.052083 L108.333333,152.583333 C108.333333,154.017361 108.794271,155.195312 109.716146,156.117187 C110.638021,157.039062 111.815972,157.5 113.25,157.5 L142.75,157.5 C144.184028,157.5 145.361979,157.039062 146.283854,156.117187 C147.205729,155.195312 147.666667,154.017361 147.666667,152.583333 C147.666667,150.637153 148.767795,148.101997 150.970052,144.977865 C153.172309,141.853733 155.963542,139.318576 159.34375,137.372396 C162.621528,135.528646 165.131076,134.06901 166.872396,132.99349 C168.613715,131.917969 170.969618,130.125434 173.940104,127.615885 C176.91059,125.106337 179.18967,122.648003 180.777344,120.240885 C182.365017,117.833767 183.799045,114.735243 185.079427,110.945312 C186.359809,107.155382 187,103.006944 187,98.5 Z M246,128 C246,149.407986 240.724826,169.151476 230.174479,187.230469 C219.624132,205.309462 205.309462,219.624132 187.230469,230.174479 C169.151476,240.724826 149.407986,246 128,246 C106.592014,246 86.8485243,240.724826 68.7695312,230.174479 C50.6905382,219.624132 36.3758681,205.309462 25.8255208,187.230469 C15.2751736,169.151476 10,149.407986 10,128 C10,106.592014 15.2751736,86.8485243 25.8255208,68.7695312 C36.3758681,50.6905382 50.6905382,36.3758681 68.7695312,25.8255208 C86.8485243,15.2751736 106.592014,10 128,10 C149.407986,10 169.151476,15.2751736 187.230469,25.8255208 C205.309462,36.3758681 219.624132,50.6905382 230.174479,68.7695312 C240.724826,86.8485243 246,106.592014 246,128 Z" id="Shape"/>\n  </g>\n</svg>\n\n\n<svg id="screwhead-crds" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M127.580943,10 C62.6546385,10 10,62.6332815 10,127.609527 C10,192.549734 62.6546385,245.219054 127.580943,245.219054 C192.525268,245.219054 245.215947,192.549734 245.215947,127.609527 C245.215947,62.6332815 192.525268,10 127.580943,10 L127.580943,10 Z M168.984783,193.681891 L126.925945,151.571662 L85.7140495,192.816982 L61.0986367,168.149073 L102.274492,126.939791 L61.7473592,86.4152271 L86.380792,61.7112802 L126.925945,102.2899 L168.101801,61.0986367 L192.753253,85.7485269 L151.613438,126.939791 L193.654257,169.032 L168.984783,193.681891 Z"/>\n  </g>\n</svg>\n\n\n<svg id="search-thin" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M244.375275,231.976661 L184.91724,172.518627 C183.857136,171.458523 182.474391,170.905425 180.999463,170.905425 L176.252038,170.905425 C192.061423,153.805478 201.740638,130.990186 201.740638,105.870319 C201.740638,52.911186 158.829452,10 105.870319,10 C52.911186,10 10,52.911186 10,105.870319 C10,158.829452 52.911186,201.740638 105.870319,201.740638 C130.990186,201.740638 153.805478,192.061423 170.905425,176.29813 L170.905425,180.999463 C170.905425,182.474391 171.504614,183.857136 172.518627,184.91724 L231.976661,244.375275 C234.142962,246.541575 237.645916,246.541575 239.812216,244.375275 L244.375275,239.812216 C246.541575,237.645916 246.541575,234.142962 244.375275,231.976661 Z M105.870319,186.991358 C61.0232899,186.991358 24.7492798,150.717348 24.7492798,105.870319 C24.7492798,61.0232899 61.0232899,24.7492798 105.870319,24.7492798 C150.717348,24.7492798 186.991358,61.0232899 186.991358,105.870319 C186.991358,150.717348 150.717348,186.991358 105.870319,186.991358 Z"/>\n  </g>\n</svg>\n\n\n<svg id="search" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M240.698218,209.667105 L184.255946,153.224833 C192.769898,139.230958 197.671022,122.828531 197.671022,105.249835 C197.671022,54.2221374 153.439549,10 102.402516,10 C51.3748181,10 10,51.3748181 10,102.402516 C10,153.439549 54.212802,197.671022 105.249835,197.671022 C122.221726,197.671022 138.110701,193.068633 151.777834,185.077468 L208.518842,241.837146 C214.092119,247.391753 223.08218,247.391753 228.627451,241.837146 L242.714681,227.768588 C248.259952,222.213981 246.24349,215.221712 240.698218,209.67644 L240.698218,209.667105 Z M38.4358519,102.39318 C38.4358519,67.0677488 67.0677488,38.417181 102.39318,38.417181 C137.737282,38.417181 169.216499,69.9057327 169.216499,105.2405 C169.216499,140.575266 140.584602,169.216499 105.2405,169.216499 C69.8963973,169.216499 38.4265165,137.727947 38.4265165,102.39318 L38.4358519,102.39318 Z" id="Shape"/>\n  </g>\n</svg>\n\n\n<svg id="share" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M166.681137,166.997714 L233.268624,100.410228 C235.662638,98.0162136 236.859645,95.1772944 236.859645,91.8934699 C236.859645,88.6096454 235.662638,85.7707262 233.268624,83.3767122 L166.681137,16.7892258 C162.895912,12.8768844 158.545727,11.9941358 153.630583,14.1409802 C148.588324,16.2878246 146.067194,20.0094924 146.067194,25.3059835 L146.067194,55.5701338 C131.060469,55.5701338 117.441425,56.7989197 105.210062,59.2564916 C92.978698,61.7140635 82.7317532,64.9307991 74.4692271,68.9066984 C66.2067009,72.8825978 59.017597,77.8648304 52.9019152,83.8533964 C46.7862335,89.8419623 41.9628956,95.8623072 38.4319015,101.914431 C34.9009074,107.966555 32.0937671,114.837869 30.0104806,122.528375 C27.9271941,130.21888 26.5712924,137.249089 25.9427754,143.619002 C25.3142585,149.988915 25,156.955567 25,164.518956 C25,187.343302 35.5294243,212.815893 56.588273,240.93673 C57.8523689,242.447995 59.4271923,243.203628 61.3127431,243.203628 C62.1954916,243.203628 63.0146823,243.012955 63.770315,242.631607 C66.5456763,241.494627 67.7426833,239.414872 67.361336,236.392341 C61.8106133,191.753513 65.7194237,161.930737 79.0877673,146.924013 C84.8856596,140.363426 93.0810969,135.603646 103.674079,132.644673 C114.267061,129.6857 128.391038,128.202682 146.046008,128.19562 L146.046008,158.45977 C146.046008,163.756261 148.567138,167.477929 153.609397,169.624774 C155.120663,170.253291 156.635459,170.567549 158.153787,170.567549 C161.430549,170.567549 164.269469,169.370542 166.670544,166.976528 L166.681137,166.997714 Z"/>\n  </g>\n</svg>\n\n\n<svg id="twitter" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M246,54.7614213 C239.311337,64.5448393 231.225042,72.8807107 221.741117,79.7690355 C221.840948,81.1666667 221.890863,83.2631134 221.890863,86.0583756 C221.890863,99.036379 219.994078,111.989425 216.200508,124.917513 C212.406937,137.845601 206.641709,150.249577 198.904822,162.129442 C191.167936,174.009306 181.958545,184.516497 171.27665,193.651015 C160.594755,202.785533 147.716582,210.073181 132.642132,215.513959 C117.567682,220.954738 101.445008,223.675127 84.2741117,223.675127 C57.2199662,223.675127 32.4619289,216.437394 10,201.961929 C13.4940778,202.361252 17.3874788,202.560914 21.680203,202.560914 C44.142132,202.560914 64.1582064,195.672589 81.7284264,181.895939 C71.2461929,181.696277 61.8620981,178.476734 53.5761421,172.23731 C45.2901861,165.997885 39.5998308,158.036379 36.5050761,148.352792 C39.7994924,148.851946 42.8443316,149.101523 45.6395939,149.101523 C49.9323181,149.101523 54.1751269,148.552453 58.3680203,147.454315 C47.1869712,145.158206 37.927665,139.59264 30.5901015,130.757614 C23.2525381,121.922589 19.5837563,111.664975 19.5837563,99.9847716 L19.5837563,99.3857868 C26.3722504,103.179357 33.6598985,105.225888 41.4467005,105.525381 C34.857868,101.132826 29.6167513,95.392555 25.7233503,88.3045685 C21.8299492,81.2165821 19.8832487,73.5296108 19.8832487,65.2436548 C19.8832487,56.4585448 22.0795262,48.322335 26.4720812,40.8350254 C38.5516074,55.7098139 53.251692,67.6146362 70.572335,76.5494924 C87.892978,85.4843486 106.436548,90.4509306 126.203046,91.4492386 C125.404399,87.6556684 125.005076,83.9619289 125.005076,80.3680203 C125.005076,66.9906937 129.722081,55.5850254 139.156091,46.1510152 C148.590102,36.7170051 159.99577,32 173.373096,32 C187.349408,32 199.129442,37.0913706 208.713198,47.2741117 C219.594755,45.177665 229.827411,41.284264 239.411168,35.5939086 C235.717428,47.0744501 228.629442,55.9593909 218.147208,62.248731 C227.431472,61.250423 236.715736,58.7546531 246,54.7614213 Z"/>\n  </g>\n</svg>\n\n\n<svg id="university" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M240.5,218 L233,218 L233,199.25 C233,193.036719 227.963281,188 221.75,188 L203,188 L203,105.5 L188,105.5 L188,188 L158,188 L158,105.5 L143,105.5 L143,188 L113,188 L113,105.5 L98,105.5 L98,188 L68,188 L68,105.5 L53,105.5 L53,188 L34.25,188 C28.0367187,188 23,193.036719 23,199.25 L23,218 L15.5,218 C11.3576562,218 8,221.357656 8,225.5 L8,229.25 C8,231.321068 9.67893219,233 11.75,233 L244.25,233 C246.321068,233 248,231.321068 248,229.25 L248,225.5 C248,221.357656 244.642344,218 240.5,218 Z M38,203 L218,203 L218,218 L38,218 L38,203 Z M244.375156,71.75 L135.115156,24.1545312 C130.496612,22.6151514 125.503388,22.6151514 120.884844,24.1545312 L11.6248438,71.75 C9.44237398,72.5801719 7.99981425,74.6724712 8,77.0075 L8,81.125 C8,84.2314062 10.5185938,86.75 13.625,86.75 L23,86.75 L23,92.375 C23,95.4814062 25.5185937,98 28.625,98 L227.375,98 C230.481406,98 233,95.4814062 233,92.375 L233,86.75 L242.375,86.75 C245.481406,86.75 248,84.2314062 248,81.125 L248,77.0075 C248,74.6721875 246.557656,72.5801562 244.375156,71.75 Z M218,83 L38,83 L38,76.6221875 L126.098281,38.2451562 C127.345044,37.9184307 128.654956,37.9184307 129.901719,38.2451562 L218,76.6221875 L218,83 Z"/>\n  </g>\n</svg>\n\n\n<svg id="usd" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M189.745026,166.060268 C189.745026,179.493304 185.381782,191.06064 176.655293,200.762277 C167.928804,210.463914 156.593139,216.456101 142.648298,218.738839 L142.648298,241.785714 C142.648298,243.014881 142.253632,244.024554 141.464302,244.814732 C140.674971,245.604911 139.666382,246 138.438534,246 L120.678595,246 C119.538451,246 118.551787,245.582961 117.718605,244.748884 C116.885423,243.914807 116.468831,242.927083 116.468831,241.785714 L116.468831,218.738839 C110.680407,217.948661 105.089315,216.587798 99.6955553,214.65625 C94.3017959,212.724702 89.8508481,210.771205 86.3427119,208.795759 C82.8345757,206.820313 79.5895497,204.71317 76.6076339,202.47433 C73.6257182,200.235491 71.586614,198.589286 70.4903214,197.535714 C69.3940289,196.482143 68.6266241,195.691964 68.1881071,195.165179 C66.6971492,193.321429 66.6094458,191.521577 67.9249968,189.765625 L81.4751729,171.986607 C82.0890967,171.108631 83.0976859,170.581845 84.5009404,170.40625 C85.8164914,170.230655 86.8689323,170.625744 87.6582629,171.591518 L87.9213732,171.854911 C97.8318579,180.546875 108.487822,186.034226 119.889264,188.316964 C123.13429,189.019345 126.379316,189.370536 129.624342,189.370536 C136.728318,189.370536 142.977186,187.482887 148.370945,183.707589 C153.764704,179.932292 156.461584,174.576637 156.461584,167.640625 C156.461584,165.182292 155.803809,162.855655 154.488257,160.660714 C153.172706,158.465774 151.703674,156.622024 150.081161,155.129464 C148.458648,153.636905 145.893324,151.990699 142.385188,150.190848 C138.877051,148.390997 135.982839,146.986235 133.70255,145.976563 C131.422262,144.96689 127.914126,143.540179 123.178142,141.696429 C119.757709,140.291667 117.060829,139.194196 115.087503,138.404018 C113.114176,137.613839 110.417296,136.450521 106.996864,134.914063 C103.576431,133.377604 100.8357,132.016741 98.7746695,130.831473 C96.7136395,129.646205 94.2360183,128.087798 91.3418059,126.15625 C88.4475936,124.224702 86.1015275,122.359003 84.3036077,120.559152 C82.5056879,118.759301 80.5981388,116.608259 78.5809605,114.106027 C76.5637822,111.603795 75.0070468,109.057664 73.9107542,106.467634 C72.8144617,103.877604 71.8935759,100.958333 71.148097,97.7098214 C70.402618,94.4613095 70.0298786,91.0372024 70.0298786,87.4375 C70.0298786,75.3214286 74.3273454,64.6979167 82.9222791,55.5669643 C91.5172128,46.4360119 102.699397,40.5535714 116.468831,37.9196429 L116.468831,14.2142857 C116.468831,13.0729167 116.885423,12.0851935 117.718605,11.2511161 C118.551787,10.4170387 119.538451,10 120.678595,10 L138.438534,10 C139.666382,10 140.674971,10.3950893 141.464302,11.1852679 C142.253632,11.9754464 142.648298,12.985119 142.648298,14.2142857 L142.648298,37.3928571 C147.647392,37.9196429 152.493005,38.9293155 157.185137,40.421875 C161.877269,41.9144345 165.692367,43.3850446 168.630431,44.8337054 C171.568496,46.2823661 174.353079,47.9285714 176.984181,49.7723214 C179.615283,51.6160714 181.325499,52.8891369 182.11483,53.5915179 C182.904161,54.2938988 183.561936,54.9084821 184.088157,55.4352679 C185.579114,57.015625 185.798373,58.6837798 184.745932,60.4397321 L174.089968,79.6674107 C173.388341,80.984375 172.379752,81.686756 171.064201,81.7745536 C169.836353,82.0379464 168.652357,81.7306548 167.512213,80.8526786 C167.249103,80.5892857 166.613253,80.0625 165.604664,79.2723214 C164.596075,78.4821429 162.885858,77.3188244 160.474015,75.7823661 C158.062171,74.2459077 155.496847,72.8411458 152.778041,71.5680804 C150.059235,70.2950149 146.792284,69.1536458 142.977186,68.1439732 C139.162087,67.1343006 135.412767,66.6294643 131.729224,66.6294643 C123.3974,66.6294643 116.600387,68.5171131 111.338182,72.2924107 C106.075978,76.0677083 103.444876,80.9404762 103.444876,86.9107143 C103.444876,89.1934524 103.817615,91.3005952 104.563094,93.2321429 C105.308573,95.1636905 106.602198,96.9854911 108.44397,98.6975446 C110.285741,100.409598 112.017884,101.858259 113.640397,103.043527 C115.26291,104.228795 117.718605,105.589658 121.007483,107.126116 C124.29636,108.662574 126.949388,109.847842 128.966567,110.68192 C130.983745,111.515997 134.053364,112.723214 138.175424,114.303571 C142.823705,116.059524 146.375692,117.442336 148.831388,118.452009 C151.287083,119.461682 154.619813,120.99814 158.829576,123.061384 C163.039339,125.124628 166.350143,126.990327 168.761987,128.658482 C171.17383,130.326637 173.892636,132.521577 176.918403,135.243304 C179.944171,137.96503 182.268311,140.752604 183.890824,143.606027 C185.513337,146.459449 186.894666,149.817708 188.03481,153.680804 C189.174954,157.543899 189.745026,161.670387 189.745026,166.060268 Z" id="Shape"/>\n  </g>\n</svg>\n\n\n<svg id="youtube" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M178.571429,128.285714 C178.571429,125.037202 177.254464,122.666667 174.620536,121.174107 L107.191964,79.03125 C104.470238,77.2752976 101.616815,77.1875 98.6316964,78.7678571 C95.734375,80.3482143 94.2857143,82.8065476 94.2857143,86.1428571 L94.2857143,170.428571 C94.2857143,173.764881 95.734375,176.223214 98.6316964,177.803571 C100.036458,178.505952 101.397321,178.857143 102.714286,178.857143 C104.470238,178.857143 105.962798,178.418155 107.191964,177.540179 L174.620536,135.397321 C177.254464,133.904762 178.571429,131.534226 178.571429,128.285714 Z M246,128.285714 C246,136.714286 245.956101,143.299107 245.868304,148.040179 C245.780506,152.78125 245.407366,158.773438 244.748884,166.016741 C244.090402,173.260045 243.102679,179.735119 241.785714,185.441964 C240.380952,191.85119 237.351935,197.250744 232.698661,201.640625 C228.045387,206.030506 222.601935,208.576637 216.368304,209.279018 C196.877232,211.473958 167.421131,212.571429 128,212.571429 C88.578869,212.571429 59.1227679,211.473958 39.6316964,209.279018 C33.3980655,208.576637 27.9326637,206.030506 23.2354911,201.640625 C18.5383185,197.250744 15.4873512,191.85119 14.0825893,185.441964 C12.8534226,179.735119 11.9095982,173.260045 11.2511161,166.016741 C10.5926339,158.773438 10.219494,152.78125 10.1316964,148.040179 C10.0438988,143.299107 10,136.714286 10,128.285714 C10,119.857143 10.0438988,113.272321 10.1316964,108.53125 C10.219494,103.790179 10.5926339,97.7979911 11.2511161,90.5546875 C11.9095982,83.3113839 12.8973214,76.8363095 14.2142857,71.1294643 C15.6190476,64.7202381 18.6480655,59.3206845 23.3013393,54.9308036 C27.9546131,50.5409226 33.3980655,47.9947917 39.6316964,47.2924107 C59.1227679,45.0974702 88.578869,44 128,44 C167.421131,44 196.877232,45.0974702 216.368304,47.2924107 C222.601935,47.9947917 228.067336,50.5409226 232.764509,54.9308036 C237.461682,59.3206845 240.512649,64.7202381 241.917411,71.1294643 C243.146577,76.8363095 244.090402,83.3113839 244.748884,90.5546875 C245.407366,97.7979911 245.780506,103.790179 245.868304,108.53125 C245.956101,113.272321 246,119.857143 246,128.285714 Z"/>\n  </g>\n</svg>\n\n\n<svg id="user-plus-thin" width="256" height="256" viewBox="0 0 256 256">\n  <g>\n    <path d="M243.05,116.6 L210.6,116.6 L210.6,84.15 C210.6,82.5275 209.2725,81.2 207.65,81.2 L201.75,81.2 C200.1275,81.2 198.8,82.5275 198.8,84.15 L198.8,116.6 L166.35,116.6 C164.7275,116.6 163.4,117.9275 163.4,119.55 L163.4,125.45 C163.4,127.0725 164.7275,128.4 166.35,128.4 L198.8,128.4 L198.8,160.85 C198.8,162.4725 200.1275,163.8 201.75,163.8 L207.65,163.8 C209.2725,163.8 210.6,162.4725 210.6,160.85 L210.6,128.4 L243.05,128.4 C244.6725,128.4 246,127.0725 246,125.45 L246,119.55 C246,117.9275 244.6725,116.6 243.05,116.6 Z M125.64,140.2 C115.056875,140.2 109.968125,146.1 92.6,146.1 C75.231875,146.1 70.18,140.2 59.56,140.2 C32.19875,140.2 10,162.39875 10,189.76 L10,205.1 C10,214.871875 17.928125,222.8 27.7,222.8 L157.5,222.8 C167.271875,222.8 175.2,214.871875 175.2,205.1 L175.2,189.76 C175.2,162.39875 153.00125,140.2 125.64,140.2 Z M163.4,205.1 C163.4,208.345 160.745,211 157.5,211 L27.7,211 C24.455,211 21.8,208.345 21.8,205.1 L21.8,189.76 C21.8,168.925625 38.725625,152 59.56,152 C66.7875,152 73.978125,157.9 92.6,157.9 C111.185,157.9 118.4125,152 125.64,152 C146.474375,152 163.4,168.925625 163.4,189.76 L163.4,205.1 Z M92.6,128.4 C118.670625,128.4 139.8,107.270625 139.8,81.2 C139.8,55.129375 118.670625,34 92.6,34 C66.529375,34 45.4,55.129375 45.4,81.2 C45.4,107.270625 66.529375,128.4 92.6,128.4 Z M92.6,45.8 C112.106875,45.8 128,61.693125 128,81.2 C128,100.706875 112.106875,116.6 92.6,116.6 C73.093125,116.6 57.2,100.706875 57.2,81.2 C57.2,61.693125 73.093125,45.8 92.6,45.8 Z" id="Shape" fill-rule="nonzero"/>\n  </g>\n</svg></svg>',"text/html").getElementById(this.name);return t.setAttribute("preserveAspectRatio","none"),t.setAttribute("height",`${this.size}px`),t.setAttribute("width",`${this.size}px`),t.getElementsByTagName("path")[0].setAttribute("fill",nt[this.color]),n("div",{class:"svg-container",innerHTML:t.outerHTML})}static get style(){return".svg-container svg{display:block}"}},rt=class{constructor(n){t(this,n),this.imgDidLoad=!1,this.sizes=["card","thumbnail","overlay","media-object"]}validateSize(){if(-1==this.sizes.indexOf(this.size))throw new Error(`${this.size} is an invalid value for crds-image size`)}connectedCallback(){this.validateSize()}addObserver(){const t=new Image;t.classList.add("crds-img"),t.onload=()=>{this.imgDidLoad=!0,this.cachedImg=t,t.classList.add("loaded")},new IntersectionObserver(n=>{n.forEach(n=>{n.isIntersecting&&n.intersectionRatio>=0&&(t.src=this.src)})},{threshold:0}).observe(this.imgWrapper)}componentDidLoad(){this.addObserver()}render(){const{imgDidLoad:t,cachedImg:i,size:r}=this;return n("div",{class:`crds-img-container ${r}`,innerHTML:t?i.outerHTML:"",ref:t=>this.imgWrapper=t})}static get style(){return".crds-img-container{display:block;position:relative;overflow:hidden}.crds-img-container.card{height:202px}.crds-img-container.thumbnail{height:65px}.crds-img-container .crds-img{height:100%}.crds-img-container .crds-img.loaded{-webkit-animation-name:fade-in;animation-name:fade-in;-webkit-animation-duration:1s;animation-duration:1s}\@-webkit-keyframes fade-in{0%{visibility:hidden;-webkit-filter:blur(20px);filter:blur(20px)}50%{-webkit-filter:blur(20px);filter:blur(20px)}to{-webkit-filter:blur(.1px);filter:blur(.1px)}}\@keyframes fade-in{0%{visibility:hidden;-webkit-filter:blur(20px);filter:blur(20px)}50%{-webkit-filter:blur(20px);filter:blur(20px)}to{-webkit-filter:blur(.1px);filter:blur(.1px)}}"}},et=class{constructor(n){t(this,n),this.contentLayout="default",this.isVisible=!1,this.childProps={},this.propNames=["imageSrc","heading","meta","metaPosition","body","url","thumbnailSrc","contentType"],this.contentLayouts=["default","overlay","media-object"],this.contentTypes=["article","video","episode","message","song","series","album","podcast"],this.metaPositions=["top","bottom"]}validateContentType(){if(void 0!==this.contentType&&!this.contentTypes.includes(this.contentType))throw new Error(`${this.contentType} is not a valid value for contentType`)}validateContentLayout(){if(void 0!==this.contentLayout&&!this.contentLayouts.includes(this.contentLayout))throw new Error(`${this.contentLayout} is not a valid value for contentLayout`)}validateImage(){if(void 0===this.imageSrc)throw new Error("imageSrc property is required on all media cards")}validateMeta(){if(void 0!==this.meta&&void 0===this.metaPosition)throw new Error("metaPosition is required if you want to provide a meta")}validateMetaPosition(){if(void 0!==this.metaPosition&&!this.metaPositions.includes(this.metaPosition))throw new Error(`${this.metaPosition} is not a valid value for metaPosition`);if(void 0===this.meta&&void 0!==this.metaPosition)throw new Error("Meta is required if you want to provide a meta posittion")}componentDidLoad(){if(!document.getElementById("card-anchor-style")){const t=document.createElement("style");t.innerText="crds-media-card a {\n        text-decoration: none;\n        color: #0095D9;\n      }",t.id="card-anchor-style",this.element.before(t)}}componentWillLoad(){this.propNames.filter(t=>null!=this[t]).forEach(t=>{this.childProps[t]=this[t]})}runValidations(){this.validateImage(),this.validateContentLayout(),this.validateContentType(),this.validateMeta(),this.validateMetaPosition()}connectedCallback(){this.runValidations()}render(){return n("div",null,"default"==this.contentLayout&&n("crds-default-card",Object.assign({},this.childProps),n("slot",null)),"overlay"==this.contentLayout&&n("crds-overlay-card",Object.assign({},this.childProps)),"media-object"==this.contentLayout&&n("crds-media-object-card",Object.assign({},this.childProps),n("slot",null)))}get element(){return i(this)}static get style(){return""}},st=class{constructor(n){t(this,n),this.isActive=!1,this.handleInnerClick=t=>{t.stopPropagation()},this.closeModal=()=>{this.isActive=!1,"function"==typeof this.onModalClose&&this.onModalClose()}}componentDidUpdate(){document.body.appendChild(this.element)}render(){return n("div",{class:`modal ${this.isActive?"is-active":""}`,id:"subscribeModalForm",tabindex:"-1",onClick:this.closeModal},n("div",{class:"modal-content",onClick:this.handleInnerClick},n("div",{class:"modal-header"},n("button",{type:"button",class:"modal-close",onClick:this.closeModal})),n("div",{class:"modal-body"},this.label&&n("h3",{class:"modal-title"},this.label),n("slot",null))))}get element(){return i(this)}static get style(){return".modal{background-color:rgba(0,0,0,.8);bottom:0;left:0;opacity:0;position:fixed;right:0;top:0;-webkit-transition:opacity .3s ease,visibility .3s ease;transition:opacity .3s ease,visibility .3s ease;visibility:hidden;will-change:opacity,visibility}.modal.is-active{opacity:1;visibility:visible;z-index:11}.modal.is-active .modal-content{-webkit-transform:translateY(0);transform:translateY(0)}.modal-content{background:#fff;font-size:16px;margin:45px auto;max-width:600px;position:relative;-webkit-transform:translateY(-50px);transform:translateY(-50px);-webkit-transition:-webkit-transform .35s ease;transition:-webkit-transform .35s ease;transition:transform .35s ease;transition:transform .35s ease,-webkit-transform .35s ease;will-change:transform}.modal-body{padding:40px}.modal-title{font-family:acumin-pro-extra-condensed,sans-serif!important;font-weight:500!important;font-size:36px!important;margin:0;text-transform:uppercase}\@media screen and (min-width:480px){.modal-title{font-size:52.2px!important}}input{background-image:none;-webkit-box-shadow:none;box-shadow:none}input[type=text]{background-color:#f4f4f4;border:1px solid #f4f4f4;border-radius:0;color:#4d4d4d;display:block;font-size:16px;line-height:1.5;padding:8px 10px;-webkit-transition:border-color .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;transition:border-color .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;width:100%}input:focus{border-color:#8bceed;-webkit-box-shadow:inset 0 0 0 1px rgba(139,206,237,.5);box-shadow:inset 0 0 0 1px rgba(139,206,237,.5)}input[type=submit]{-webkit-appearance:button;-moz-appearance:button;appearance:button;background-color:#0095d9;border:1px solid #0095d9;border-radius:4px;color:#fff;cursor:pointer;font-size:16px;line-height:1;margin-top:24px;padding:14px 20px 16px}input[type=submit],label{display:inline-block;margin-bottom:5px}label{font-weight:700;max-width:100%}.modal-close{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:hsla(0,0%,73.3%,.6);-o-border-image:none;border-image:none;border-radius:50%;border-style:none;color:#fff;cursor:pointer;height:25px;position:absolute;right:15px;top:15px;width:25px}.modal-close:after{font-family:acumin-pro,helvetica,arial,sans-serif!important;font-weight:300!important;bottom:3px;content:\"x\";display:inline-block;font-size:16px;position:relative}.modal-close:focus{outline:none}"}};class ot{static articleIcon(){return n("path",{d:"M118.96 18.175c0 1.376-.481 2.547-1.445 3.51-.964.964-2.134 1.446-3.511 1.446H4.957c-1.377 0-2.547-.482-3.511-1.445C.482 20.722 0 19.55 0 18.175V4.957C0 3.58.482 2.41 1.446 1.446S3.58 0 4.956 0h109.048c1.377 0 2.547.482 3.51 1.446.965.964 1.447 2.134 1.447 3.51v13.219zM4.958 76.003c-1.377 0-2.547-.482-3.511-1.446S0 72.423 0 71.046V57.828c0-1.377.482-2.547 1.446-3.51.964-.965 2.134-1.447 3.51-1.447h175.137c1.377 0 2.547.482 3.511 1.446s1.446 2.134 1.446 3.511v13.218c0 1.377-.482 2.547-1.446 3.51-.964.965-2.134 1.447-3.51 1.447H4.956zm0 105.742c-1.377 0-2.547-.482-3.511-1.445C.482 179.336 0 178.166 0 176.789V163.57c0-1.377.482-2.547 1.446-3.511s2.134-1.446 3.51-1.446h175.137c1.377 0 2.547.482 3.511 1.446s1.446 2.134 1.446 3.51v13.219c0 1.377-.482 2.547-1.446 3.51-.964.964-2.134 1.446-3.51 1.446H4.956zm109.047-76.002c1.377 0 2.547.482 3.51 1.445.965.964 1.447 2.135 1.447 3.511v13.218c0 1.377-.482 2.547-1.446 3.511s-2.134 1.446-3.511 1.446H4.957c-1.377 0-2.547-.482-3.511-1.446S0 125.294 0 123.918v-13.219c0-1.376.482-2.547 1.446-3.51.964-.964 2.134-1.446 3.51-1.446h109.048z"})}static podcastIcon(){return n("path",{d:"M30.857 41.151c0-11.43 4-21.147 12-29.149C50.857 4.001 60.571 0 72 0c11.428 0 21.143 4 29.143 12.002s12 17.718 12 29.149v68.585c0 11.43-4 21.147-12 29.149-8 8.001-17.715 12.002-29.143 12.002-11.429 0-21.143-4-29.143-12.002s-12-17.718-12-29.15V41.152zm108 44.58c1.428 0 2.643.5 3.643 1.5s1.5 2.215 1.5 3.644v18.86c0 12.003-2.715 23.077-8.143 33.222-5.429 10.145-12.857 18.575-22.286 25.29-9.428 6.716-19.857 10.931-31.285 12.646v19.718h29.142c1.429 0 2.643.5 3.643 1.5s1.5 2.215 1.5 3.644v8.573c0 1.429-.5 2.643-1.5 3.644-1 1-2.214 1.5-3.643 1.5H32.571c-1.428 0-2.643-.5-3.642-1.5-1-1-1.5-2.215-1.5-3.644v-8.573c0-1.429.5-2.643 1.5-3.644 1-1 2.214-1.5 3.642-1.5h29.143v-19.718c-11.428-1.715-21.857-5.93-31.286-12.645-9.428-6.716-16.857-15.146-22.285-25.291C2.714 132.812 0 121.738 0 109.736v-18.86c0-1.43.5-2.644 1.5-3.644s2.214-1.5 3.643-1.5h10.286c1.428 0 2.642.5 3.642 1.5s1.5 2.214 1.5 3.643v18.86c0 9.431 2.358 18.076 7.072 25.935 4.714 7.858 11 14.074 18.857 18.646 7.857 4.573 16.428 6.859 25.714 6.859 9.286 0 17.857-2.358 25.714-7.073 7.857-4.715 14.072-11.074 18.643-19.075 4.572-8.002 6.857-16.575 6.857-25.72V90.875c0-1.429.5-2.643 1.5-3.643s2.215-1.5 3.643-1.5h10.286z"})}static videoIcon(){return n("path",{d:"M168.209 84.996c4.231 2.371 7.075 5.665 8.53 9.88 1.454 4.217 1.454 8.433 0 12.649-1.455 4.216-4.299 7.51-8.53 9.88L28.564 199.619c-3.967 2.371-8.2 3.162-12.695 2.371-4.496-.79-8.265-2.898-11.307-6.324C1.521 192.24 0 188.155 0 183.412V18.99c0-5.27 1.587-9.552 4.76-12.845C7.935 2.85 11.77.874 16.266.214c4.497-.658 8.596.198 12.299 2.57l139.645 82.212z"})}static bullseyeIcon(t,i,r){return n("svg",{width:t,height:i,"aria-hidden":"true",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512"},n("path",{fill:r,d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"}))}}const ht=r`
{
    user {
        lifeStage {
            id
            title
        }
    }
}
`,at=r`
{
  lifeStages{
    title
    description
    id
    imageUrl
    contentType
    contentTotal
    content {
        id
        title
        authors {
            fullName
            qualifiedUrl
        }
        duration
        contentType
        category
        slug
        qualifiedUrl
        imageUrl
    }
  }
}
`,ut=r`
mutation setLifeStage($lifeStage: LifeStageInput)
 {
  setLifeStage(lifeStage: $lifeStage) {
    lifeStage {
      title
      id
    }
  }
}`,ct=class{constructor(n){t(this,n),this.analytics=window.analytics||{},this.crdsDefaultImg="https://crds-cms-uploads.imgix.net/content/images/cr-social-sharing-still-bg.jpg",this.recommendedContent=[],this.lifeStages=[],this.user={name:"",lifeStage:null}}authTokenHandler(t,n){t!==n&&(this.apolloClient=e(t),this.getUser())}componentWillLoad(){this.apolloClient=e(this.authToken),this.getLifeStages(),this.getUser()}componentDidLoad(){X.trackInView(this.host,"RecommendedContentComponent",this.getLifeStageId.bind(this))}componentWillRender(){if(this.user.lifeStage&&null!==this.user.lifeStage.id&&this.lifeStages.length)return this.filterContent(this.user.lifeStage.id)}getLifeStageId(){return this.user.lifeStage&&this.user.lifeStage.id}getUser(){return this.authToken?this.apolloClient.query({query:ht}).then(t=>{const n=t.data.user.lifeStage&&t.data.user.lifeStage.title,i=t.data.user.lifeStage&&t.data.user.lifeStage.id;this.user=Object.assign(Object.assign({},this.user),{lifeStage:{id:i,title:n}}),this.host.forceUpdate()}):null}getLifeStages(){return this.apolloClient.query({query:at}).then(t=>{this.lifeStages=t.data.lifeStages,this.host.forceUpdate()})}filterContent(t){return this.recommendedContent=this.lifeStages.find(n=>n.id===t).content}handleBackClick(t){this.recommendedContent=[],this.user=Object.assign(Object.assign({},this.user),{lifeStage:{id:null,title:null}}),t.target.parentNode.scrollLeft=0}handleContentClicked(t){try{this.analytics.track("RecommendedContentClicked",{parent:this.host.tagName,title:t.currentTarget.querySelector(".component-header").innerText,targetUrl:t.target.parentElement.href,lifeStageId:this.user.lifeStage.id,lifeStageName:this.user.lifeStage.title})}catch(t){console.error(t)}}setLifeStage(t,n){return this.apolloClient.mutate({variables:{lifeStage:t?{id:t,title:n}:null},mutation:ut}).catch(t=>console.error(t))}handleLifeStageClicked(t){const n=t.target,i=this.host.shadowRoot.querySelectorAll("[data-life-stage-id]");i.forEach(t=>t.classList.add("disabled")),this.user=Object.assign(Object.assign({},this.user),{lifeStage:{id:n.dataset.lifeStageId,title:n.dataset.lifeStageName}});try{this.analytics.track("LifeStageUpdated",{lifeStageId:this.user.lifeStage.id,lifeStageName:this.user.lifeStage.title})}catch(t){console.error(t)}this.filterContent(this.user.lifeStage.id),n.parentNode.scrollLeft=0,i.forEach(t=>t.classList.remove("disabled")),this.setLifeStage(this.user.lifeStage.id,this.user.lifeStage.title)}renderCardSkeleton(){return[1,2,3,4,5].map(()=>n("div",{class:"skeleton skeleton-life-stage"},n("div",{class:"content"},n("div",{class:"text title shimmer shimmer-reverse"}),n("div",{class:"text subtitle shimmer shimmer-reverse"}))))}renderTextSkeleton(){return n("div",{class:"skeleton text-skeleton"},n("div",{class:"title shimmer"}),n("div",{class:"subtitle shimmer"}))}renderLifeStages(){return this.lifeStages.map((t,i)=>n("div",{class:`card ${this.recommendedContent.length?"d-none":""}`,key:i,style:{backgroundImage:`url(${X.imgixify(t.imageUrl+"?auto=format&h=400")}`,backgroundSize:"cover",backgroundPosition:"center"},"data-life-stage-name":t.title,"data-life-stage-id":t.id,onClick:t=>this.handleLifeStageClicked(t)},n("div",{class:"bg-overlay"}),n("div",{class:"card-content"},n("h2",{class:"card-title component-header"},t.title),n("h3",{class:"card-subtitle"},`${t.contentTotal} items`))))}renderMediaLabel(t,i){if("series"!==t)return n("div",{class:"media-label bg-charcoal text-white align-items-center"},i&&n("span",{class:"font-size-smallest"},i),this.renderIcon(t))}renderIcon(t){let i;switch(t){case"video":case"message":i=ot.videoIcon();break;case"podcast":case"episode":i=ot.podcastIcon();break;case"article":i=ot.articleIcon()}return n("svg",{class:"icon",viewBox:"0 0 256 256"},i)}renderRecommendedContent(){const t=window.innerWidth>767?"?auto=format&w=400&h=225&fit=crop":"?auto=format&w=262&h=196.5&fit=crop";return this.recommendedContent.map((i,r)=>n("div",{class:"card",key:r,onClick:t=>this.handleContentClicked(t)},n("a",{class:"relative d-block",href:i.qualifiedUrl},this.renderMediaLabel(i.contentType,i.duration),n("img",{src:(i.imageUrl||this.crdsDefaultImg)+t,class:"img-responsive"})),n("a",{href:i.qualifiedUrl},n("h4",{class:"text-gray font-size-smaller font-weight-mid text-uppercase soft-quarter-top"},i.category),n("h3",{class:"component-header"},i.title),i.authors&&n("p",{class:"soft-quarter-top"},i.authors.map((t,r)=>n("a",{class:"text-gray-light font-size-smaller",href:t.qualifiedUrl,style:{color:"inherit",display:"inline-block",textDecoration:"none"}},t.fullName,r<i.authors.length-1?n("span",null,","):""))))))}renderText(){const t=this.lifeStages.find(t=>t.id===(this.user.lifeStage&&this.user.lifeStage.id));return n("div",null,n("h2",{class:"component-header flush-bottom"},this.recommendedContent.length&&t?"Recommended For You":"Personalize Your Experience"),n("p",{class:"push-half-top push-half-bottom color-gray"},this.recommendedContent.length&&t?t.description:"Which of these best describes your stage of life? (Pick one)"))}render(){const t=this.lifeStages.length&&this.user.lifeStage&&!this.user.lifeStage.id,i=this.recommendedContent.length,r=`cards ${this.recommendedContent.length?"media-cards":""}`;return n("div",{class:"life-stages"},n("div",{class:"life-stages-inner"},n("div",{class:"life-stages-header"},(()=>t||i?this.renderText():this.renderTextSkeleton())(),!!this.recommendedContent.length&&n("div",{class:"life-stage-selected"},n("a",{class:"btn btn-gray-light btn-outline btn-sm back-btn flush",onClick:t=>this.handleBackClick(t)},"change"))),n("div",{class:r},(()=>t?this.renderLifeStages():i?this.renderRecommendedContent():this.renderCardSkeleton())())))}get host(){return i(this)}static get watchers(){return{authToken:["authTokenHandler"]}}static get style(){return"*{-webkit-box-sizing:border-box;box-sizing:border-box}.relative{position:relative}.overflow-hidden{overflow:hidden}.d-flex{display:-ms-flexbox;display:flex}.d-block{display:block}.d-inline{display:inline}.d-none{display:none}.align-items-center{-ms-flex-align:center;align-items:center}.w-100{width:100%}.img-responsive{display:block;height:auto;max-width:100%}.img-circle{border-radius:50%}hr{border:0;border-top:1px solid #e7e7e7;margin-bottom:1rem;margin-top:1rem}.btn,.font-family-base{font-family:acumin-pro,helvetica,arial,sans-serif!important;font-weight:300!important}.font-family-condensed-extra{font-family:acumin-pro-extra-condensed,sans-serif!important;font-weight:500!important}.text-white{color:#fff!important}.text-gray-dark{color:#4d4d4d!important}.text-gray-light{color:#979797!important}.text-gray{color:#737373!important}.text-center{text-align:center}.text-uppercase{text-transform:uppercase}.text-uppercase.font-size-smaller{font-size:13px!important;letter-spacing:.5px}.font-size-base{font-size:16px!important}\@media (min-width:480px){.font-size-base{font-size:19px!important}}.font-size-large{font-size:19px!important}\@media (min-width:480px){.font-size-large{font-size:22px!important}}.font-size-smaller{font-size:14px!important}.font-size-smallest{font-size:10px}.font-weight-mid{font-weight:500}.bg-charcoal{background-color:#171717}.flush{margin:0!important}.flush-bottom{margin-bottom:0!important}.flush-top{margin-top:0!important}.push-half-bottom{margin-bottom:12px!important}.push-bottom{margin-bottom:24px!important}.push-top{margin-top:24px}.push-half-top{margin-top:12px!important}.soft-quarter-top{padding-top:6px}.component-header{font-family:acumin-pro-extra-condensed;font-size:2rem;font-weight:500;line-height:.95;text-transform:uppercase}\@media (min-width:480px){.component-header{font-size:2.125rem}}.list-header{font-family:acumin-pro-extra-condensed,sans-serif;font-size:1.5rem;font-weight:500;text-transform:uppercase}.card>a{color:inherit;display:block;text-decoration:none}.card img{width:100%}.color-gray{color:#737373}.media-label{display:-ms-flexbox;display:flex;position:absolute;right:0;bottom:0;padding:6px 8px}.media-label>:not(:last-child){margin-right:5px}.media-label .icon{fill:#fff;height:16px;width:12px}.btn{display:inline-block;margin-bottom:0;font-weight:300;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid transparent;padding:8px 10px;font-size:16px;line-height:1.5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:4px;line-height:1;margin-top:5px;margin-bottom:5px;font-size:14px;padding:13px 16px;text-decoration:none}.btn.btn-gray-light{color:#fff;background-color:#979797;border-color:#979797}.btn.btn.btn-blue,.btn.btn.btn-primary{color:#fff;background-color:#3b6e8f;border-color:#3b6e8f}.btn.btn.btn-blue:hover,.btn.btn.btn-primary:hover{background-color:#2c526b;border-color:#294d64}.btn.btn-gray-light.btn-outline{background:transparent;border-style:solid;border-width:1px;color:#979797}.btn.btn-gray-light.btn-outline:hover{background-color:#979797;color:#fff}.btn.btn-sm{font-size:13px;padding:10px 16px 11px}.btn.btn-block{display:block;width:100%}.label{font-family:lexia,serif;font-size:12px;margin-top:9px;padding:5px 6px 4px;display:inline;font-weight:500!important;line-height:1;color:#4d4d4d;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25em;font-style:italic}.label.label-info{background-color:#b6dee6}.skeleton{position:relative}.skeleton,.skeleton .shimmer{overflow:hidden}.skeleton .shimmer:after{position:absolute;top:0;right:0;bottom:0;left:0;-webkit-transform:translateX(-100%);transform:translateX(-100%);background-image:linear-gradient(100deg,#f0f0f0 20%,hsla(0,0%,100%,.3) 30%,hsla(0,0%,100%,.7) 40%,#f0f0f0 50%);-webkit-animation:shimmer 1.5s infinite;animation:shimmer 1.5s infinite;-webkit-animation-timing-function:ease;animation-timing-function:ease;content:\"\"}.skeleton .shimmer-reverse:after{background-image:linear-gradient(100deg,#fff 20%,hsla(0,0%,94.1%,.3) 30%,hsla(0,0%,94.1%,.7) 40%,#fff 50%)}.avatar-skeleton{height:75px;width:75px;border-radius:50%;background-color:#f0f0f0;-ms-flex-negative:0;flex-shrink:0}.avatar-skeleton .shimmer:after{left:-400px;-webkit-animation:shimmer 1.5s .5s infinite;animation:shimmer 1.5s .5s infinite}\@-webkit-keyframes shimmer{to{-webkit-transform:translateX(100%);transform:translateX(100%)}}\@keyframes shimmer{to{-webkit-transform:translateX(100%);transform:translateX(100%)}}h1,h2,h3,h4,h5,p{margin:0}.disabled{opacity:.5;pointer-events:none}.life-stages{background-color:#fff;min-height:300px;overflow:hidden}\@media (min-width:768px){.life-stages{min-height:500px}}.life-stages .life-stages-inner{-webkit-transition:all .45s ease;transition:all .45s ease}.life-stages .life-stages-header{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-bottom:1.875rem}\@media (min-width:768px){.life-stages .life-stages-header{-ms-flex-direction:row;flex-direction:row}}.life-stages .life-stages-header .life-stage-selected{font-size:.875rem}\@media (min-width:768px){.life-stages .life-stages-header .life-stage-selected{margin-left:auto}}.cards{display:grid;grid-auto-columns:180px;grid-auto-flow:column;grid-column:1/-1;grid-gap:1rem;-webkit-overflow-scrolling:touch;overflow-x:scroll;padding-bottom:1.875rem;-webkit-scroll-snap-type:x mandatory;-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory;scrollbar-base-color:transparent}.cards.media-cards{grid-auto-columns:262px}\@media (min-width:768px){.cards{grid-auto-columns:220px;grid-gap:1.875rem}.cards.media-cards{grid-auto-columns:400px}}.cards .card,.cards .skeleton-life-stage{cursor:pointer;height:340px;overflow:hidden;position:relative;scroll-snap-align:start}.cards .card:hover,.cards .skeleton-life-stage:hover{cursor:pointer}.cards .card:hover .bg-overlay,.cards .skeleton-life-stage:hover .bg-overlay{opacity:.75}.cards .card .bg-overlay,.cards .card .card-content,.cards .skeleton-life-stage .bg-overlay,.cards .skeleton-life-stage .card-content{bottom:0;pointer-events:none;position:absolute;width:100%}.cards .card .bg-overlay,.cards .skeleton-life-stage .bg-overlay{background:-webkit-gradient(linear,left bottom,left top,from(#000),color-stop(50%,transparent));background:linear-gradient(0deg,#000,transparent 50%);height:100%;-webkit-transition:all .45s ease;transition:all .45s ease}.cards .card .card-content,.cards .skeleton-life-stage .card-content{bottom:0;left:0;padding:1rem}.cards .card .card-content .card-subtitle,.cards .card .card-content .card-title,.cards .skeleton-life-stage .card-content .card-subtitle,.cards .skeleton-life-stage .card-content .card-title{letter-spacing:.5px;margin:0;text-transform:uppercase}.cards .card .card-content .card-title,.cards .skeleton-life-stage .card-content .card-title{color:#fff}.cards .card .card-content .card-subtitle,.cards .skeleton-life-stage .card-content .card-subtitle{color:hsla(0,0%,100%,.75);font-size:.75rem}.skeleton-life-stage{background-color:#f0f0f0}.skeleton-life-stage .content{bottom:0;padding:1rem;position:absolute;width:100%}.skeleton-life-stage .content .text{background-color:#fff;margin-top:.5rem;overflow:hidden;position:relative}.skeleton-life-stage .content .title{height:24px;width:90%}.skeleton-life-stage .content .subtitle{height:16px;width:55%}.text-skeleton{width:100%}.text-skeleton .subtitle,.text-skeleton .title{background-color:#f0f0f0;overflow:hidden;position:relative}.text-skeleton .title{height:24px;margin-bottom:1rem;width:35%}.text-skeleton .subtitle{height:16px;width:50%}"}},ft=(t,n)=>[...n],lt=class{constructor(n){t(this,n),this.env="prod",this.data=[]}componentWillLoad(){J.get(this.src||`https://crds-data.netlify.com/shared-footer/${this.env}.json`).then(t=>this.data=t.data)}componentDidLoad(){this.element.parentElement.classList.add("shared-footer"),this.element.parentElement.classList.remove("shared-footer-skeleton")}renderElement(t){if(!t.href)return t.title;let i={target:t.href.match(/:\/\//)?"_blank":"",href:t.href};return t["automation-id"]&&(i["data-automation-id"]=t["automation-id"]),n("a",Object.assign({},i),t.img?n("img",{src:t.img,alt:t.title,title:t.title}):t.title)}renderGroups(t){const i=t.map(t=>t.children?n(ft,null,n("p",null,t.title),n("ul",null,t.children.map(t=>n("li",null,this.renderElement(t))))):n("li",null,this.renderElement(t))),r=t.filter(t=>t.children).length>0?"Fragment":"ul";return n(r,null,i)}renderColumns(){return this.data.map(t=>n("div",{class:t.class},n("h5",null,this.renderElement(t)),this.renderGroups(t.children)))}render(){return 0===this.data.length?null:n("footer",null,n("div",{class:"container"},this.renderColumns()))}get element(){return i(this)}static get style(){return"footer{font-family:acumin-pro,helvetica,arial,sans-serif!important;font-weight:300!important;color:#737373;background-color:#e7e7e7;overflow:hidden;padding:3.125rem 0}footer .container{margin:0 auto;max-width:1170px}\@media only screen and (min-width:768px){footer .container{display:-ms-flexbox;display:flex}}footer .container div{padding-left:15px;padding-right:15px;margin-bottom:24px;vertical-align:top}\@media only screen and (min-width:768px){footer .container div{-ms-flex:1;flex:1;width:16.66667%}}footer .container div p{margin-bottom:0;font-weight:700}footer .container div ul{list-style-type:none;margin:0;padding-left:0}footer .container div.social-icons{padding-left:0}\@media only screen and (min-width:768px){footer .container div.social-icons{-ms-flex:2;flex:2;text-align:right;width:33.33333%}}footer .container div.social-icons li{display:inline}footer .container div.social-icons li a{-webkit-box-sizing:border-box;box-sizing:border-box;margin-left:.75rem;background:#737373;border-radius:50%;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-pack:center;justify-content:center;height:36px;width:36px;padding:10px}footer .container div.social-icons li a img{max-width:100%}footer .container a{color:#737373;text-decoration:none}footer .container h5{font-size:16.1px!important;line-height:1.1;margin:12px 0}"}},dt=class{constructor(n){t(this,n),this.env="prod",this.data={}}componentWillLoad(){return J.get(this.src||`https://crds-data.netlify.com/shared-header/${this.env}.json`).then(t=>{this.data=t.data}).catch(t=>console.error(t))}componentDidLoad(){this.element.parentElement.getElementsByTagName("svg")[0].remove(),this.element.parentElement.classList.remove("shared-header-skeleton"),this.element.parentElement.classList.add("shared-header")}render(){return n("global-nav",{env:this.env,data:this.data})}get element(){return i(this)}static get style(){return""}};var vt=o((function(t){!function(){var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:w,table:w,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};function i(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||y.defaults,this.rules=n.normal,this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.rules=n.gfm)}n._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,n.def=f(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d{1,9}\.)/,n.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,n.item=f(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=f(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",n._comment=/<!--(?!-?>)[\s\S]*?-->/,n.html=f(n.html,"i").replace("comment",n._comment).replace("tag",n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),n.paragraph=f(n._paragraph).replace("hr",n.hr).replace("heading"," {0,3}#{1,6} +").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}|~{3,})[^`\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",n._tag).getRegex(),n.blockquote=f(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=p({},n),n.gfm=p({},n.normal,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),n.pedantic=p({},n.normal,{html:f("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:w,paragraph:f(n.normal._paragraph).replace("hr",n.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",n.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),i.rules=n,i.lex=function(t,n){return new i(n).lex(t)},i.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},i.prototype.token=function(t,i){var r,e,s,o,h,a,c,f,l,d,v,w,p,m,F,y;for(t=t.replace(/^ +$/gm,"");t;)if((s=this.rules.newline.exec(t))&&(t=t.substring(s[0].length),s[0].length>1&&this.tokens.push({type:"space"})),s=this.rules.code.exec(t)){var b=this.tokens[this.tokens.length-1];t=t.substring(s[0].length),b&&"paragraph"===b.type?b.text+="\n"+s[0].trimRight():(s=s[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?s:C(s,"\n")}))}else if(s=this.rules.fences.exec(t))t=t.substring(s[0].length),this.tokens.push({type:"code",lang:s[2]?s[2].trim():s[2],text:s[3]||""});else if(s=this.rules.heading.exec(t))t=t.substring(s[0].length),this.tokens.push({type:"heading",depth:s[1].length,text:s[2]});else if((s=this.rules.nptable.exec(t))&&(a={type:"table",header:g(s[1].replace(/^ *| *\| *$/g,"")),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3]?s[3].replace(/\n$/,"").split("\n"):[]}).header.length===a.align.length){for(t=t.substring(s[0].length),v=0;v<a.align.length;v++)a.align[v]=/^ *-+: *$/.test(a.align[v])?"right":/^ *:-+: *$/.test(a.align[v])?"center":/^ *:-+ *$/.test(a.align[v])?"left":null;for(v=0;v<a.cells.length;v++)a.cells[v]=g(a.cells[v],a.header.length);this.tokens.push(a)}else if(s=this.rules.hr.exec(t))t=t.substring(s[0].length),this.tokens.push({type:"hr"});else if(s=this.rules.blockquote.exec(t))t=t.substring(s[0].length),this.tokens.push({type:"blockquote_start"}),s=s[0].replace(/^ *> ?/gm,""),this.token(s,i),this.tokens.push({type:"blockquote_end"});else if(s=this.rules.list.exec(t)){for(t=t.substring(s[0].length),this.tokens.push(c={type:"list_start",ordered:m=(o=s[2]).length>1,start:m?+o:"",loose:!1}),f=[],r=!1,p=(s=s[0].match(this.rules.item)).length,v=0;v<p;v++)d=(a=s[v]).length,~(a=a.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(d-=a.length,a=a.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+d+"}","gm"),"")),v!==p-1&&(h=n.bullet.exec(s[v+1])[0],(o.length>1?1===h.length:h.length>1||this.options.smartLists&&h!==o)&&(t=s.slice(v+1).join("\n")+t,v=p-1)),e=r||/\n\n(?!\s*$)/.test(a),v!==p-1&&(r="\n"===a.charAt(a.length-1),e||(e=r)),e&&(c.loose=!0),y=void 0,(F=/^\[[ xX]\] /.test(a))&&(y=" "!==a[1],a=a.replace(/^\[[ xX]\] +/,"")),f.push(l={type:"list_item_start",task:F,checked:y,loose:e}),this.tokens.push(l),this.token(a,!1),this.tokens.push({type:"list_item_end"});if(c.loose)for(p=f.length,v=0;v<p;v++)f[v].loose=!0;this.tokens.push({type:"list_end"})}else if(s=this.rules.html.exec(t))t=t.substring(s[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===s[1]||"script"===s[1]||"style"===s[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):u(s[0]):s[0]});else if(i&&(s=this.rules.def.exec(t)))t=t.substring(s[0].length),s[3]&&(s[3]=s[3].substring(1,s[3].length-1)),w=s[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[w]||(this.tokens.links[w]={href:s[2],title:s[3]});else if((s=this.rules.table.exec(t))&&(a={type:"table",header:g(s[1].replace(/^ *| *\| *$/g,"")),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3]?s[3].replace(/\n$/,"").split("\n"):[]}).header.length===a.align.length){for(t=t.substring(s[0].length),v=0;v<a.align.length;v++)a.align[v]=/^ *-+: *$/.test(a.align[v])?"right":/^ *:-+: *$/.test(a.align[v])?"center":/^ *:-+ *$/.test(a.align[v])?"left":null;for(v=0;v<a.cells.length;v++)a.cells[v]=g(a.cells[v].replace(/^ *\| *| *\| *$/g,""),a.header.length);this.tokens.push(a)}else if(s=this.rules.lheading.exec(t))t=t.substring(s[0].length),this.tokens.push({type:"heading",depth:"="===s[2].charAt(0)?1:2,text:s[1]});else if(i&&(s=this.rules.paragraph.exec(t)))t=t.substring(s[0].length),this.tokens.push({type:"paragraph",text:"\n"===s[1].charAt(s[1].length-1)?s[1].slice(0,-1):s[1]});else if(s=this.rules.text.exec(t))t=t.substring(s[0].length),this.tokens.push({type:"text",text:s[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var r={escape:/^\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:w,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:w,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};function e(t,n){if(this.options=n||y.defaults,this.links=t,this.rules=r.normal,this.renderer=this.options.renderer||new s,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=r.pedantic:this.options.gfm&&(this.rules=this.options.breaks?r.breaks:r.gfm)}function s(t){this.options=t||y.defaults}function o(){}function h(t){this.tokens=[],this.token=null,this.options=t||y.defaults,this.options.renderer=this.options.renderer||new s,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new a}function a(){this.seen={}}function u(t,n){if(n){if(u.escapeTest.test(t))return t.replace(u.escapeReplace,(function(t){return u.replacements[t]}))}else if(u.escapeTestNoEncode.test(t))return t.replace(u.escapeReplaceNoEncode,(function(t){return u.replacements[t]}));return t}function c(t){return t.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,(function(t,n){return"colon"===(n=n.toLowerCase())?":":"#"===n.charAt(0)?"x"===n.charAt(1)?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""}))}function f(t,n){return t=t.source||t,n=n||"",{replace:function(n,i){return i=(i=i.source||i).replace(/(^|[^\[])\^/g,"$1"),t=t.replace(n,i),this},getRegex:function(){return new RegExp(t,n)}}}function l(t,n,i){if(t){try{var r=decodeURIComponent(c(i)).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}n&&!v.test(i)&&(i=function(t,n){return d[" "+t]||(d[" "+t]=/^[^:]+:\/*[^\/]*$/.test(t)?t+"/":C(t,"/",!0)),t=d[" "+t],"//"===n.slice(0,2)?t.replace(/:[\s\S]*/,":")+n:"/"===n.charAt(0)?t.replace(/(:\/*[^\/]*)[\s\S]*/,"$1")+n:t+n}(n,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(t){return null}return i}r._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~",r.em=f(r.em).replace(/punctuation/g,r._punctuation).getRegex(),r._escapes=/\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/g,r._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,r._email=/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,r.autolink=f(r.autolink).replace("scheme",r._scheme).replace("email",r._email).getRegex(),r._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,r.tag=f(r.tag).replace("comment",n._comment).replace("attribute",r._attribute).getRegex(),r._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,r._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,r._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,r.link=f(r.link).replace("label",r._label).replace("href",r._href).replace("title",r._title).getRegex(),r.reflink=f(r.reflink).replace("label",r._label).getRegex(),r.normal=p({},r),r.pedantic=p({},r.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:f(/^!?\[(label)\]\((.*?)\)/).replace("label",r._label).getRegex(),reflink:f(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",r._label).getRegex()}),r.gfm=p({},r.normal,{escape:f(r.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),r.gfm.url=f(r.gfm.url,"i").replace("email",r.gfm._extended_email).getRegex(),r.breaks=p({},r.gfm,{br:f(r.br).replace("{2,}","*").getRegex(),text:f(r.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),e.rules=r,e.output=function(t,n,i){return new e(n,i).output(t)},e.prototype.output=function(t){for(var n,i,r,s,o,h,a="";t;)if(o=this.rules.escape.exec(t))t=t.substring(o[0].length),a+=u(o[1]);else if(o=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(o[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(o[0])&&(this.inRawBlock=!1),t=t.substring(o[0].length),a+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):u(o[0]):o[0];else if(o=this.rules.link.exec(t)){var c=m(o[2],"()");if(c>-1){var f=4+o[1].length+c;o[2]=o[2].substring(0,c),o[0]=o[0].substring(0,f).trim(),o[3]=""}t=t.substring(o[0].length),this.inLink=!0,r=o[2],this.options.pedantic?(n=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r))?(r=n[1],s=n[3]):s="":s=o[3]?o[3].slice(1,-1):"",r=r.trim().replace(/^<([\s\S]*)>$/,"$1"),a+=this.outputLink(o,{href:e.escapes(r),title:e.escapes(s)}),this.inLink=!1}else if((o=this.rules.reflink.exec(t))||(o=this.rules.nolink.exec(t))){if(t=t.substring(o[0].length),n=(o[2]||o[1]).replace(/\s+/g," "),!(n=this.links[n.toLowerCase()])||!n.href){a+=o[0].charAt(0),t=o[0].substring(1)+t;continue}this.inLink=!0,a+=this.outputLink(o,n),this.inLink=!1}else if(o=this.rules.strong.exec(t))t=t.substring(o[0].length),a+=this.renderer.strong(this.output(o[4]||o[3]||o[2]||o[1]));else if(o=this.rules.em.exec(t))t=t.substring(o[0].length),a+=this.renderer.em(this.output(o[6]||o[5]||o[4]||o[3]||o[2]||o[1]));else if(o=this.rules.code.exec(t))t=t.substring(o[0].length),a+=this.renderer.codespan(u(o[2].trim(),!0));else if(o=this.rules.br.exec(t))t=t.substring(o[0].length),a+=this.renderer.br();else if(o=this.rules.del.exec(t))t=t.substring(o[0].length),a+=this.renderer.del(this.output(o[1]));else if(o=this.rules.autolink.exec(t))t=t.substring(o[0].length),r="@"===o[2]?"mailto:"+(i=u(this.mangle(o[1]))):i=u(o[1]),a+=this.renderer.link(r,null,i);else if(this.inLink||!(o=this.rules.url.exec(t))){if(o=this.rules.text.exec(t))t=t.substring(o[0].length),a+=this.renderer.text(this.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):u(o[0]):o[0]:u(this.smartypants(o[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else{if("@"===o[2])r="mailto:"+(i=u(o[0]));else{do{h=o[0],o[0]=this.rules._backpedal.exec(o[0])[0]}while(h!==o[0]);i=u(o[0]),r="www."===o[1]?"http://"+i:i}t=t.substring(o[0].length),a+=this.renderer.link(r,null,i)}return a},e.escapes=function(t){return t?t.replace(e.rules._escapes,"$1"):t},e.prototype.outputLink=function(t,n){var i=n.href,r=n.title?u(n.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(i,r,this.output(t[1])):this.renderer.image(i,r,u(t[1]))},e.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):t},e.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var n,i="",r=t.length,e=0;e<r;e++)n=t.charCodeAt(e),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i},s.prototype.code=function(t,n,i){var r=(n||"").match(/\S*/)[0];if(this.options.highlight){var e=this.options.highlight(t,r);null!=e&&e!==t&&(i=!0,t=e)}return r?'<pre><code class="'+this.options.langPrefix+u(r,!0)+'">'+(i?t:u(t,!0))+"</code></pre>\n":"<pre><code>"+(i?t:u(t,!0))+"</code></pre>"},s.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},s.prototype.html=function(t){return t},s.prototype.heading=function(t,n,i,r){return this.options.headerIds?"<h"+n+' id="'+this.options.headerPrefix+r.slug(i)+'">'+t+"</h"+n+">\n":"<h"+n+">"+t+"</h"+n+">\n"},s.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},s.prototype.list=function(t,n,i){var r=n?"ol":"ul";return"<"+r+(n&&1!==i?' start="'+i+'"':"")+">\n"+t+"</"+r+">\n"},s.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},s.prototype.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},s.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},s.prototype.table=function(t,n){return n&&(n="<tbody>"+n+"</tbody>"),"<table>\n<thead>\n"+t+"</thead>\n"+n+"</table>\n"},s.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},s.prototype.tablecell=function(t,n){var i=n.header?"th":"td";return(n.align?"<"+i+' align="'+n.align+'">':"<"+i+">")+t+"</"+i+">\n"},s.prototype.strong=function(t){return"<strong>"+t+"</strong>"},s.prototype.em=function(t){return"<em>"+t+"</em>"},s.prototype.codespan=function(t){return"<code>"+t+"</code>"},s.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},s.prototype.del=function(t){return"<del>"+t+"</del>"},s.prototype.link=function(t,n,i){if(null===(t=l(this.options.sanitize,this.options.baseUrl,t)))return i;var r='<a href="'+u(t)+'"';return n&&(r+=' title="'+n+'"'),r+">"+i+"</a>"},s.prototype.image=function(t,n,i){if(null===(t=l(this.options.sanitize,this.options.baseUrl,t)))return i;var r='<img src="'+t+'" alt="'+i+'"';return n&&(r+=' title="'+n+'"'),r+(this.options.xhtml?"/>":">")},s.prototype.text=function(t){return t},o.prototype.strong=o.prototype.em=o.prototype.codespan=o.prototype.del=o.prototype.text=function(t){return t},o.prototype.link=o.prototype.image=function(t,n,i){return""+i},o.prototype.br=function(){return""},h.parse=function(t,n){return new h(n).parse(t)},h.prototype.parse=function(t){this.inline=new e(t.links,this.options),this.inlineText=new e(t.links,p({},this.options,{renderer:new o})),this.tokens=t.reverse();for(var n="";this.next();)n+=this.tok();return n},h.prototype.next=function(){return this.token=this.tokens.pop(),this.token},h.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},h.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},h.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,c(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,n,i,r,e="",s="";for(i="",t=0;t<this.token.header.length;t++)i+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(e+=this.renderer.tablerow(i),t=0;t<this.token.cells.length;t++){for(n=this.token.cells[t],i="",r=0;r<n.length;r++)i+=this.renderer.tablecell(this.inline.output(n[r]),{header:!1,align:this.token.align[r]});s+=this.renderer.tablerow(i)}return this.renderer.table(e,s);case"blockquote_start":for(s="";"blockquote_end"!==this.next().type;)s+=this.tok();return this.renderer.blockquote(s);case"list_start":s="";for(var o=this.token.ordered,h=this.token.start;"list_end"!==this.next().type;)s+=this.tok();return this.renderer.list(s,o,h);case"list_item_start":s="";var a=this.token.loose,u=this.token.checked,f=this.token.task;for(this.token.task&&(s+=this.renderer.checkbox(u));"list_item_end"!==this.next().type;)s+=a||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(s,f,u);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var l='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(l);console.log(l)}},a.prototype.slug=function(t){var n=t.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,.\/:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(n)){var i=n;do{this.seen[i]++,n=i+"-"+this.seen[i]}while(this.seen.hasOwnProperty(n))}return this.seen[n]=0,n},u.escapeTest=/[&<>"']/,u.escapeReplace=/[&<>"']/g,u.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,u.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var d={},v=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function w(){}function p(t){for(var n,i,r=1;r<arguments.length;r++)for(i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}function g(t,n){var i=t.replace(/\|/g,(function(t,n,i){for(var r=!1,e=n;--e>=0&&"\\"===i[e];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(i.length>n)i.splice(n);else for(;i.length<n;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function C(t,n,i){if(0===t.length)return"";for(var r=0;r<t.length;){var e=t.charAt(t.length-r-1);if(e!==n||i){if(e===n||!i)break;r++}else r++}return t.substr(0,t.length-r)}function m(t,n){if(-1===t.indexOf(n[1]))return-1;for(var i=0,r=0;r<t.length;r++)if("\\"===t[r])r++;else if(t[r]===n[0])i++;else if(t[r]===n[1]&&--i<0)return r;return-1}function F(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function y(t,n,r){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(r||"function"==typeof n){r||(r=n,n=null),F(n=p({},y.defaults,n||{}));var e,s,o=n.highlight,a=0;try{e=i.lex(t,n)}catch(t){return r(t)}s=e.length;var c=function(t){if(t)return n.highlight=o,r(t);var i;try{i=h.parse(e,n)}catch(n){t=n}return n.highlight=o,t?r(t):r(null,i)};if(!o||o.length<3)return c();if(delete n.highlight,!s)return c();for(;a<e.length;a++)!function(t){"code"!==t.type?--s||c():o(t.text,t.lang,(function(n,i){return n?c(n):null==i||i===t.text?--s||c():(t.text=i,t.escaped=!0,void(--s||c()))}))}(e[a])}else try{return n&&(n=p({},y.defaults,n)),F(n),h.parse(i.lex(t,n),n)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",(n||y.defaults).silent)return"<p>An error occurred:</p><pre>"+u(t.message+"",!0)+"</pre>";throw t}}w.exec=w,y.options=y.setOptions=function(t){return p(y.defaults,t),y},y.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new s,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}},y.defaults=y.getDefaults(),y.Parser=h,y.parser=h.parse,y.Renderer=s,y.TextRenderer=o,y.Lexer=i,y.lexer=i.lex,y.InlineLexer=e,y.inlineLexer=e.output,y.Slugger=a,y.parse=y,t.exports=y}()}));const wt=r`
  {
    sites(availableOnline: true) {
      name
      id
    }
  }
`,pt=r`
  {
    user {
      site {
        id
        name
      }
    }
  }
`,gt=r`
  {
    promos {
      targetAudience
      title
      description
      qualifiedUrl
      imageUrl
    }
  }
`,Ct=r`
  mutation setSite($siteId: ID!) {
    setSite(siteId: $siteId) {
      site {
        id
        name
      }
    }
  }
`,mt=(r`
  {
    contentBlocks(filters: { category: "site happenings" }) {
      content
      slug
    }
  }
`,class{constructor(n){t(this,n),this.analytics=window.analytics||{},this.contentfulSites=[],this.sites=[],this.happenings=[],this.user=null}watchHandler(t,n){t!==n&&(this.apolloClient=e(t),this.getUser())}logError(t){console.error(t)}getInViewDetails(){return{selectedSite:this.selectedSite}}componentDidLoad(){X.trackInView(this.host,"HappeningComponent",this.getInViewDetails.bind(this))}componentWillLoad(){this.apolloClient=e(this.authToken),this.contentBlockHandler=new h(this.apolloClient,"site happenings"),Promise.all([this.getSites(),this.getPromos(),this.contentBlockHandler.getCopy(),this.getUser()]).then(()=>{this.validateSelectedSite(this.user&&this.user.site||"Churchwide")})}componentDidRender(){this.handleParentElementWidthBasedOnText(this.host.shadowRoot.querySelector(".happenings-dropdown-select"),this.selectedSite)}getSites(){return this.apolloClient.query({query:wt}).then(t=>{this.validateSites(t.data.sites)}).catch(t=>{this.logError(t)})}getUser(){return this.authToken?this.apolloClient.query({query:pt}).then(t=>{const n=t.data.user;this.validateUserSite(n.site&&n.site.name),this.validateSelectedSite(this.user.site)}).catch(t=>{this.resetUser(),this.logError(t)}):Promise.resolve(this.resetUser())}getPromos(){return this.apolloClient.query({query:gt}).then(t=>{this.setHappenings(t.data.promos),this.setContentfulSites(),this.renderHappenings()}).catch(t=>this.logError(t))}setUserSite(t){return this.apolloClient.mutate({variables:{siteId:t},mutation:Ct}).catch(t=>{this.logError(t)})}resetUser(){this.user=null,this.validateSelectedSite("Churchwide")}validateSites(t){const n=t.filter(t=>"string"==typeof t.name&&"Not site specific"!==t.name&&"Xroads Church"!==t.name);this.sites=n.sort((t,n)=>t.name>n.name?1:n.name>t.name?-1:0)}validateUserSite(t){"string"==typeof t&&""!==t&&(this.user={site:t})}validateSelectedSite(t){"Not site specific"!==t&&"I do not attend Crossroads"!==t&&"Anywhere"!==t&&""!==t||(t="Churchwide"),this.contentfulSites.includes(t)&&(this.selectedSite=t)}setHappenings(t){this.happenings=t.filter(t=>null!==t.targetAudience)}setContentfulSites(){const t=new Set;this.happenings.forEach(n=>n.targetAudience.forEach(n=>t.add(n))),this.contentfulSites=Array.from(t).sort((t,n)=>t>n?1:n>t?-1:0)}handleSiteSelection(t){this.validateSelectedSite(t.target.value),this.analytics.track("HappeningSiteFiltered",{site:this.selectedSite})}handleParentElementWidthBasedOnText(t,n){let i=document.createElement("select"),r=window.getComputedStyle(t);i.style.visibility="hidden",i.style.margin=r.margin,i.style.padding=r.padding,i.style.fontSize=r.fontSize,i.style.fontFamily=r.fontFamily,i.style.webkitAppearance="none";let e=document.createElement("option");e.innerText=n,i.appendChild(e),this.host.shadowRoot.appendChild(i),t.parentNode.style.width=`${i.offsetWidth+12}px`,this.host.shadowRoot.removeChild(i)}handleHappeningsClicked(t){let n=t.target,i={title:"A"===n.tagName?n.innerText.toLowerCase():n.alt.toLowerCase(),url:"A"===n.tagName?n.href:n.parentNode.href,userSite:this.user&&this.user.site||"logged out",selectedSite:this.selectedSite};this.analytics.track("HappeningCardClicked",{params:i})}handleSetSiteInput(t){const n=t.target.options[t.target.selectedIndex].text;this.validateUserSite(n),this.validateSelectedSite(n),this.handleSetSiteModalClose();const i=t.target.value;this.setUserSite(i),this.analytics.track("HappeningSiteUpdated",{id:i,name:this.selectedSite})}handleSetSiteModalClose(){this.host.shadowRoot.querySelector(".site-select-message").classList.add("hidden")}renderHappeningsSkeleton(){let t=[];return window.innerWidth<768?t.push(1,2):window.innerWidth<960?t.push(1,2,3):t.push(1,2,3,4),t.map(()=>n("div",{class:"skeleton skeleton-happenings"},n("div",{class:"image shimmer"}),n("div",{class:"content"},n("div",{class:"overlap"},n("div",{class:"text title shimmer"}),n("div",{class:"text title shimmer"})),n("div",{class:"text subtitle shimmer"}),n("div",{class:"text subtitle shimmer"}),n("div",{class:"text subtitle shimmer"}),n("div",{class:"text subtitle shimmer"}))))}renderHappenings(){return this.selectedSite?this.happenings.filter(t=>t.targetAudience.find(t=>t===this.selectedSite)).map((t,i)=>n("div",{class:"card carousel-cell",key:i},n("a",{class:"relative",href:t.qualifiedUrl,onClick:t=>this.handleHappeningsClicked(t)},n("img",{alt:t.title,class:"img-responsive",src:X.imgixify(t.imageUrl)+"?auto=format&w=400&h=300&fit=crop"})),n("div",{class:"card-block"},n("h4",{class:"card-title card-title--overlap text-uppercase"},n("a",{href:t.qualifiedUrl,onClick:t=>this.handleHappeningsClicked(t)},t.title)),n("div",{class:"card-text",innerHTML:vt(t.description||"")})))):this.renderHappeningsSkeleton()}maybeRenderSetSiteModal(){return this.user&&!this.isUserSiteSet()?this.renderSetSiteModal():""}renderSetSiteModal(){return n("div",{class:"site-select-message"},n("button",{type:"button",class:"close","aria-label":"Close",onClick:()=>this.handleSetSiteModalClose()},n("svg",{xmlns:"http://www.w3.org/2000/svg"},n("line",{x1:"1",y1:"10",x2:"10",y2:"1",stroke:"#fff",strokeWidth:"2"}),n("line",{x1:"1",y1:"1",x2:"10",y2:"10",stroke:"#fff",strokeWidth:"2"}))),n("div",{class:"text-center push-top w-100"},this.contentBlockHandler.getContentBlock("SiteHappeningsPrompt"),n("div",{class:"happenings-dropdown","data-automation-id":"happenings-choose-site"},n("select",{class:"dropdown w-100",onInput:t=>this.handleSetSiteInput(t)},n("option",{disabled:!0,selected:!0},"Choose a site"),this.sites.map(t=>n("option",{value:t.id,"data-name":t.name},t.name))),n("svg",{class:"dropdown-caret icon icon-1 pull-right push-left",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 237 152"},n("path",{d:"M200.731 135.586L92.136 244.182c-1.854 1.853-4.05 2.78-6.587 2.78s-4.731-.927-6.586-2.78l-24.295-24.295c-1.854-1.854-2.781-4.05-2.781-6.587s.927-4.732 2.78-6.586L132.385 129 54.669 51.285c-1.854-1.853-2.781-4.05-2.781-6.586 0-2.537.927-4.732 2.78-6.587l24.296-24.295c1.854-1.853 4.05-2.78 6.586-2.78 2.537 0 4.732.927 6.587 2.78L200.73 122.414c1.854 1.853 2.781 4.049 2.781 6.586s-.927 4.732-2.78 6.586z",transform:"translate(-9 -53) rotate(90 127.7 129)"}))),n("p",null,n("small",null,"*This will update the site field in your profile"))))}isUserSiteSet(){return this.user.site&&"Not site specific"!==this.user.site}render(){return n("div",{class:"container push-top"},n("div",{class:"relative"},this.maybeRenderSetSiteModal(),n("hr",{class:"push-half-bottom"}),n("div",{class:"happenings-dropdown-container push-half-bottom"},n("h4",{id:"happening-filter-label",class:"flush font-size-base font-family-base text-gray-light"},"happening at crossroads"),n("div",{class:"happenings-dropdown","data-automation-id":"happenings-dropdown"},n("select",{class:"happenings-dropdown-select font-family-base",onInput:t=>this.handleSiteSelection(t)},this.contentfulSites.map(t=>n("option",{value:t,selected:this.selectedSite===t},t))),n("svg",{class:"dropdown-caret icon icon-1 pull-right push-left",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 237 152"},n("path",{d:"M200.731 135.586L92.136 244.182c-1.854 1.853-4.05 2.78-6.587 2.78s-4.731-.927-6.586-2.78l-24.295-24.295c-1.854-1.854-2.781-4.05-2.781-6.587s.927-4.732 2.78-6.586L132.385 129 54.669 51.285c-1.854-1.853-2.781-4.05-2.781-6.586 0-2.537.927-4.732 2.78-6.587l24.296-24.295c1.854-1.853 4.05-2.78 6.586-2.78 2.537 0 4.732.927 6.587 2.78L200.73 122.414c1.854 1.853 2.781 4.049 2.781 6.586s-.927 4.732-2.78 6.586z",transform:"translate(-9 -53) rotate(90 127.7 129)"})),this.selectedSite===(this.user&&this.user.site)?n("span",{class:"my-site-label"},"(my site)"):"")),n("div",{class:"card-deck carousel","data-crds-carousel":"mobile-scroll"},n("div",{id:"section-what-s-happening",class:"feature-cards card-deck--expanded-layout carousel","data-automation-id":"happenings-cards","data-crds-carousel":"mobile-scroll"},this.renderHappenings()))))}get host(){return i(this)}static get watchers(){return{authToken:["watchHandler"]}}static get style(){return"\@charset \"UTF-8\";*{-webkit-box-sizing:border-box;box-sizing:border-box}.relative{position:relative}.overflow-hidden{overflow:hidden}.d-flex{display:-ms-flexbox;display:flex}.d-block{display:block}.d-inline{display:inline}.d-none{display:none}.align-items-center{-ms-flex-align:center;align-items:center}.w-100{width:100%}.img-circle{border-radius:50%}hr{border:0;border-top:1px solid #e7e7e7;margin-bottom:1rem;margin-top:1rem}.btn,.font-family-base{font-family:acumin-pro,helvetica,arial,sans-serif!important;font-weight:300!important}.font-family-condensed-extra{font-family:acumin-pro-extra-condensed,sans-serif!important;font-weight:500!important}.text-white{color:#fff!important}.text-gray-dark{color:#4d4d4d!important}.text-gray-light{color:#979797!important}.text-gray{color:#737373!important}.text-center{text-align:center}.text-uppercase{text-transform:uppercase}.text-uppercase.font-size-smaller{font-size:13px!important;letter-spacing:.5px}.font-size-base{font-size:16px!important}\@media (min-width:480px){.font-size-base{font-size:19px!important}}.font-size-large{font-size:19px!important}\@media (min-width:480px){.font-size-large{font-size:22px!important}}.font-size-smaller{font-size:14px!important}.font-size-smallest{font-size:10px}.font-weight-mid{font-weight:500}.bg-charcoal{background-color:#171717}.flush{margin:0!important}.flush-bottom{margin-bottom:0!important}.flush-top{margin-top:0!important}.push-half-bottom{margin-bottom:12px!important}.push-bottom{margin-bottom:24px!important}.push-top{margin-top:24px}.push-half-top{margin-top:12px!important}.soft-quarter-top{padding-top:6px}.component-header{font-family:acumin-pro-extra-condensed;line-height:.95}\@media (min-width:480px){.component-header{font-size:2.125rem}}.list-header{font-family:acumin-pro-extra-condensed,sans-serif;font-size:1.5rem;font-weight:500;text-transform:uppercase}.card>a{color:inherit;display:block;text-decoration:none}.card img{width:100%}.color-gray{color:#737373}.media-label{display:-ms-flexbox;display:flex;position:absolute;right:0;bottom:0;padding:6px 8px}.media-label>:not(:last-child){margin-right:5px}.media-label .icon{fill:#fff;height:16px;width:12px}.btn{display:inline-block;margin-bottom:0;font-weight:300;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid transparent;padding:8px 10px;font-size:16px;line-height:1.5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:4px;line-height:1;margin-top:5px;margin-bottom:5px;font-size:14px;padding:13px 16px;text-decoration:none}.btn.btn-gray-light{color:#fff;background-color:#979797;border-color:#979797}.btn.btn.btn-blue,.btn.btn.btn-primary{color:#fff;background-color:#3b6e8f;border-color:#3b6e8f}.btn.btn.btn-blue:hover,.btn.btn.btn-primary:hover{background-color:#2c526b;border-color:#294d64}.btn.btn-gray-light.btn-outline{background:transparent;border-style:solid;border-width:1px;color:#979797}.btn.btn-gray-light.btn-outline:hover{background-color:#979797;color:#fff}.btn.btn-sm{font-size:13px;padding:10px 16px 11px}.btn.btn-block{display:block;width:100%}.label{font-family:lexia,serif;font-size:12px;margin-top:9px;padding:5px 6px 4px;display:inline;font-weight:500!important;line-height:1;color:#4d4d4d;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25em;font-style:italic}.label.label-info{background-color:#b6dee6}.skeleton{position:relative}.skeleton,.skeleton .shimmer{overflow:hidden}.skeleton .shimmer:after{position:absolute;top:0;right:0;bottom:0;left:0;-webkit-transform:translateX(-100%);transform:translateX(-100%);background-image:linear-gradient(100deg,#f0f0f0 20%,hsla(0,0%,100%,.3) 30%,hsla(0,0%,100%,.7) 40%,#f0f0f0 50%);-webkit-animation:shimmer 1.5s infinite;animation:shimmer 1.5s infinite;-webkit-animation-timing-function:ease;animation-timing-function:ease;content:\"\"}.skeleton .shimmer-reverse:after{background-image:linear-gradient(100deg,#fff 20%,hsla(0,0%,94.1%,.3) 30%,hsla(0,0%,94.1%,.7) 40%,#fff 50%)}.text-skeleton{width:100%}.text-skeleton .subtitle,.text-skeleton .title{background-color:#f0f0f0;overflow:hidden;position:relative}.text-skeleton .title{height:24px;margin-bottom:1rem;width:35%}.text-skeleton .subtitle{height:16px;width:50%}.avatar-skeleton{height:75px;width:75px;border-radius:50%;background-color:#f0f0f0;-ms-flex-negative:0;flex-shrink:0}.avatar-skeleton .shimmer:after{left:-400px;-webkit-animation:shimmer 1.5s .5s infinite;animation:shimmer 1.5s .5s infinite}\@-webkit-keyframes shimmer{to{-webkit-transform:translateX(100%);transform:translateX(100%)}}\@keyframes shimmer{to{-webkit-transform:translateX(100%);transform:translateX(100%)}}.happenings-dropdown-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}\@media (min-width:480px){.happenings-dropdown-container{-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center}}.happenings-dropdown{position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.happenings-dropdown .happenings-dropdown-select{font-size:19px;position:relative;background:0;border:0;margin:0;color:#0095d9;padding:.5rem 0;-webkit-appearance:none;-moz-appearance:none;width:100%}.happenings-dropdown .happenings-dropdown-select:hover{cursor:pointer}.happenings-dropdown .happenings-dropdown-select:focus{outline:0}\@media (min-width:480px){.happenings-dropdown .happenings-dropdown-select{padding:.5rem}}.happenings-dropdown .dropdown-caret{fill:#0095d9;position:absolute;width:.75rem;right:0;padding-top:4px;pointer-events:none}\@media (min-width:480px){.happenings-dropdown .dropdown-caret{right:6px}}.happenings-dropdown .my-site-label{position:absolute;width:100%;left:calc(100% + .625rem);font-size:.875rem;color:#979797}.site-select-message{position:absolute;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;width:100%;height:100%;background-color:#fff;-webkit-transition:opacity .5s ease-in-out;transition:opacity .5s ease-in-out;opacity:1;z-index:1}.site-select-message,.site-select-message .happenings-dropdown{-ms-flex-pack:center;justify-content:center}\@media (min-width:768px){.site-select-message .happenings-dropdown{margin:0 auto;width:33.333333%}}.site-select-message .happenings-dropdown .dropdown{display:inline-block;font-weight:300;text-align:center;font-size:14px;line-height:1;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;background-image:none;font-size:16px;line-height:1.5;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-top:5px;margin-bottom:5px;padding:10px;background:transparent;border:1px solid #0095d9;color:#0095d9;-webkit-appearance:none}.site-select-message .happenings-dropdown .dropdown:focus{outline:0}\@media (max-width:480px){.site-select-message .happenings-dropdown .dropdown{width:100%}}.site-select-message .happenings-dropdown .dropdown-caret{right:20px}.site-select-message .close{position:absolute;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;top:1rem;right:1rem;background-color:hsla(0,0%,73.3%,.6);border-radius:50%;width:1.5rem;height:1.5rem;font-weight:unset;opacity:1;padding:0;cursor:pointer;border:0}.site-select-message .close:hover{cursor:pointer}.site-select-message .close svg{width:10px;height:10px;stroke:#fff}.hidden{visibility:hidden;opacity:0}.card-deck .card{-webkit-box-flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.card-deck--expanded-layout,.card-deck .card{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.card-deck--expanded-layout{-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-overflow-scrolling:touch;overflow-x:scroll;-webkit-scroll-snap-type:x mandatory;-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory}\@media (min-width:768px){.card-deck--expanded-layout{-ms-flex-wrap:wrap;flex-wrap:wrap}}.card-deck--expanded-layout .card,.card-deck--expanded-layout .skeleton-happenings{cursor:auto;-webkit-flex:1 0 270px;-ms-flex:1 0 270px;flex:1 0 270px;-ms-flex-preferred-size:270px;flex-basis:270px;margin-bottom:1.5rem;padding:0 .5rem;position:relative;max-width:100%;scroll-snap-align:start}.card-deck--expanded-layout .card:first-child,.card-deck--expanded-layout .skeleton-happenings:first-child{padding-left:0}.card-deck--expanded-layout .card:last-child,.card-deck--expanded-layout .skeleton-happenings:last-child{padding-right:0}\@media (min-width:480px){.card-deck--expanded-layout .card,.card-deck--expanded-layout .skeleton-happenings{max-width:50%}}\@media (min-width:768px){.card-deck--expanded-layout .card,.card-deck--expanded-layout .skeleton-happenings{max-width:33.333333%}}\@media (min-width:960px){.card-deck--expanded-layout .card,.card-deck--expanded-layout .skeleton-happenings{max-width:25%}}.card-deck--expanded-layout .card a,.card-deck--expanded-layout .skeleton-happenings a{color:inherit;text-decoration:none}.card-deck--expanded-layout .card .card-text,.card-deck--expanded-layout .skeleton-happenings .card-text{font-size:.9375rem;position:relative}.card-deck--expanded-layout .card .card-text p,.card-deck--expanded-layout .skeleton-happenings .card-text p{margin:0}.card-deck--expanded-layout .card .card-block,.card-deck--expanded-layout .skeleton-happenings .card-block{font-family:acumin-pro,helvetica,arial,sans-serif;padding:1rem}.card-deck--expanded-layout .card .card-block .component-header,.card-deck--expanded-layout .skeleton-happenings .card-block .component-header{line-height:.95}.skeleton-happenings{height:500px;margin:0}.skeleton-happenings .image{height:75%;max-height:200px;width:100%}.skeleton-happenings .image,.skeleton-happenings .text{background-color:#f0f0f0;position:relative}.skeleton-happenings .content{padding:.5rem}.skeleton-happenings .content .overlap{background:#fff;padding:.5rem;-webkit-transform:translateY(-40%);transform:translateY(-40%)}.skeleton-happenings .content .title{height:24px;margin-bottom:.5rem}.skeleton-happenings .content .title:nth-child(2){width:75%}.skeleton-happenings .content .subtitle{height:16px;margin:.5rem}.skeleton-happenings .content .subtitle:nth-child(3){width:75%}.skeleton-happenings .content .subtitle:nth-child(4){width:85%}.skeleton-happenings .content .subtitle:nth-child(5){width:50%}.img-responsive{display:block;height:auto;max-width:100%}.card-title--overlap{background-color:#fff;display:inline-block;font-family:acumin-pro-extra-condensed,sans-serif;font-size:2.125rem;margin:-2rem -.5rem 0;padding:.25rem .5rem;position:relative}.card-title--overlap:after{color:#979797;content:\"\";display:block;font-family:acumin-pro,helvetica,arial,sans-serif;font-size:1.25rem;font-weight:100;line-height:1.5}.card-title{color:#4d4d4d;line-height:1;font-weight:600}.text-uppercase{text-transform:uppercase!important}.component-header{font-family:acumin-pro-extra-condensed,sans-serif;font-size:2rem;font-weight:500;line-height:1.1;text-transform:uppercase}"}}),Ft=class{constructor(n){t(this,n),this.env="prod",this.data={}}componentWillLoad(){(this.src||this.name&&this.env)&&J.get(this.src||`https://crds-data.netlify.com/snail-trails/${this.name}/${this.env}.json`).then(t=>this.data=t.data)}listItem(t){return t.subscribe&&t.src?n("crds-subscribe",{src:t.src,label:t.title}):t.href?n("crds-snail-trail-link",{href:t.href,automationId:t["data-automation-id"]},t.title):n("strong",null,t.title)}list(t){return t.map(t=>n("li",null,this.listItem(t)))}navSections(){if(this.data.nav)return this.data.nav.map(t=>n("ul",null,this.list(t)))}render(){if(this.data.nav||0!=this.element.childElementCount)return n(ft,null,n("nav",null,n("div",null,this.element.childElementCount>0&&n("slot",null),0==this.element.childElementCount&&n(ft,null,this.navSections()))))}get element(){return i(this)}static get style(){return"nav{font-family:acumin-pro,helvetica,arial,sans-serif!important;font-weight:300!important;background-color:#fff;-webkit-box-shadow:0 1px 6px 0 rgba(0,0,0,.14);box-shadow:0 1px 6px 0 rgba(0,0,0,.14);font-size:14px;padding-left:20px;position:relative}\@media (min-width:1170px){nav{padding-left:0}}nav>div{display:-ms-flexbox;display:flex;-webkit-overflow-scrolling:touch;overflow-x:auto;overflow-y:hidden;position:relative;scrollbar-width:none;margin:0 auto;max-width:1170px}\@media (max-width:992px){nav:after{background:-webkit-gradient(linear,left top,right top,from(hsla(0,0%,100%,0)),to(rgba(0,0,0,.8)));background:linear-gradient(90deg,hsla(0,0%,100%,0),rgba(0,0,0,.8));content:\"\";display:inline-block;height:100%;opacity:.3;position:absolute;right:0;top:0;width:20px}}strong{color:#4d4d4d;display:inline-block;font-weight:600;margin-right:15px;padding:11px 0;text-transform:capitalize;white-space:nowrap}ul{padding-left:0;-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;margin-bottom:0;margin-top:0}ul li{list-style:none}ul:not(:last-of-type):after{border-right:1px solid #d8d8d8;content:\"\";height:calc(100% - 22px);width:1px}li{display:inline-block;text-transform:capitalize;white-space:nowrap}"}};var yt=2147483647,bt=36,Et=1,Lt=26,St=38,At=700,kt=72,Tt=128,xt="-",Rt=/[^\x20-\x7E]/,It=/[\x2E\u3002\uFF0E\uFF61]/g,Mt={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Dt=bt-Et,jt=Math.floor,Bt=String.fromCharCode;function _t(t){throw new RangeError(Mt[t])}function Pt(t,n){return t+22+75*(t<26)-((0!=n)<<5)}function Nt(t,n,i){var r=0;for(t=i?jt(t/At):t>>1,t+=jt(t/n);t>Dt*Lt>>1;r+=bt)t=jt(t/Dt);return jt(r+(Dt+1)*t/(t+St))}function Ot(t){return function(t){var n=t.split("@"),i="";n.length>1&&(i=n[0]+"@",t=n[1]);var r=function(t,n){for(var i=t.length,r=[];i--;)r[i]=n(t[i]);return r}((t=t.replace(It,".")).split("."),(function(t){return Rt.test(t)?"xn--"+function(t){var n,i,r,e,s,o,h,a,u,c,f,l,d,v,w,p=[];for(l=(t=function(t){for(var n,i,r=[],e=0,s=t.length;e<s;)(n=t.charCodeAt(e++))>=55296&&n<=56319&&e<s?56320==(64512&(i=t.charCodeAt(e++)))?r.push(((1023&n)<<10)+(1023&i)+65536):(r.push(n),e--):r.push(n);return r}(t)).length,n=Tt,i=0,s=kt,o=0;o<l;++o)(f=t[o])<128&&p.push(Bt(f));for(r=e=p.length,e&&p.push(xt);r<l;){for(h=yt,o=0;o<l;++o)(f=t[o])>=n&&f<h&&(h=f);for(h-n>jt((yt-i)/(d=r+1))&&_t("overflow"),i+=(h-n)*d,n=h,o=0;o<l;++o)if((f=t[o])<n&&++i>yt&&_t("overflow"),f==n){for(a=i,u=bt;!(a<(c=u<=s?Et:u>=s+Lt?Lt:u-s));u+=bt)p.push(Bt(Pt(c+(w=a-c)%(v=bt-c),0))),a=jt(w/v);p.push(Bt(Pt(a,0))),s=Nt(i,d,r==e),i=0,++r}++i,++n}return p.join("")}(t):t})).join(".");return i+r}(t)}var Ut=[],Ht=[],zt="undefined"!=typeof Uint8Array?Uint8Array:Array,Zt=!1;function $t(){Zt=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,i=t.length;n<i;++n)Ut[n]=t[n],Ht[t.charCodeAt(n)]=n;Ht["-".charCodeAt(0)]=62,Ht["_".charCodeAt(0)]=63}function Kt(t,n,i){for(var r,e=[],s=n;s<i;s+=3)e.push(Ut[(r=(t[s]<<16)+(t[s+1]<<8)+t[s+2])>>18&63]+Ut[r>>12&63]+Ut[r>>6&63]+Ut[63&r]);return e.join("")}function qt(t,n,i,r,e){var s,o,h=8*e-r-1,a=(1<<h)-1,u=a>>1,c=-7,f=i?e-1:0,l=i?-1:1,d=t[n+f];for(f+=l,s=d&(1<<-c)-1,d>>=-c,c+=h;c>0;s=256*s+t[n+f],f+=l,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=256*o+t[n+f],f+=l,c-=8);if(0===s)s=1-u;else{if(s===a)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),s-=u}return(d?-1:1)*o*Math.pow(2,s-r)}function Vt(t,n,i,r,e,s){var o,h,a,u=8*s-e-1,c=(1<<u)-1,f=c>>1,l=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,v=r?1:-1,w=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(h=isNaN(n)?1:0,o=c):(o=Math.floor(Math.log(n)/Math.LN2),n*(a=Math.pow(2,-o))<1&&(o--,a*=2),(n+=o+f>=1?l/a:l*Math.pow(2,1-f))*a>=2&&(o++,a/=2),o+f>=c?(h=0,o=c):o+f>=1?(h=(n*a-1)*Math.pow(2,e),o+=f):(h=n*Math.pow(2,f-1)*Math.pow(2,e),o=0));e>=8;t[i+d]=255&h,d+=v,h/=256,e-=8);for(o=o<<e|h,u+=e;u>0;t[i+d]=255&o,d+=v,o/=256,u-=8);t[i+d-v]|=128*w}var Wt={}.toString;const Yt=Array.isArray||function(t){return"[object Array]"==Wt.call(t)};function Jt(){return Xt.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Gt(t,n){if(Jt()<n)throw new RangeError("Invalid typed array length");return Xt.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(n)).__proto__=Xt.prototype:(null===t&&(t=new Xt(n)),t.length=n),t}function Xt(t,n,i){if(!(Xt.TYPED_ARRAY_SUPPORT||this instanceof Xt))return new Xt(t,n,i);if("number"==typeof t){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return nn(this,t)}return Qt(this,t,n,i)}function Qt(t,n,i,r){if("number"==typeof n)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer?function(t,n,i,r){if(i<0||n.byteLength<i)throw new RangeError("'offset' is out of bounds");if(n.byteLength<i+(r||0))throw new RangeError("'length' is out of bounds");return n=void 0===i&&void 0===r?new Uint8Array(n):void 0===r?new Uint8Array(n,i):new Uint8Array(n,i,r),Xt.TYPED_ARRAY_SUPPORT?(t=n).__proto__=Xt.prototype:t=rn(t,n),t}(t,n,i,r):"string"==typeof n?function(t,n,i){if("string"==typeof i&&""!==i||(i="utf8"),!Xt.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var r=0|on(n,i),e=(t=Gt(t,r)).write(n,i);return e!==r&&(t=t.slice(0,e)),t}(t,n,i):function(t,n){if(sn(n)){var i=0|en(n.length);return 0===(t=Gt(t,i)).length?t:(n.copy(t,0,0,i),t)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||(r=n.length)!=r?Gt(t,0):rn(t,n);if("Buffer"===n.type&&Yt(n.data))return rn(t,n.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,n)}function tn(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function nn(t,n){if(tn(n),t=Gt(t,n<0?0:0|en(n)),!Xt.TYPED_ARRAY_SUPPORT)for(var i=0;i<n;++i)t[i]=0;return t}function rn(t,n){var i=n.length<0?0:0|en(n.length);t=Gt(t,i);for(var r=0;r<i;r+=1)t[r]=255&n[r];return t}function en(t){if(t>=Jt())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Jt().toString(16)+" bytes");return 0|t}function sn(t){return!(null==t||!t._isBuffer)}function on(t,n){if(sn(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var r=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return Mn(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return Dn(t).length;default:if(r)return Mn(t).length;n=(""+n).toLowerCase(),r=!0}}function hn(t,n,i){var r=!1;if((void 0===n||n<0)&&(n=0),n>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(n>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return bn(this,n,i);case"utf8":case"utf-8":return Cn(this,n,i);case"ascii":return Fn(this,n,i);case"latin1":case"binary":return yn(this,n,i);case"base64":return gn(this,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return En(this,n,i);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function an(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function un(t,n,i,r,e){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=e?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(e)return-1;i=t.length-1}else if(i<0){if(!e)return-1;i=0}if("string"==typeof n&&(n=Xt.from(n,r)),sn(n))return 0===n.length?-1:cn(t,n,i,r,e);if("number"==typeof n)return n&=255,Xt.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(t,n,i):Uint8Array.prototype.lastIndexOf.call(t,n,i):cn(t,[n],i,r,e);throw new TypeError("val must be string, number or Buffer")}function cn(t,n,i,r,e){var s,o=1,h=t.length,a=n.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||n.length<2)return-1;o=2,h/=2,a/=2,i/=2}function u(t,n){return 1===o?t[n]:t.readUInt16BE(n*o)}if(e){var c=-1;for(s=i;s<h;s++)if(u(t,s)===u(n,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===a)return c*o}else-1!==c&&(s-=s-c),c=-1}else for(i+a>h&&(i=h-a),s=i;s>=0;s--){for(var f=!0,l=0;l<a;l++)if(u(t,s+l)!==u(n,l)){f=!1;break}if(f)return s}return-1}function fn(t,n,i,r){i=Number(i)||0;var e=t.length-i;r?(r=Number(r))>e&&(r=e):r=e;var s=n.length;if(s%2!=0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var h=parseInt(n.substr(2*o,2),16);if(isNaN(h))return o;t[i+o]=h}return o}function ln(t,n,i,r){return jn(Mn(n,t.length-i),t,i,r)}function dn(t,n,i,r){return jn(function(t){for(var n=[],i=0;i<t.length;++i)n.push(255&t.charCodeAt(i));return n}(n),t,i,r)}function vn(t,n,i,r){return dn(t,n,i,r)}function wn(t,n,i,r){return jn(Dn(n),t,i,r)}function pn(t,n,i,r){return jn(function(t,n){for(var i,r,e=[],s=0;s<t.length&&!((n-=2)<0);++s)r=(i=t.charCodeAt(s))>>8,e.push(i%256),e.push(r);return e}(n,t.length-i),t,i,r)}function gn(t,n,i){return function(t){var n;Zt||$t();for(var i=t.length,r=i%3,e="",s=[],o=0,h=i-r;o<h;o+=16383)s.push(Kt(t,o,o+16383>h?h:o+16383));return 1===r?(e+=Ut[(n=t[i-1])>>2],e+=Ut[n<<4&63],e+="=="):2===r&&(e+=Ut[(n=(t[i-2]<<8)+t[i-1])>>10],e+=Ut[n>>4&63],e+=Ut[n<<2&63],e+="="),s.push(e),s.join("")}(0===n&&i===t.length?t:t.slice(n,i))}function Cn(t,n,i){i=Math.min(t.length,i);for(var r=[],e=n;e<i;){var s,o,h,a,u=t[e],c=null,f=u>239?4:u>223?3:u>191?2:1;if(e+f<=i)switch(f){case 1:u<128&&(c=u);break;case 2:128==(192&(s=t[e+1]))&&(a=(31&u)<<6|63&s)>127&&(c=a);break;case 3:o=t[e+2],128==(192&(s=t[e+1]))&&128==(192&o)&&(a=(15&u)<<12|(63&s)<<6|63&o)>2047&&(a<55296||a>57343)&&(c=a);break;case 4:o=t[e+2],h=t[e+3],128==(192&(s=t[e+1]))&&128==(192&o)&&128==(192&h)&&(a=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&h)>65535&&a<1114112&&(c=a)}null===c?(c=65533,f=1):c>65535&&(r.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),r.push(c),e+=f}return function(t){var n=t.length;if(n<=mn)return String.fromCharCode.apply(String,t);for(var i="",r=0;r<n;)i+=String.fromCharCode.apply(String,t.slice(r,r+=mn));return i}(r)}Xt.TYPED_ARRAY_SUPPORT=void 0===a.TYPED_ARRAY_SUPPORT||a.TYPED_ARRAY_SUPPORT,Xt.poolSize=8192,Xt._augment=function(t){return t.__proto__=Xt.prototype,t},Xt.from=function(t,n,i){return Qt(null,t,n,i)},Xt.TYPED_ARRAY_SUPPORT&&(Xt.prototype.__proto__=Uint8Array.prototype,Xt.__proto__=Uint8Array),Xt.alloc=function(t,n,i){return function(t,n,i,r){return tn(n),n<=0?Gt(null,n):void 0!==i?"string"==typeof r?Gt(null,n).fill(i,r):Gt(null,n).fill(i):Gt(null,n)}(0,t,n,i)},Xt.allocUnsafe=function(t){return nn(null,t)},Xt.allocUnsafeSlow=function(t){return nn(null,t)},Xt.isBuffer=function(t){return null!=t&&(!!t._isBuffer||Bn(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&Bn(t.slice(0,0))}(t))},Xt.compare=function(t,n){if(!sn(t)||!sn(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var i=t.length,r=n.length,e=0,s=Math.min(i,r);e<s;++e)if(t[e]!==n[e]){i=t[e],r=n[e];break}return i<r?-1:r<i?1:0},Xt.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Xt.concat=function(t,n){if(!Yt(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Xt.alloc(0);var i;if(void 0===n)for(n=0,i=0;i<t.length;++i)n+=t[i].length;var r=Xt.allocUnsafe(n),e=0;for(i=0;i<t.length;++i){var s=t[i];if(!sn(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,e),e+=s.length}return r},Xt.byteLength=on,Xt.prototype._isBuffer=!0,Xt.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)an(this,n,n+1);return this},Xt.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)an(this,n,n+3),an(this,n+1,n+2);return this},Xt.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)an(this,n,n+7),an(this,n+1,n+6),an(this,n+2,n+5),an(this,n+3,n+4);return this},Xt.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Cn(this,0,t):hn.apply(this,arguments)},Xt.prototype.equals=function(t){if(!sn(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Xt.compare(this,t)},Xt.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},Xt.prototype.compare=function(t,n,i,r,e){if(!sn(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===e&&(e=this.length),n<0||i>t.length||r<0||e>this.length)throw new RangeError("out of range index");if(r>=e&&n>=i)return 0;if(r>=e)return-1;if(n>=i)return 1;if(this===t)return 0;for(var s=(e>>>=0)-(r>>>=0),o=(i>>>=0)-(n>>>=0),h=Math.min(s,o),a=this.slice(r,e),u=t.slice(n,i),c=0;c<h;++c)if(a[c]!==u[c]){s=a[c],o=u[c];break}return s<o?-1:o<s?1:0},Xt.prototype.includes=function(t,n,i){return-1!==this.indexOf(t,n,i)},Xt.prototype.indexOf=function(t,n,i){return un(this,t,n,i,!0)},Xt.prototype.lastIndexOf=function(t,n,i){return un(this,t,n,i,!1)},Xt.prototype.write=function(t,n,i,r){if(void 0===n)r="utf8",i=this.length,n=0;else if(void 0===i&&"string"==typeof n)r=n,i=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n|=0,isFinite(i)?(i|=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var e=this.length-n;if((void 0===i||i>e)&&(i=e),t.length>0&&(i<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return fn(this,t,n,i);case"utf8":case"utf-8":return ln(this,t,n,i);case"ascii":return dn(this,t,n,i);case"latin1":case"binary":return vn(this,t,n,i);case"base64":return wn(this,t,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pn(this,t,n,i);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},Xt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var mn=4096;function Fn(t,n,i){var r="";i=Math.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(127&t[e]);return r}function yn(t,n,i){var r="";i=Math.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(t[e]);return r}function bn(t,n,i){var r,e=t.length;(!n||n<0)&&(n=0),(!i||i<0||i>e)&&(i=e);for(var s="",o=n;o<i;++o)s+=(r=t[o])<16?"0"+r.toString(16):r.toString(16);return s}function En(t,n,i){for(var r=t.slice(n,i),e="",s=0;s<r.length;s+=2)e+=String.fromCharCode(r[s]+256*r[s+1]);return e}function Ln(t,n,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+n>i)throw new RangeError("Trying to access beyond buffer length")}function Sn(t,n,i,r,e,s){if(!sn(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>e||n<s)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function An(t,n,i,r){n<0&&(n=65535+n+1);for(var e=0,s=Math.min(t.length-i,2);e<s;++e)t[i+e]=(n&255<<8*(r?e:1-e))>>>8*(r?e:1-e)}function kn(t,n,i,r){n<0&&(n=4294967295+n+1);for(var e=0,s=Math.min(t.length-i,4);e<s;++e)t[i+e]=n>>>8*(r?e:3-e)&255}function Tn(t,n,i,r){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function xn(t,n,i,r,e){return e||Tn(t,0,i,4),Vt(t,n,i,r,23,4),i+4}function Rn(t,n,i,r,e){return e||Tn(t,0,i,8),Vt(t,n,i,r,52,8),i+8}Xt.prototype.slice=function(t,n){var i,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(n=void 0===n?r:~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<t&&(n=t),Xt.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,n)).__proto__=Xt.prototype;else{var e=n-t;i=new Xt(e,void 0);for(var s=0;s<e;++s)i[s]=this[s+t]}return i},Xt.prototype.readUIntLE=function(t,n,i){t|=0,n|=0,i||Ln(t,n,this.length);for(var r=this[t],e=1,s=0;++s<n&&(e*=256);)r+=this[t+s]*e;return r},Xt.prototype.readUIntBE=function(t,n,i){t|=0,n|=0,i||Ln(t,n,this.length);for(var r=this[t+--n],e=1;n>0&&(e*=256);)r+=this[t+--n]*e;return r},Xt.prototype.readUInt8=function(t,n){return n||Ln(t,1,this.length),this[t]},Xt.prototype.readUInt16LE=function(t,n){return n||Ln(t,2,this.length),this[t]|this[t+1]<<8},Xt.prototype.readUInt16BE=function(t,n){return n||Ln(t,2,this.length),this[t]<<8|this[t+1]},Xt.prototype.readUInt32LE=function(t,n){return n||Ln(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Xt.prototype.readUInt32BE=function(t,n){return n||Ln(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Xt.prototype.readIntLE=function(t,n,i){t|=0,n|=0,i||Ln(t,n,this.length);for(var r=this[t],e=1,s=0;++s<n&&(e*=256);)r+=this[t+s]*e;return r>=(e*=128)&&(r-=Math.pow(2,8*n)),r},Xt.prototype.readIntBE=function(t,n,i){t|=0,n|=0,i||Ln(t,n,this.length);for(var r=n,e=1,s=this[t+--r];r>0&&(e*=256);)s+=this[t+--r]*e;return s>=(e*=128)&&(s-=Math.pow(2,8*n)),s},Xt.prototype.readInt8=function(t,n){return n||Ln(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Xt.prototype.readInt16LE=function(t,n){n||Ln(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},Xt.prototype.readInt16BE=function(t,n){n||Ln(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},Xt.prototype.readInt32LE=function(t,n){return n||Ln(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Xt.prototype.readInt32BE=function(t,n){return n||Ln(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Xt.prototype.readFloatLE=function(t,n){return n||Ln(t,4,this.length),qt(this,t,!0,23,4)},Xt.prototype.readFloatBE=function(t,n){return n||Ln(t,4,this.length),qt(this,t,!1,23,4)},Xt.prototype.readDoubleLE=function(t,n){return n||Ln(t,8,this.length),qt(this,t,!0,52,8)},Xt.prototype.readDoubleBE=function(t,n){return n||Ln(t,8,this.length),qt(this,t,!1,52,8)},Xt.prototype.writeUIntLE=function(t,n,i,r){t=+t,n|=0,i|=0,r||Sn(this,t,n,i,Math.pow(2,8*i)-1,0);var e=1,s=0;for(this[n]=255&t;++s<i&&(e*=256);)this[n+s]=t/e&255;return n+i},Xt.prototype.writeUIntBE=function(t,n,i,r){t=+t,n|=0,i|=0,r||Sn(this,t,n,i,Math.pow(2,8*i)-1,0);var e=i-1,s=1;for(this[n+e]=255&t;--e>=0&&(s*=256);)this[n+e]=t/s&255;return n+i},Xt.prototype.writeUInt8=function(t,n,i){return t=+t,n|=0,i||Sn(this,t,n,1,255,0),Xt.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},Xt.prototype.writeUInt16LE=function(t,n,i){return t=+t,n|=0,i||Sn(this,t,n,2,65535,0),Xt.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):An(this,t,n,!0),n+2},Xt.prototype.writeUInt16BE=function(t,n,i){return t=+t,n|=0,i||Sn(this,t,n,2,65535,0),Xt.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):An(this,t,n,!1),n+2},Xt.prototype.writeUInt32LE=function(t,n,i){return t=+t,n|=0,i||Sn(this,t,n,4,4294967295,0),Xt.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):kn(this,t,n,!0),n+4},Xt.prototype.writeUInt32BE=function(t,n,i){return t=+t,n|=0,i||Sn(this,t,n,4,4294967295,0),Xt.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):kn(this,t,n,!1),n+4},Xt.prototype.writeIntLE=function(t,n,i,r){if(t=+t,n|=0,!r){var e=Math.pow(2,8*i-1);Sn(this,t,n,i,e-1,-e)}var s=0,o=1,h=0;for(this[n]=255&t;++s<i&&(o*=256);)t<0&&0===h&&0!==this[n+s-1]&&(h=1),this[n+s]=(t/o>>0)-h&255;return n+i},Xt.prototype.writeIntBE=function(t,n,i,r){if(t=+t,n|=0,!r){var e=Math.pow(2,8*i-1);Sn(this,t,n,i,e-1,-e)}var s=i-1,o=1,h=0;for(this[n+s]=255&t;--s>=0&&(o*=256);)t<0&&0===h&&0!==this[n+s+1]&&(h=1),this[n+s]=(t/o>>0)-h&255;return n+i},Xt.prototype.writeInt8=function(t,n,i){return t=+t,n|=0,i||Sn(this,t,n,1,127,-128),Xt.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[n]=255&t,n+1},Xt.prototype.writeInt16LE=function(t,n,i){return t=+t,n|=0,i||Sn(this,t,n,2,32767,-32768),Xt.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):An(this,t,n,!0),n+2},Xt.prototype.writeInt16BE=function(t,n,i){return t=+t,n|=0,i||Sn(this,t,n,2,32767,-32768),Xt.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):An(this,t,n,!1),n+2},Xt.prototype.writeInt32LE=function(t,n,i){return t=+t,n|=0,i||Sn(this,t,n,4,2147483647,-2147483648),Xt.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):kn(this,t,n,!0),n+4},Xt.prototype.writeInt32BE=function(t,n,i){return t=+t,n|=0,i||Sn(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Xt.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):kn(this,t,n,!1),n+4},Xt.prototype.writeFloatLE=function(t,n,i){return xn(this,t,n,!0,i)},Xt.prototype.writeFloatBE=function(t,n,i){return xn(this,t,n,!1,i)},Xt.prototype.writeDoubleLE=function(t,n,i){return Rn(this,t,n,!0,i)},Xt.prototype.writeDoubleBE=function(t,n,i){return Rn(this,t,n,!1,i)},Xt.prototype.copy=function(t,n,i,r){if(i||(i=0),r||0===r||(r=this.length),n>=t.length&&(n=t.length),n||(n=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-i&&(r=t.length-n+i);var e,s=r-i;if(this===t&&i<n&&n<r)for(e=s-1;e>=0;--e)t[e+n]=this[e+i];else if(s<1e3||!Xt.TYPED_ARRAY_SUPPORT)for(e=0;e<s;++e)t[e+n]=this[e+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+s),n);return s},Xt.prototype.fill=function(t,n,i,r){if("string"==typeof t){if("string"==typeof n?(r=n,n=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),1===t.length){var e=t.charCodeAt(0);e<256&&(t=e)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Xt.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(n<0||this.length<n||this.length<i)throw new RangeError("Out of range index");if(i<=n)return this;var s;if(n>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(s=n;s<i;++s)this[s]=t;else{var o=sn(t)?t:Mn(new Xt(t,r).toString()),h=o.length;for(s=0;s<i-n;++s)this[s+n]=o[s%h]}return this};var In=/[^+\/0-9A-Za-z-_]/g;function Mn(t,n){var i;n=n||1/0;for(var r=t.length,e=null,s=[],o=0;o<r;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!e){if(i>56319){(n-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(n-=3)>-1&&s.push(239,191,189);continue}e=i;continue}if(i<56320){(n-=3)>-1&&s.push(239,191,189),e=i;continue}i=65536+(e-55296<<10|i-56320)}else e&&(n-=3)>-1&&s.push(239,191,189);if(e=null,i<128){if((n-=1)<0)break;s.push(i)}else if(i<2048){if((n-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((n-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function Dn(t){return function(t){var n,i,r,e,s,o;Zt||$t();var h=t.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=new zt(3*h/4-(s="="===t[h-2]?2:"="===t[h-1]?1:0)),r=s>0?h-4:h;var a=0;for(n=0,i=0;n<r;n+=4,i+=3)e=Ht[t.charCodeAt(n)]<<18|Ht[t.charCodeAt(n+1)]<<12|Ht[t.charCodeAt(n+2)]<<6|Ht[t.charCodeAt(n+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=255&e;return 2===s?(e=Ht[t.charCodeAt(n)]<<2|Ht[t.charCodeAt(n+1)]>>4,o[a++]=255&e):1===s&&(e=Ht[t.charCodeAt(n)]<<10|Ht[t.charCodeAt(n+1)]<<4|Ht[t.charCodeAt(n+2)]>>2,o[a++]=e>>8&255,o[a++]=255&e),o}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(In,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function jn(t,n,i,r){for(var e=0;e<r&&!(e+i>=n.length||e>=t.length);++e)n[e+i]=t[e];return e}function Bn(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function _n(t){return null===t}function Pn(t){return"string"==typeof t}function Nn(t){return"object"==typeof t&&null!==t}function On(t,n){return Object.prototype.hasOwnProperty.call(t,n)}var Un=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function Hn(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}function zn(t,n){if(t.map)return t.map(n);for(var i=[],r=0;r<t.length;r++)i.push(n(t[r],r));return i}var Zn=Object.keys||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.push(i);return n};function $n(t,n,i,r){i=i||"=";var e={};if("string"!=typeof t||0===t.length)return e;var s=/\+/g;t=t.split(n=n||"&");var o=1e3;r&&"number"==typeof r.maxKeys&&(o=r.maxKeys);var h=t.length;o>0&&h>o&&(h=o);for(var a=0;a<h;++a){var u,c,f,l,d=t[a].replace(s,"%20"),v=d.indexOf(i);v>=0?(u=d.substr(0,v),c=d.substr(v+1)):(u=d,c=""),f=decodeURIComponent(u),l=decodeURIComponent(c),On(e,f)?Un(e[f])?e[f].push(l):e[f]=[e[f],l]:e[f]=l}return e}function Kn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var qn=/^([a-z0-9.+-]+:)/i,Vn=/:[0-9]*$/,Wn=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Yn=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Jn=["'"].concat(Yn),Gn=["%","/","?",";","#"].concat(Jn),Xn=["/","?","#"],Qn=/^[+a-z0-9A-Z_-]{0,63}$/,ti=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ni={javascript:!0,"javascript:":!0},ii={javascript:!0,"javascript:":!0},ri={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function ei(t,n,i){if(t&&Nn(t)&&t instanceof Kn)return t;var r=new Kn;return r.parse(t,n,i),r}function si(t){var n=t.auth||"";n&&(n=(n=encodeURIComponent(n)).replace(/%3A/i,":"),n+="@");var i,r,e,s=t.protocol||"",o=t.pathname||"",h=t.hash||"",a=!1,u="";t.host?a=n+t.host:t.hostname&&(a=n+(-1===t.hostname.indexOf(":")?t.hostname:"["+this.hostname+"]"),t.port&&(a+=":"+t.port)),t.query&&Nn(t.query)&&Object.keys(t.query).length&&(r=r||"&",e=e||"=",null===(i=t.query)&&(i=void 0),u="object"==typeof i?zn(Zn(i),(function(t){var n=encodeURIComponent(Hn(t))+e;return Un(i[t])?zn(i[t],(function(t){return n+encodeURIComponent(Hn(t))})).join(r):n+encodeURIComponent(Hn(i[t]))})).join(r):"");var c=t.search||u&&"?"+u||"";return s&&":"!==s.substr(-1)&&(s+=":"),t.slashes||(!s||ri[s])&&!1!==a?(a="//"+(a||""),o&&"/"!==o.charAt(0)&&(o="/"+o)):a||(a=""),h&&"#"!==h.charAt(0)&&(h="#"+h),c&&"?"!==c.charAt(0)&&(c="?"+c),s+a+(o=o.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(c=c.replace("#","%23"))+h}function oi(t){var n=t.host,i=Vn.exec(n);i&&(":"!==(i=i[0])&&(t.port=i.substr(1)),n=n.substr(0,n.length-i.length)),n&&(t.hostname=n)}Kn.prototype.parse=function(t,n,i){return function(t,n,i,r){if(!Pn(n))throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var e=n.indexOf("?"),s=-1!==e&&e<n.indexOf("#")?"?":"#",o=n.split(s);o[0]=o[0].replace(/\\/g,"/");var h=n=o.join(s);if(h=h.trim(),!r&&1===n.split("#").length){var a=Wn.exec(h);if(a)return t.path=h,t.href=h,t.pathname=a[1],a[2]?(t.search=a[2],t.query=i?$n(t.search.substr(1)):t.search.substr(1)):i&&(t.search="",t.query={}),t}var u,c,f,l=qn.exec(h);if(l){var d=(l=l[0]).toLowerCase();t.protocol=d,h=h.substr(l.length)}if(r||l||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var v="//"===h.substr(0,2);!v||l&&ii[l]||(h=h.substr(2),t.slashes=!0)}if(!ii[l]&&(v||l&&!ri[l])){var w,p,g=-1;for(u=0;u<Xn.length;u++)-1!==(c=h.indexOf(Xn[u]))&&(-1===g||c<g)&&(g=c);for(-1!==(p=-1===g?h.lastIndexOf("@"):h.lastIndexOf("@",g))&&(w=h.slice(0,p),h=h.slice(p+1),t.auth=decodeURIComponent(w)),g=-1,u=0;u<Gn.length;u++)-1!==(c=h.indexOf(Gn[u]))&&(-1===g||c<g)&&(g=c);-1===g&&(g=h.length),t.host=h.slice(0,g),h=h.slice(g),oi(t),t.hostname=t.hostname||"";var C="["===t.hostname[0]&&"]"===t.hostname[t.hostname.length-1];if(!C){var m=t.hostname.split(/\./);for(u=0,f=m.length;u<f;u++){var F=m[u];if(F&&!F.match(Qn)){for(var y="",b=0,E=F.length;b<E;b++)F.charCodeAt(b)>127?y+="x":y+=F[b];if(!y.match(Qn)){var L=m.slice(0,u),S=m.slice(u+1),A=F.match(ti);A&&(L.push(A[1]),S.unshift(A[2])),S.length&&(h="/"+S.join(".")+h),t.hostname=L.join(".");break}}}}t.hostname=t.hostname.length>255?"":t.hostname.toLowerCase(),C||(t.hostname=Ot(t.hostname)),t.host=(t.hostname||"")+(t.port?":"+t.port:""),t.href+=t.host,C&&(t.hostname=t.hostname.substr(1,t.hostname.length-2),"/"!==h[0]&&(h="/"+h))}if(!ni[d])for(u=0,f=Jn.length;u<f;u++){var k=Jn[u];if(-1!==h.indexOf(k)){var T=encodeURIComponent(k);T===k&&(T=escape(k)),h=h.split(k).join(T)}}var x=h.indexOf("#");-1!==x&&(t.hash=h.substr(x),h=h.slice(0,x));var R=h.indexOf("?");return-1!==R?(t.search=h.substr(R),t.query=h.substr(R+1),i&&(t.query=$n(t.query)),h=h.slice(0,R)):i&&(t.search="",t.query={}),h&&(t.pathname=h),ri[d]&&t.hostname&&!t.pathname&&(t.pathname="/"),(t.pathname||t.search)&&(t.path=(t.pathname||"")+(t.search||"")),t.href=si(t),t}(this,t,n,i)},Kn.prototype.format=function(){return si(this)},Kn.prototype.resolve=function(t){return this.resolveObject(ei(t,!1,!0)).format()},Kn.prototype.resolveObject=function(t){if(Pn(t)){var n=new Kn;n.parse(t,!1,!0),t=n}for(var i,r=new Kn,e=Object.keys(this),s=0;s<e.length;s++){var o=e[s];r[o]=this[o]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),a=0;a<h.length;a++){var u=h[a];"protocol"!==u&&(r[u]=t[u])}return ri[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!ri[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var l=c[f];r[l]=t[l]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||ii[t.protocol])r.pathname=t.pathname;else{for(i=(t.pathname||"").split("/");i.length&&!(t.host=i.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),r.pathname=i.join("/")}return r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,(r.pathname||r.search)&&(r.path=(r.pathname||"")+(r.search||"")),r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var d,v=r.pathname&&"/"===r.pathname.charAt(0),w=t.host||t.pathname&&"/"===t.pathname.charAt(0),p=w||v||r.host&&t.pathname,g=p,C=r.pathname&&r.pathname.split("/")||[],m=r.protocol&&!ri[r.protocol];if(i=t.pathname&&t.pathname.split("/")||[],m&&(r.hostname="",r.port=null,r.host&&(""===C[0]?C[0]=r.host:C.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===i[0]?i[0]=t.host:i.unshift(t.host)),t.host=null),p=p&&(""===i[0]||""===C[0])),w)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,C=i;else if(i.length)C||(C=[]),C.pop(),C=C.concat(i),r.search=t.search,r.query=t.query;else if(null!=t.search)return m&&(r.hostname=r.host=C.shift(),(d=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=d.shift(),r.host=r.hostname=d.shift())),r.search=t.search,r.query=t.query,_n(r.pathname)&&_n(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!C.length)return r.pathname=null,r.path=r.search?"/"+r.search:null,r.href=r.format(),r;for(var F=C.slice(-1)[0],y=(r.host||t.host||C.length>1)&&("."===F||".."===F)||""===F,b=0,E=C.length;E>=0;E--)"."===(F=C[E])?C.splice(E,1):".."===F?(C.splice(E,1),b++):b&&(C.splice(E,1),b--);if(!p&&!g)for(;b--;b)C.unshift("..");!p||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),y&&"/"!==C.join("/").substr(-1)&&C.push("");var L=""===C[0]||C[0]&&"/"===C[0].charAt(0);return m&&(r.hostname=r.host=L?"":C.length?C.shift():"",(d=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=d.shift(),r.host=r.hostname=d.shift())),(p=p||r.host&&C.length)&&!L&&C.unshift(""),C.length?r.pathname=C.join("/"):(r.pathname=null,r.path=null),_n(r.pathname)&&_n(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},Kn.prototype.parseHost=function(){return oi(this)};const hi=class{constructor(n){t(this,n),this.href="#"}componentWillLoad(){const t=ei(this.href),n=this.stripTrailingSlash(t.pathname),i=this.stripTrailingSlash(window.location.pathname);this.isActive=null==this.isActive?n==i:this.isActive}stripTrailingSlash(t){try{return t.replace(/^(.+?)\/*?$/,"$1")}catch(n){return t}}clicked(){this.element.parentNode.parentElement.querySelectorAll("crds-snail-trail-link").forEach(t=>t.isActive=!1),this.isActive=!0}render(){let t={href:this.href,onClick:this.clicked.bind(this),class:this.isActive?"active":""};return n("a",Object.assign({"data-automation-id":this.automationId},t),n("slot",null))}get element(){return i(this)}static get style(){return"a{color:#4d4d4d;display:block;font-weight:300;padding:11px 15px;position:relative;text-decoration:none}a.active:before{border:10px solid transparent;border-bottom:0;border-top-color:#0095d9;content:\"\";left:50%;position:absolute;top:0;-webkit-transform:translateX(-50%);transform:translateX(-50%)}\@media (hover){a:hover:after{background-color:#0095d9;bottom:0;content:\"\";display:inline-block;height:2px;left:15px;position:absolute;width:calc(100% - 30px)}}"}};var ai={iframeResizer:o((function(t){!function(n){if("undefined"!=typeof window){var i,r=0,e=!1,s=!1,o="message".length,h="[iFrameSizer]",a=h.length,u=null,c=window.requestAnimationFrame,f={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},l={},d=null,v={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClosed:function(){},onInit:function(){},onMessage:function(){b("onMessage function not defined")},onResized:function(){},onScroll:function(){return!0}},w={};window.jQuery&&((i=window.jQuery).fn?i.fn.iFrameResize||(i.fn.iFrameResize=function(t){return this.filter("iframe").each((function(n,i){_(i,t)})).end()}):y("","Unable to bind to jQuery, it is not fully loaded.")),"function"==typeof n&&n.amd?n([],U):t.exports=U(),window.iFrameResize=window.iFrameResize||U()}function p(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function g(t,n,i){t.addEventListener(n,i,!1)}function C(t,n,i){t.removeEventListener(n,i,!1)}function m(t){return l[t]?l[t].log:e}function F(t,n){E("log",t,n,m(t))}function y(t,n){E("info",t,n,m(t))}function b(t,n){E("warn",t,n,!0)}function E(t,n,i,r){!0===r&&"object"==typeof window.console&&console[t](function(t){return h+"["+function(t){var n="Host page: "+t;return window.top!==window.self&&(n=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+t:"Nested host page: "+t),n}(t)+"]"}(n),i)}function L(t){function n(){i("Height"),i("Width"),D((function(){M(L),x(A),d("onResized",L)}),L,"init")}function i(t){var n=Number(l[A]["max"+t]),i=Number(l[A]["min"+t]),r=t.toLowerCase(),e=Number(L[r]);F(A,"Checking "+r+" is in range "+i+"-"+n),e<i&&(e=i,F(A,"Set "+r+" to min value")),e>n&&(e=n,F(A,"Set "+r+" to max value")),L[r]=""+e}function r(t){return E.substr(E.indexOf(":")+o+t)}function e(t,n){var i,r;i=function(){var i,r;j("Send Page Info","pageInfo:"+(i=document.body.getBoundingClientRect(),r=L.iframe.getBoundingClientRect(),JSON.stringify({iframeHeight:r.height,iframeWidth:r.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(r.top-i.top,10),offsetLeft:parseInt(r.left-i.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})),t,n)},w[r=n]||(w[r]=setTimeout((function(){w[r]=null,i()}),32))}function s(t){var n=t.getBoundingClientRect();return T(A),{x:Math.floor(Number(n.left)+Number(u.x)),y:Math.floor(Number(n.top)+Number(u.y))}}function c(t){var n=t?s(L.iframe):{x:0,y:0},i={x:Number(L.width)+n.x,y:Number(L.height)+n.y};F(A,"Reposition requested from iFrame (offset x:"+n.x+" y:"+n.y+")"),window.top!==window.self?window.parentIFrame?window.parentIFrame["scrollTo"+(t?"Offset":"")](i.x,i.y):b(A,"Unable to scroll to requested position, window.parentIFrame not found"):(u=i,f(),F(A,"--"))}function f(){!1!==d("onScroll",u)?x(A):R()}function d(t,n){return S(A,t,n)}var v,p,m,E=t.data,L={},A=null;"[iFrameResizerChild]Ready"===E?function(){for(var t in l)j("iFrame requested init",B(t),document.getElementById(t),t)}():h===(""+E).substr(0,a)&&E.substr(a).split(":")[0]in l?(m=E.substr(a).split(":"),l[A=(L={iframe:l[m[0]]&&l[m[0]].iframe,id:m[0],height:m[1],width:m[2],type:m[3]}).id]&&(l[A].loaded=!0),(p=L.type in{true:1,false:1,undefined:1})&&F(A,"Ignoring init message from meta parent page"),!p&&function(t){var n=!0;return l[t]||(n=!1,b(L.type+" No settings for "+t+". Message was: "+E)),n}(A)&&(F(A,"Received: "+E),v=!0,null===L.iframe&&(b(A,"IFrame ("+L.id+") not found"),v=!1),v&&function(){var n,i=t.origin,r=l[A]&&l[A].checkOrigin;if(r&&""+i!="null"&&!(r.constructor===Array?function(){var t=0,n=!1;for(F(A,"Checking connection is from allowed list of origins: "+r);t<r.length;t++)if(r[t]===i){n=!0;break}return n}():(F(A,"Checking connection is from: "+(n=l[A]&&l[A].remoteHost)),i===n)))throw new Error("Unexpected message received from: "+i+" for "+L.iframe.id+". Message was: "+t.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(l[A]&&l[A].firstRun&&l[A]&&(l[A].firstRun=!1),L.type){case"close":l[A].closeRequeston?S(A,"onCloseRequest",l[A].iframe):k(L.iframe);break;case"message":t=r(6),F(A,"onMessage passed: {iframe: "+L.iframe.id+", message: "+t+"}"),d("onMessage",{iframe:L.iframe,message:JSON.parse(t)}),F(A,"--");break;case"scrollTo":c(!1);break;case"scrollToOffset":c(!0);break;case"pageInfo":e(l[A]&&l[A].iframe,A),function(){function t(t,r){function s(){l[i]?e(l[i].iframe,i):n()}["scroll","resize"].forEach((function(n){F(i,t+n+" listener for sendPageInfo"),r(window,n,s)}))}function n(){t("Remove ",C)}var i=A;t("Add ",g),l[i]&&(l[i].stopPageInfo=n)}();break;case"pageInfoStop":l[A]&&l[A].stopPageInfo&&(l[A].stopPageInfo(),delete l[A].stopPageInfo);break;case"inPageLink":!function(t){var n,i=t.split("#")[1]||"",r=decodeURIComponent(i),e=document.getElementById(r)||document.getElementsByName(r)[0];e?(n=s(e),F(A,"Moving to in page link (#"+i+") at x: "+n.x+" y: "+n.y),u={x:n.x,y:n.y},f(),F(A,"--")):window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(i):F(A,"In page link #"+i+" not found and window.parentIFrame not found"):F(A,"In page link #"+i+" not found")}(r(9));break;case"reset":I(L);break;case"init":n(),d("onInit",L.iframe);break;default:n()}var t}())):y(A,"Ignored: "+E)}function S(t,n,i){var r=null,e=null;if(l[t]){if("function"!=typeof(r=l[t][n]))throw new TypeError(n+" on iFrame["+t+"] is not a function");e=r(i)}return e}function A(t){delete l[t.id]}function k(t){var n=t.id;F(n,"Removing iFrame: "+n);try{t.parentNode&&t.parentNode.removeChild(t)}catch(t){b(t)}S(n,"onClosed",n),F(n,"--"),A(t)}function T(t){null===u&&F(t,"Get page position: "+(u={x:window.pageXOffset!==n?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==n?window.pageYOffset:document.documentElement.scrollTop}).x+","+u.y)}function x(t){null!==u&&(window.scrollTo(u.x,u.y),F(t,"Set page position: "+u.x+","+u.y),R())}function R(){u=null}function I(t){F(t.id,"Size reset requested by "+("init"===t.type?"host page":"iFrame")),T(t.id),D((function(){M(t),j("reset","reset",t.iframe,t.id)}),t,"reset")}function M(t){function n(n){!function(n){t.id?(t.iframe.style[n]=t[n]+"px",F(t.id,"IFrame ("+i+") "+n+" set to "+t[n]+"px")):F("undefined","messageData id not set")}(n),function(n){s||"0"!==t[n]||(s=!0,F(i,"Hidden iFrame detected, creating visibility listener"),function(){function t(){Object.keys(l).forEach((function(t){!function(t){function n(n){return"0px"===(l[t]&&l[t].iframe.style[n])}l[t]&&null!==l[t].iframe.offsetParent&&(n("height")||n("width"))&&j("Visibility change","resize",l[t].iframe,t)}(l[t])}))}var n,i=p();i&&(n=document.querySelector("body"),new i((function(n){F("window","Mutation observed: "+n[0].target+" "+n[0].type),P(t,16)})).observe(n,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}))}())}(n)}var i=t.iframe.id;l[i]&&(l[i].sizeHeight&&n("height"),l[i].sizeWidth&&n("width"))}function D(t,n,i){i!==n.type&&c?(F(n.id,"Requesting animation frame"),c(t)):t()}function j(t,n,i,r,e){var s,o=!1;l[r=r||i.id]&&(i&&"contentWindow"in i&&null!==i.contentWindow?(F(r,"["+t+"] Sending msg to iframe["+r+"] ("+n+") targetOrigin: "+(s=l[r]&&l[r].targetOrigin)),i.contentWindow.postMessage(h+n,s)):b(r,"["+t+"] IFrame("+r+") not found"),e&&l[r]&&l[r].warningTimeout&&(l[r].msgTimeout=setTimeout((function(){!l[r]||l[r].loaded||o||(o=!0,b(r,"IFrame has not responded within "+l[r].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}),l[r].warningTimeout)))}function B(t){return t+":"+l[t].bodyMarginV1+":"+l[t].sizeWidth+":"+l[t].log+":"+l[t].interval+":"+l[t].enablePublicMethods+":"+l[t].autoResize+":"+l[t].bodyMargin+":"+l[t].heightCalculationMethod+":"+l[t].bodyBackground+":"+l[t].bodyPadding+":"+l[t].tolerance+":"+l[t].inPageLinks+":"+l[t].resizeFrom+":"+l[t].widthCalculationMethod}function _(t,i){function s(t){var n=t.split("Callback");if(2===n.length){var i="on"+n[0].charAt(0).toUpperCase()+n[0].slice(1);this[i]=this[t],delete this[t],b(a,"Deprecated: '"+t+"' has been renamed '"+i+"'. The old method will be removed in the next major version.")}}var o,h,a=function(n){var s;return""===n&&(t.id=(s=i&&i.id||v.id+r++,null!==document.getElementById(s)&&(s+=r++),n=s),e=(i||{}).log,F(n,"Added missing iframe ID: "+n+" ("+t.src+")")),n}(t.id);a in l&&"iFrameResizer"in t?b(a,"Ignored iFrame, already setup."):(function(n){var i;n=n||{},l[a]={firstRun:!0,iframe:t,remoteHost:t.src.split("/").slice(0,3).join("/")},function(t){if("object"!=typeof t)throw new TypeError("Options is not an object")}(n),Object.keys(n).forEach(s,n),function(t){for(var n in v)Object.prototype.hasOwnProperty.call(v,n)&&(l[a][n]=Object.prototype.hasOwnProperty.call(t,n)?t[n]:v[n])}(n),l[a]&&(l[a].targetOrigin=!0===l[a].checkOrigin?""===(i=l[a].remoteHost)||"file://"===i?"*":i:"*")}(i),function(){switch(F(a,"IFrame scrolling "+(l[a]&&l[a].scrolling?"enabled":"disabled")+" for "+a),t.style.overflow=!1===(l[a]&&l[a].scrolling)?"hidden":"auto",l[a]&&l[a].scrolling){case"omit":break;case!0:t.scrolling="yes";break;case!1:t.scrolling="no";break;default:t.scrolling=l[a]?l[a].scrolling:"no"}}(),function(){function n(n){1/0!==l[a][n]&&0!==l[a][n]&&(t.style[n]=l[a][n]+"px",F(a,"Set "+n+" = "+l[a][n]+"px"))}function i(t){if(l[a]["min"+t]>l[a]["max"+t])throw new Error("Value for min"+t+" can not be greater than max"+t)}i("Height"),i("Width"),n("maxHeight"),n("minHeight"),n("maxWidth"),n("minWidth")}(),"number"!=typeof(l[a]&&l[a].bodyMargin)&&"0"!==(l[a]&&l[a].bodyMargin)||(l[a].bodyMarginV1=l[a].bodyMargin,l[a].bodyMargin=l[a].bodyMargin+"px"),o=B(a),(h=p())&&function(n){t.parentNode&&new n((function(n){n.forEach((function(n){Array.prototype.slice.call(n.removedNodes).forEach((function(n){n===t&&k(t)}))}))})).observe(t.parentNode,{childList:!0})}(h),g(t,"load",(function(){j("iFrame.onload",o,t,n,!0),(!l[a]||!l[a].firstRun)&&l[a]&&l[a].heightCalculationMethod in f&&I({iframe:t,height:0,width:0,type:"init"})})),j("init",o,t,n,!0),l[a]&&(l[a].iframe.iFrameResizer={close:k.bind(null,l[a].iframe),removeListeners:A.bind(null,l[a].iframe),resize:j.bind(null,"Window resize","resize",l[a].iframe),moveToAnchor:function(t){j("Move to anchor","moveToAnchor:"+t,l[a].iframe,a)},sendMessage:function(t){j("Send Message","message:"+(t=JSON.stringify(t)),l[a].iframe,a)}}))}function P(t,n){null===d&&(d=setTimeout((function(){d=null,t()}),n))}function N(){"hidden"!==document.visibilityState&&(F("document","Trigger event: Visiblity change"),P((function(){O("Tab Visable","resize")}),16))}function O(t,n){Object.keys(l).forEach((function(i){(function(t){return l[t]&&"parent"===l[t].resizeFrom&&l[t].autoResize&&!l[t].firstRun})(i)&&j(t,n,document.getElementById(i),i)}))}function U(){function t(t,n){n&&(function(){if(!n.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==n.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+n.tagName+">")}(),_(n,t),i.push(n))}var i;return function(){var t,n=["moz","webkit","o","ms"];for(t=0;t<n.length&&!c;t+=1)c=window[n[t]+"RequestAnimationFrame"];c||F("setup","RequestAnimationFrame not supported")}(),g(window,"message",L),g(window,"resize",(function(){F("window","Trigger event: resize"),P((function(){O("Window resize","resize")}),16)})),g(document,"visibilitychange",N),g(document,"-webkit-visibilitychange",N),function(r,e){switch(i=[],function(t){t&&t.enablePublicMethods&&b("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}(r),typeof e){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(e||"iframe"),t.bind(n,r));break;case"object":t(r,e);break;default:throw new TypeError("Unexpected data type ("+typeof e+")")}return i}}}()})),iframeResizerContentWindow:o((function(t){!function(n){if("undefined"!=typeof window){var i=!0,r=10,e="",s=0,o="",h=null,a="",u=!1,c={resize:1,click:1},f=128,l=!0,d=1,v="bodyOffset",w=v,p=!0,g="",C={},m=32,F=null,y=!1,b="[iFrameSizer]",E=b.length,L="",S={max:1,min:1,bodyScroll:1,documentElementScroll:1},A="child",k=!0,T=window.parent,x="*",R=0,I=!1,M=null,D=16,j=1,B="scroll",_=B,P=window,N=function(){at("onMessage function not defined")},O=function(){},U=function(){},H={height:function(){return at("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return at("Custom width calculation function not defined"),document.body.scrollWidth}},z={},Z=!1;try{var $=Object.create({},{passive:{get:function(){Z=!0}}});window.addEventListener("test",it,$),window.removeEventListener("test",it,$)}catch(t){}var K,q,V,W,Y,J,G,X=Date.now||function(){return(new Date).getTime()},Q={bodyOffset:function(){return document.body.offsetHeight+Ft("marginTop")+Ft("marginBottom")},offset:function(){return Q.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return H.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,bt(Q))},min:function(){return Math.min.apply(null,bt(Q))},grow:function(){return Q.max()},lowestElement:function(){return Math.max(Q.bodyOffset()||Q.documentElementOffset(),yt("bottom",Lt()))},taggedElement:function(){return Et("bottom","data-iframe-height")}},tt={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return H.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(tt.bodyScroll(),tt.documentElementScroll())},max:function(){return Math.max.apply(null,bt(tt))},min:function(){return Math.min.apply(null,bt(tt))},rightMostElement:function(){return yt("right",Lt())},taggedElement:function(){return Et("right","data-iframe-width")}},nt=(K=St,Y=null,J=0,G=function(){J=X(),Y=null,W=K.apply(q,V),Y||(q=V=null)},function(){var t=X();J||(J=t);var n=D-(t-J);return q=this,V=arguments,n<=0||n>D?(Y&&(clearTimeout(Y),Y=null),J=t,W=K.apply(q,V),Y||(q=V=null)):Y||(Y=setTimeout(G,n)),W});rt(window,"message",It),rt(window,"readystatechange",Mt),Mt()}function it(){}function rt(t,n,i,r){t.addEventListener(n,i,!!Z&&(r||{}))}function et(t,n,i){t.removeEventListener(n,i,!1)}function st(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ot(t){return b+"["+L+"] "+t}function ht(t){y&&"object"==typeof window.console&&console.log(ot(t))}function at(t){"object"==typeof window.console&&console.warn(ot(t))}function ut(){var t,r;!function(){function t(t){return"true"===t}var r=g.substr(E).split(":");L=r[0],s=n!==r[1]?Number(r[1]):s,u=n!==r[2]?t(r[2]):u,y=n!==r[3]?t(r[3]):y,m=n!==r[4]?Number(r[4]):m,i=n!==r[6]?t(r[6]):i,o=r[7],w=n!==r[8]?r[8]:w,e=r[9],a=r[10],R=n!==r[11]?Number(r[11]):R,C.enable=n!==r[12]&&t(r[12]),A=n!==r[13]?r[13]:A,_=n!==r[14]?r[14]:_}(),ht("Initialising iFrame ("+location.href+")"),function(){function t(t,n){return"function"==typeof t&&(ht("Setup custom "+n+"CalcMethod"),H[n]=t,t="custom"),t}var n;"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(n=window.iFrameResizer,ht("Reading data from page: "+JSON.stringify(n)),Object.keys(n).forEach(ct,n),N="onMessage"in n?n.onMessage:N,O="onReady"in n?n.onReady:O,x="targetOrigin"in n?n.targetOrigin:x,_="widthCalculationMethod"in n?n.widthCalculationMethod:_,w=t(w="heightCalculationMethod"in n?n.heightCalculationMethod:w,"height"),_=t(_,"width")),ht("TargetOrigin for parent set to: "+x)}(),n===o&&(o=s+"px"),ft("margin",(-1!==(r=o).indexOf("-")&&(at("Negative CSS value ignored for margin"),r=""),r)),ft("background",e),ft("padding",a),(t=document.createElement("div")).style.clear="both",t.style.display="block",t.style.height="0",document.body.appendChild(t),wt(),pt(),document.documentElement.style.height="",document.body.style.height="",ht('HTML & body height set to "auto"'),ht("Enable public methods"),P.parentIFrame={autoResize:function(t){return!0===t&&!1===i?(i=!0,gt()):!1===t&&!0===i&&(i=!1,Ct()),i},close:function(){Rt(0,0,"close"),ht("Disable outgoing messages"),k=!1,ht("Remove event listener: Message"),et(window,"message",It),!0===i&&Ct()},getId:function(){return L},getPageInfo:function(t){"function"==typeof t?(U=t,Rt(0,0,"pageInfo")):(U=function(){},Rt(0,0,"pageInfoStop"))},moveToAnchor:function(t){C.findTarget(t)},reset:function(){xt("parentIFrame.reset")},scrollTo:function(t,n){Rt(n,t,"scrollTo")},scrollToOffset:function(t,n){Rt(n,t,"scrollToOffset")},sendMessage:function(t,n){Rt(0,0,"message",JSON.stringify(t),n)},setHeightCalculationMethod:function(t){w=t,wt()},setWidthCalculationMethod:function(t){_=t,pt()},setTargetOrigin:function(t){ht("Set targetOrigin: "+t),x=t},size:function(t,n){At("size","parentIFrame.size("+(t||"")+(n?","+n:"")+")",t,n)}},gt(),C=function(){function t(t){var i=t.split("#")[1]||t,r=decodeURIComponent(i),e=document.getElementById(r)||document.getElementsByName(r)[0];n!==e?function(t){var r,e,s=(r=t.getBoundingClientRect(),e={x:window.pageXOffset!==n?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==n?window.pageYOffset:document.documentElement.scrollTop},{x:parseInt(r.left,10)+parseInt(e.x,10),y:parseInt(r.top,10)+parseInt(e.y,10)});ht("Moving to in page link (#"+i+") at x: "+s.x+" y: "+s.y),Rt(s.y,s.x,"scrollToOffset")}(e):(ht("In page link (#"+i+") not found in iFrame, so sending to parent"),Rt(0,0,"inPageLink","#"+i))}function i(){""!==location.hash&&"#"!==location.hash&&t(location.href)}return C.enable?Array.prototype.forEach&&document.querySelectorAll?(ht("Setting up location.hash handlers"),Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),(function(n){"#"!==n.getAttribute("href")&&rt(n,"click",(function(n){n.preventDefault(),t(this.getAttribute("href"))}))})),rt(window,"hashchange",i),setTimeout(i,f)):at("In page linking not fully supported in this browser! (See README.md for IE8 workaround)"):ht("In page linking not enabled"),{findTarget:t}}(),At("init","Init message from host page"),O()}function ct(t){var n=t.split("Callback");if(2===n.length){var i="on"+n[0].charAt(0).toUpperCase()+n[0].slice(1);this[i]=this[t],delete this[t],at("Deprecated: '"+t+"' has been renamed '"+i+"'. The old method will be removed in the next major version.")}}function ft(t,i){n!==i&&""!==i&&"null"!==i&&(document.body.style[t]=i,ht("Body "+t+' set to "'+i+'"'))}function lt(t){var n={add:function(n){function i(){At(t.eventName,t.eventType)}z[n]=i,rt(window,n,i,{passive:!0})},remove:function(t){var n=z[t];delete z[t],et(window,t,n)}};t.eventNames&&Array.prototype.map?(t.eventName=t.eventNames[0],t.eventNames.map(n[t.method])):n[t.method](t.eventName),ht(st(t.method)+" event listener: "+t.eventType)}function dt(t){lt({method:t,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),lt({method:t,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),lt({method:t,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),lt({method:t,eventType:"Input",eventName:"input"}),lt({method:t,eventType:"Mouse Up",eventName:"mouseup"}),lt({method:t,eventType:"Mouse Down",eventName:"mousedown"}),lt({method:t,eventType:"Orientation Change",eventName:"orientationchange"}),lt({method:t,eventType:"Print",eventName:["afterprint","beforeprint"]}),lt({method:t,eventType:"Ready State Change",eventName:"readystatechange"}),lt({method:t,eventType:"Touch Start",eventName:"touchstart"}),lt({method:t,eventType:"Touch End",eventName:"touchend"}),lt({method:t,eventType:"Touch Cancel",eventName:"touchcancel"}),lt({method:t,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),lt({method:t,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),lt({method:t,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===A&&lt({method:t,eventType:"IFrame Resized",eventName:"resize"})}function vt(t,n,i,r){return n!==t&&(t in i||(at(t+" is not a valid option for "+r+"CalculationMethod."),t=n),ht(r+' calculation method set to "'+t+'"')),t}function wt(){w=vt(w,v,Q,"height")}function pt(){_=vt(_,B,tt,"width")}function gt(){!0===i?(dt("add"),window.MutationObserver||window.WebKitMutationObserver?0>m?mt():h=function(){function t(t){function n(t){!1===t.complete&&(ht("Attach listeners to "+t.src),t.addEventListener("load",e,!1),t.addEventListener("error",s,!1),h.push(t))}"attributes"===t.type&&"src"===t.attributeName?n(t.target):"childList"===t.type&&Array.prototype.forEach.call(t.target.querySelectorAll("img"),n)}function i(t){ht("Remove listeners from "+t.src),t.removeEventListener("load",e,!1),t.removeEventListener("error",s,!1),function(t){h.splice(h.indexOf(t),1)}(t)}function r(t,r,e){i(t.target),At(r,e+": "+t.target.src,n,n)}function e(t){r(t,"imageLoad","Image loaded")}function s(t){r(t,"imageLoadFailed","Image load failed")}function o(n){At("mutationObserver","mutationObserver: "+n[0].target+" "+n[0].type),n.forEach(t)}var h=[],a=window.MutationObserver||window.WebKitMutationObserver,u=function(){var t=document.querySelector("body");return u=new a(o),ht("Create body MutationObserver"),u.observe(t,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}),u}();return{disconnect:function(){"disconnect"in u&&(ht("Disconnect body MutationObserver"),u.disconnect(),h.forEach(i))}}}():(ht("MutationObserver not supported in this browser!"),mt())):ht("Auto Resize disabled")}function Ct(){dt("remove"),null!==h&&h.disconnect(),clearInterval(F)}function mt(){0!==m&&(ht("setInterval: "+m+"ms"),F=setInterval((function(){At("interval","setInterval: "+m)}),Math.abs(m)))}function Ft(t,n){var i=0;return n=n||document.body,i=null!==(i=document.defaultView.getComputedStyle(n,null))?i[t]:0,parseInt(i,r)}function yt(t,n){for(var i=n.length,r=0,e=0,s=st(t),o=X(),h=0;h<i;h++)(r=n[h].getBoundingClientRect()[t]+Ft("margin"+s,n[h]))>e&&(e=r);return o=X()-o,ht("Parsed "+i+" HTML elements"),ht("Element position calculated in "+o+"ms"),function(t){t>D/2&&ht("Event throttle increased to "+(D=2*t)+"ms")}(o),e}function bt(t){return[t.bodyOffset(),t.bodyScroll(),t.documentElementOffset(),t.documentElementScroll()]}function Et(t,n){var i=document.querySelectorAll("["+n+"]");return 0===i.length&&(at("No tagged elements ("+n+") found on page"),document.querySelectorAll("body *")),yt(t,i)}function Lt(){return document.querySelectorAll("body *")}function St(t,i,r,e){var s,o;!function(){function t(t,n){return!(Math.abs(t-n)<=R)}return s=n!==r?r:Q[w](),o=n!==e?e:tt[_](),t(d,s)||u&&t(j,o)}()&&"init"!==t?t in{init:1,interval:1,size:1}||!(w in S||u&&_ in S)?t in{interval:1}||ht("No change in size detected"):xt(i):(kt(),Rt(d=s,j=o,t))}function At(t,n,i,r){I&&t in c?ht("Trigger event cancelled: "+t):(t in{reset:1,resetPage:1,init:1}||ht("Trigger event: "+n),"init"===t?St(t,n,i,r):nt(t,n,i,r))}function kt(){I||(I=!0,ht("Trigger event lock on")),clearTimeout(M),M=setTimeout((function(){I=!1,ht("Trigger event lock off"),ht("--")}),f)}function Tt(t){d=Q[w](),j=tt[_](),Rt(d,j,t)}function xt(t){var n=w;w=v,ht("Reset trigger event: "+t),kt(),Tt("reset"),w=n}function Rt(t,i,r,e,s){var o;!0===k&&(n===s?s=x:ht("Message targetOrigin: "+s),ht("Sending message to host page ("+(o=L+":"+t+":"+i+":"+r+(n!==e?":"+e:""))+")"),T.postMessage(b+o,s))}function It(n){var i,r={init:function(){g=n.data,T=n.source,ut(),l=!1,setTimeout((function(){p=!1}),f)},reset:function(){p?ht("Page reset ignored by init"):(ht("Page size reset by host page"),Tt("resetPage"))},resize:function(){At("resizeParent","Parent window requested size check")},moveToAnchor:function(){C.findTarget(s())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var t=s();ht("PageInfoFromParent called from parent: "+t),U(JSON.parse(t)),ht(" --")},message:function(){var t=s();ht("onMessage called from parent: "+t),N(JSON.parse(t)),ht(" --")}};function e(){return n.data.split("]")[1].split(":")[0]}function s(){return n.data.substr(n.data.indexOf(":")+1)}function o(){return n.data.split(":")[2]in{true:1,false:1}}b===(""+n.data).substr(0,E)&&(!1===l?(i=e())in r?r[i]():!t.exports&&"iFrameResize"in window||"jQuery"in window&&"iFrameResize"in window.jQuery.prototype||o()||at("Unexpected message ("+n.data+")"):o()?r.init():ht('Ignored message of type "'+e()+'". Received before initialization.'))}function Mt(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}}()}))};const ui=class{constructor(n){t(this,n),this.modalIsShowing=!1,this.handleSubscribeClick=()=>{this.modalIsShowing=!0},this.handleModalClose=()=>{this.modalIsShowing=!1}}componentDidUpdate(){ai.iframeResizer({},this.frame)}render(){return n(ft,null,n("div",{class:"subscribe-script"}),n("button",{onClick:this.handleSubscribeClick,class:"subscribe-button"},this.label),n("crds-modal",{label:this.label,isActive:this.modalIsShowing,onModalClose:this.handleModalClose},n("iframe",{ref:t=>this.frame=t,src:this.src,class:"subscribe-frame",frameborder:"0"})))}static get style(){return".subscribe-button{background-color:transparent;border:0;color:#0095d9;cursor:pointer;display:inline-block;font:inherit;font-weight:600;line-height:normal;margin:0;padding:11px 15px}.subscribe-button:focus{border:0;outline:none}.subscribe-frame{border:none;height:100%;width:100%}"}};class ci{constructor(t){this.handleSignOut=t}renderNav(t,i){return n("div",null,this.formatMenuTitle(i),this.maybeRenderNavEntries(t.children))}formatMenuTitle(t){return n("h2",null,t)}formatMenuEntry(t){return n("div",{style:{padding:"0"}},t)}formatSubHeader(t){return n("h4",null,t)}formatList(t){return n("ul",null,t)}handleOnClick(t,n){"sh-sign-out"===n&&(this.handleSignOut(t),t.preventDefault()),t.stopPropagation()}formatListEntry(t,i){return n("li",{class:i},n("a",{href:t.href||"#","data-automation-id":t["automation-id"],onClick:n=>this.handleOnClick(n,t["automation-id"]),innerHTML:t.title}))}maybeRenderNavEntries(t){if(!Array.isArray(t))return;let n=!0;const i=t.map(t=>{let i="string"==typeof t,r=i?this.formatSubHeader(t):this.maybeRenderList(t,n);return n=!i,this.formatMenuEntry(r)});return i.length>0&&i}maybeRenderList(t,n){if(!Array.isArray(t))return;const i=t.map(t=>this.maybeRenderListEntry(t,n)).filter(t=>t);return i.length>0&&this.formatList(i)}maybeRenderListEntry(t,n){return this.isObjectTruthyNonArray(t)&&this.formatListEntry(t,this.topLevelClassValue(t,n))}topLevelClassValue(t,n){return("boolean"==typeof t.top_level?t.top_level:n)?"top-level":""}isObjectTruthyNonArray(t){return t&&"object"==typeof t&&!Array.isArray(t)}}const fi=class{constructor(n){t(this,n),this.isNavShowing=!0,this.data={},this.simpleNav=new ci}navTitle(){return this.data&&this.data.title||""}backgroundImageURL(t){return t.background_img||""}render(){return this.isNavShowing&&this.simpleNav.isObjectTruthyNonArray(this.data)?n("div",{class:"give-nav",style:{backgroundImage:`url(${this.backgroundImageURL(this.data)})`}},this.simpleNav.renderNav(this.data,this.navTitle())):null}static get style(){return".give-nav,.profile-nav{font-family:acumin-pro,helvetica,arial,sans-serif!important;font-weight:300!important;color:#fff;background-color:#000;background-repeat:no-repeat;background-size:100%;height:100vh;left:0;margin-left:-15px;max-height:100vh;overflow-y:scroll;position:-webkit-sticky;position:sticky;top:48px;width:100vw;z-index:2}.give-nav div,.profile-nav div{height:auto;padding:30px 20px 90px}.give-nav a,.profile-nav a{color:#fff;display:inline-block;font-size:19px;margin-bottom:10px;padding-left:10px;text-decoration:none;text-transform:capitalize}.give-nav a.all,.profile-nav a.all{margin-bottom:30px}.give-nav a:hover,.profile-nav a:hover{color:#ccc}.give-nav h2,.profile-nav h2{font-family:acumin-pro-extra-condensed,sans-serif!important;font-weight:500!important;font-size:48px;line-height:48px;margin:0;text-transform:uppercase;margin-bottom:20px}.give-nav h4,.profile-nav h4{font-size:11px;margin:0 0 10px;opacity:.5;text-transform:uppercase}.give-nav ul,.profile-nav ul{padding-left:0;margin-top:0}.give-nav ul li,.profile-nav ul li{list-style:none}.give-nav ul li.top-level a,.profile-nav ul li.top-level a{padding-left:0}\@media (min-width:992px){.give-nav,.profile-nav{height:auto;left:auto;margin-right:-15px;position:absolute;right:15px;width:375px}}\@media (min-width:1170px){.give-nav,.profile-nav{margin-right:0}}.give-nav::-webkit-scrollbar,.profile-nav::-webkit-scrollbar{width:0}.give-nav ul:last-of-type,.profile-nav ul:last-of-type{padding-bottom:30px}.give-nav{background-image:url(https://crds-media.imgix.net/6sNxa1MWhMOfjhAB47yTCa/0acf1af4109f23abc0199b1e34abeb7a/give-bg_2x.jpg?auto=format%2Ccompress)}.profile-nav:after{background-color:rgba(0,0,0,.75);content:\" \";z-index:-1}.profile-nav .profile-nav-img,.profile-nav:after{height:100%;left:0;position:absolute;top:0;width:100%}.profile-nav .profile-nav-img{background-position:top;background-repeat:no-repeat;background-size:100% auto;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-filter:blur(2px);filter:blur(2px);z-index:-2}\@media (min-width:992px){.profile-nav div{padding-bottom:0}}"}};function li(t){return"function"==typeof t}let di=!1;const vi={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else di&&console.log("RxJS: Back to a better error behavior. Thank you. <3");di=t},get useDeprecatedSynchronousErrorHandling(){return di}};function wi(t){setTimeout(()=>{throw t},0)}const pi={closed:!0,next(t){},error(t){if(vi.useDeprecatedSynchronousErrorHandling)throw t;wi(t)},complete(){}},gi=Array.isArray||(t=>t&&"number"==typeof t.length);function Ci(t){return null!==t&&"object"==typeof t}function mi(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,n)=>`${n+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}mi.prototype=Object.create(Error.prototype);const Fi=mi;class yi{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof yi)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(li(i))try{i.call(this)}catch(n){t=n instanceof Fi?bi(n.errors):[n]}if(gi(r)){let n=-1,i=r.length;for(;++n<i;){const i=r[n];if(Ci(i))try{i.unsubscribe()}catch(n){t=t||[],n instanceof Fi?t=t.concat(bi(n.errors)):t.push(n)}}}if(t)throw new Fi(t)}add(t){let n=t;switch(typeof t){case"function":n=new yi(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof yi)){const t=n;(n=new yi)._subscriptions=[t]}break;default:if(!t)return yi.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof yi){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const n=this._subscriptions;if(n){const i=n.indexOf(t);-1!==i&&n.splice(i,1)}}}function bi(t){return t.reduce((t,n)=>t.concat(n instanceof Fi?n.errors:n),[])}yi.EMPTY=function(t){return t.closed=!0,t}(new yi);const Ei="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Li extends yi{constructor(t,n,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=pi;break;case 1:if(!t){this.destination=pi;break}if("object"==typeof t){t instanceof Li?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new Si(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new Si(this,t,n,i)}}[Ei](){return this}static create(t,n,i){const r=new Li(t,n,i);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class Si extends Li{constructor(t,n,i,r){let e;super(),this._parentSubscriber=t;let s=this;li(n)?e=n:n&&(e=n.next,i=n.error,r=n.complete,n!==pi&&(li((s=Object.create(n)).unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=e,this._error=i,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;vi.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:i}=vi;if(this._error)i&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=t,n.syncErrorThrown=!0):wi(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;wi(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const n=()=>this._complete.call(this._context);vi.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,n){try{t.call(this._context,n)}catch(t){if(this.unsubscribe(),vi.useDeprecatedSynchronousErrorHandling)throw t;wi(t)}}__tryOrSetError(t,n,i){if(!vi.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(n){return vi.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(wi(n),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const Ai="function"==typeof Symbol&&Symbol.observable||"@@observable";function ki(){}class Ti{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const n=new Ti;return n.source=this,n.operator=t,n}subscribe(t,n,i){const{operator:r}=this,e=function(t,n,i){if(t){if(t instanceof Li)return t;if(t[Ei])return t[Ei]()}return t||n||i?new Li(t,n,i):new Li(pi)}(t,n,i);if(e.add(r?r.call(e,this.source):this.source||vi.useDeprecatedSynchronousErrorHandling&&!e.syncErrorThrowable?this._subscribe(e):this._trySubscribe(e)),vi.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable&&(e.syncErrorThrowable=!1,e.syncErrorThrown))throw e.syncErrorValue;return e}_trySubscribe(t){try{return this._subscribe(t)}catch(n){vi.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=n),function(t){for(;t;){const{closed:n,destination:i,isStopped:r}=t;if(n||r)return!1;t=i&&i instanceof Li?i:null}return!0}(t)?t.error(n):console.warn(n)}}forEach(t,n){return new(n=xi(n))((n,i)=>{let r;r=this.subscribe(n=>{try{t(n)}catch(t){i(t),r&&r.unsubscribe()}},i,n)})}_subscribe(t){const{source:n}=this;return n&&n.subscribe(t)}[Ai](){return this}pipe(...t){return 0===t.length?this:((n=t)?1===n.length?n[0]:function(t){return n.reduce((t,n)=>n(t),t)}:ki)(this);var n}toPromise(t){return new(t=xi(t))((t,n)=>{let i;this.subscribe(t=>i=t,t=>n(t),()=>t(i))})}}function xi(t){if(t||(t=Promise),!t)throw new Error("no Promise impl found");return t}function Ri(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}Ti.create=t=>new Ti(t),Ri.prototype=Object.create(Error.prototype);const Ii=Ri;class Mi extends yi{constructor(t,n){super(),this.subject=t,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,n=t.observers;if(this.subject=null,!n||0===n.length||t.isStopped||t.closed)return;const i=n.indexOf(this.subscriber);-1!==i&&n.splice(i,1)}}class Di extends Li{constructor(t){super(t),this.destination=t}}class ji extends Ti{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ei](){return new Di(this)}lift(t){const n=new Bi(this,this);return n.operator=t,n}next(t){if(this.closed)throw new Ii;if(!this.isStopped){const{observers:n}=this,i=n.length,r=n.slice();for(let n=0;n<i;n++)r[n].next(t)}}error(t){if(this.closed)throw new Ii;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:n}=this,i=n.length,r=n.slice();for(let n=0;n<i;n++)r[n].error(t);this.observers.length=0}complete(){if(this.closed)throw new Ii;this.isStopped=!0;const{observers:t}=this,n=t.length,i=t.slice();for(let t=0;t<n;t++)i[t].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new Ii;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new Ii;return this.hasError?(t.error(this.thrownError),yi.EMPTY):this.isStopped?(t.complete(),yi.EMPTY):(this.observers.push(t),new Mi(this,t))}asObservable(){const t=new Ti;return t.source=this,t}}ji.create=(t,n)=>new Bi(t,n);class Bi extends ji{constructor(t,n){super(),this.destination=t,this.source=n}next(t){const{destination:n}=this;n&&n.next&&n.next(t)}error(t){const{destination:n}=this;n&&n.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:n}=this;return n?this.source.subscribe(t):yi.EMPTY}}class _i extends ji{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return n&&!n.closed&&t.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ii;return this._value}next(t){super.next(this._value=t)}}new Ti(t=>t.complete());const Pi=t=>n=>{for(let i=0,r=t.length;i<r&&!n.closed;i++)n.next(t[i]);n.complete()};function Ni(t,n){return new Ti(i=>{const r=new yi;let e=0;return r.add(n.schedule((function(){e!==t.length?(i.next(t[e++]),i.closed||r.add(this.schedule())):i.complete()}))),r})}function Oi(...t){let n=t[t.length-1];return(i=n)&&"function"==typeof i.schedule?(t.pop(),Ni(t,n)):new Ti(Pi(t));var i}function Ui(t){return t}function Hi(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Hi.prototype=Object.create(Error.prototype);const zi=Hi;function Zi(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Zi.prototype=Object.create(Error.prototype);const $i=Zi;function Ki(t,n){return function(i){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new qi(t,n))}}class qi{constructor(t,n){this.project=t,this.thisArg=n}call(t,n){return n.subscribe(new Vi(t,this.project,this.thisArg))}}class Vi extends Li{constructor(t,n,i){super(t),this.project=n,this.count=0,this.thisArg=i||this}_next(t){let n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(n)}}class Wi extends Li{notifyNext(t,n,i,r,e){this.destination.next(n)}notifyError(t,n){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Yi extends Li{constructor(t,n,i){super(),this.parent=t,this.outerValue=n,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const Ji="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Gi=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Xi(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const Qi=t=>{if(t&&"function"==typeof t[Ai])return(t=>n=>{const i=t[Ai]();if("function"!=typeof i.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return i.subscribe(n)})(t);if(Gi(t))return Pi(t);if(Xi(t))return(t=>n=>(t.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,wi),n))(t);if(t&&"function"==typeof t[Ji])return(t=>n=>{const i=t[Ji]();for(;;){const t=i.next();if(t.done){n.complete();break}if(n.next(t.value),n.closed)break}return"function"==typeof i.return&&n.add(()=>{i.return&&i.return()}),n})(t);{const n=Ci(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${n} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function tr(t,n,i,r,e=new Yi(t,i,r)){if(!e.closed)return n instanceof Ti?n.subscribe(e):Qi(n)(e)}function nr(t,n){return n?function(t,n){if(null!=t){if(function(t){return t&&"function"==typeof t[Ai]}(t))return function(t,n){return new Ti(i=>{const r=new yi;return r.add(n.schedule(()=>{const e=t[Ai]();r.add(e.subscribe({next(t){r.add(n.schedule(()=>i.next(t)))},error(t){r.add(n.schedule(()=>i.error(t)))},complete(){r.add(n.schedule(()=>i.complete()))}}))})),r})}(t,n);if(Xi(t))return function(t,n){return new Ti(i=>{const r=new yi;return r.add(n.schedule(()=>t.then(t=>{r.add(n.schedule(()=>{i.next(t),r.add(n.schedule(()=>i.complete()))}))},t=>{r.add(n.schedule(()=>i.error(t)))}))),r})}(t,n);if(Gi(t))return Ni(t,n);if(function(t){return t&&"function"==typeof t[Ji]}(t)||"string"==typeof t)return function(t,n){if(!t)throw new Error("Iterable cannot be null");return new Ti(i=>{const r=new yi;let e;return r.add(()=>{e&&"function"==typeof e.return&&e.return()}),r.add(n.schedule(()=>{e=t[Ji](),r.add(n.schedule((function(){if(i.closed)return;let t,n;try{const i=e.next();t=i.value,n=i.done}catch(t){return void i.error(t)}n?i.complete():(i.next(t),this.schedule())})))})),r})}(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,n):t instanceof Ti?t:new Ti(Qi(t))}function ir(t,n){return new Ti(i=>{const r=t.length;if(0===r)return void i.complete();const e=new Array(r);let s=0,o=0;for(let h=0;h<r;h++){const a=nr(t[h]);let u=!1;i.add(a.subscribe({next:t=>{u||(u=!0,o++),e[h]=t},error:t=>i.error(t),complete:()=>{++s!==r&&u||(o===r&&i.next(n?n.reduce((t,n,i)=>(t[n]=e[i],t),{}):e),i.complete())}}))}})}class rr{constructor(t,n){this.predicate=t,this.thisArg=n}call(t,n){return n.subscribe(new er(t,this.predicate,this.thisArg))}}class er extends Li{constructor(t,n,i){super(t),this.predicate=n,this.thisArg=i,this.count=0}_next(t){let n;try{n=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}n&&this.destination.next(t)}}var sr;function or(t){return function(n){const i=new hr(t),r=n.lift(i);return i.caught=r}}!function(t){t[t.Mp=1]="Mp",t[t.Okta=2]="Okta"}(sr||(sr={}));class hr{constructor(t){this.selector=t}call(t,n){return n.subscribe(new ar(t,this.selector,this.caught))}}class ar extends Wi{constructor(t,n,i){super(t),this.selector=n,this.caught=i}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const i=new Yi(this,void 0,void 0);this.add(i),tr(this,n,void 0,void 0,i)}}}class ur{constructor(t){this.defaultValue=t}call(t,n){return n.subscribe(new cr(t,this.defaultValue))}}class cr extends Li{constructor(t,n){super(t),this.defaultValue=n,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function fr(t=vr){return n=>n.lift(new lr(t))}class lr{constructor(t){this.errorFactory=t}call(t,n){return n.subscribe(new dr(t,this.errorFactory))}}class dr extends Li{constructor(t,n){super(t),this.errorFactory=n,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(n){t=n}this.destination.error(t)}}}function vr(){return new $i}class wr{constructor(t){if(this.total=t,this.total<0)throw new zi}call(t,n){return n.subscribe(new pr(t,this.total))}}class pr extends Li{constructor(t,n){super(t),this.total=n,this.count=0}_next(t){const n=this.total,i=++this.count;i<=n&&(this.destination.next(t),i===n&&(this.destination.complete(),this.unsubscribe()))}}function gr(t,n){const i=arguments.length>=2;return r=>r.pipe(t?function(t){return function(n){return n.lift(new rr(t,void 0))}}((n,i)=>t(n,i,r)):Ui,t=>t.lift(new wr(1)),i?function(t=null){return n=>n.lift(new ur(t))}(n):fr(()=>new $i))}function Cr(t,n){return"function"==typeof n?i=>i.pipe(Cr((i,r)=>nr(t(i,r)).pipe(Ki((t,e)=>n(i,t,r,e))))):n=>n.lift(new mr(t))}class mr{constructor(t){this.project=t}call(t,n){return n.subscribe(new Fr(t,this.project))}}class Fr extends Wi{constructor(t,n){super(t),this.project=n,this.index=0}_next(t){let n;const i=this.index++;try{n=this.project(t,i)}catch(t){return void this.destination.error(t)}this._innerSub(n,t,i)}_innerSub(t,n,i){const r=this.innerSubscription;r&&r.unsubscribe();const e=new Yi(this,void 0,void 0);this.destination.add(e),this.innerSubscription=tr(this,t,n,i,e)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,n,i,r,e){this.destination.next(n)}}function yr(t,n,i){return function(r){return r.lift(new br(t,n,i))}}class br{constructor(t,n,i){this.nextOrObserver=t,this.error=n,this.complete=i}call(t,n){return n.subscribe(new Er(t,this.nextOrObserver,this.error,this.complete))}}class Er extends Li{constructor(t,n,i,r){super(t),this._tapNext=ki,this._tapError=ki,this._tapComplete=ki,this._tapError=i||ki,this._tapComplete=r||ki,li(n)?(this._context=this,this._tapNext=n):n&&(this._context=n,this._tapNext=n.next||ki,this._tapError=n.error||ki,this._tapComplete=n.complete||ki)}_next(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class Lr{constructor(t=null,n=null){this.provider=sr.Okta,null!=t&&(this.access_token=t),null!=n&&(this.id_token=n)}static From(t){const{access_token:n,id_token:i}=t;return new Lr(n,i)}}class Sr{constructor(t,n){this.log=n,this.oktaAuthClient=t}authenticated(){return this.getTokenDictionary().pipe(Cr(t=>t?Oi(t):this.getTokensFromSession()))}signOut(){return nr(this.oktaAuthClient.signOut()).pipe(gr(),Ki(()=>(this.oktaAuthClient.tokenManager.clear(),this.log.Log("successfully logged out"),!0)),or(t=>(this.log.Error("AUTHENTICATION SERICE: okta signout function returned error",t),Oi(!1))))}subscribeToTokenExpiration(t){this.oktaAuthClient.tokenManager.on("expired",t)}subscribeToTokenRenewed(t){this.oktaAuthClient.tokenManager.on("renewed",t)}subscribeToTokenError(t){this.oktaAuthClient.tokenManager.on("error",t)}getTokenDictionary(){return function(...t){if(1===t.length){const i=t[0];if(gi(i))return ir(i,null);if(Ci(i)&&(!(n=i)||!(n instanceof Ti||"function"==typeof n.lift&&"function"==typeof n.subscribe))){const t=Object.keys(i);return ir(t.map(t=>i[t]),t)}}var n;if("function"==typeof t[t.length-1]){const n=t.pop();return ir(t=1===t.length&&gi(t[0])?t[0]:t,null).pipe(Ki(t=>n(...t)))}return ir(t,null)}([nr(this.oktaAuthClient.tokenManager.get("id_token")),nr(this.oktaAuthClient.tokenManager.get("access_token"))]).pipe(gr(),Ki(([t,n])=>t&&n?Lr.From({id_token:t,access_token:n}):null),or(t=>(this.log.Error("AUTHENTICATION SERICE: okta tokenManager get function returned error",t),Oi(null))))}getTokensFromSession(){return nr(this.oktaAuthClient.session.exists()).pipe(gr(),Cr(t=>t?nr(this.oktaAuthClient.token.getWithoutPrompt({scopes:["openid","profile","email"],responseType:["id_token","token"]})).pipe(gr(),yr(t=>{this.oktaAuthClient.tokenManager.add("id_token",t[0]),this.oktaAuthClient.tokenManager.add("access_token",t[1])}),Ki(t=>Lr.From({id_token:t[0],access_token:t[1]})),or(t=>(this.log.Error("AUTHENTICATION SERICE: okta get without prompt function returned error",t),Oi(null)))):Oi(null)),or(t=>(this.log.Error("AUTHENTICATION SERICE: okta session exists function returned error",t),Oi(null))))}}class Ar{constructor(t=null,n=null){this.provider=sr.Mp,null!=t&&(this.access_token=t),null!=n&&(this.refresh_token=n)}static From(t){const{access_token:n,refresh_token:i}=t;return new Ar(n,i)}}var kr=o((function(t){t.exports=function(){function t(){for(var t=0,n={};t<arguments.length;t++){var i=arguments[t];for(var r in i)n[r]=i[r]}return n}function n(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function i(r){function e(){}function s(n,i,s){if("undefined"!=typeof document){"number"==typeof(s=t({path:"/"},e.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var o=JSON.stringify(i);/^[\{\[]/.test(o)&&(i=o)}catch(t){}i=r.write?r.write(i,n):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var h="";for(var a in s)s[a]&&(h+="; "+a,!0!==s[a]&&(h+="="+s[a].split(";")[0]));return document.cookie=n+"="+i+h}}function o(t,i){if("undefined"!=typeof document){for(var e={},s=document.cookie?document.cookie.split("; "):[],o=0;o<s.length;o++){var h=s[o].split("="),a=h.slice(1).join("=");i||'"'!==a.charAt(0)||(a=a.slice(1,-1));try{var u=n(h[0]);if(a=(r.read||r)(a,u)||n(a),i)try{a=JSON.parse(a)}catch(t){}if(e[u]=a,t===u)break}catch(t){}}return t?e[t]:e}}return e.set=s,e.get=function(t){return o(t,!1)},e.getJSON=function(t){return o(t,!0)},e.remove=function(n,i){s(n,"",t(i,{expires:-1}))},e.defaults={},e.withConverter=i,e}((function(){}))}()})),Tr=!1,xr={};if(void 0===Rr)var Rr={};Rr.lang={extend:function(t,n,i){if(!n||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var r=function(){};if(r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t,t.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),i){var e;for(e in i)t.prototype[e]=i[e];var s=function(){},o=["toString","valueOf"];try{/MSIE/.test(Tr)&&(s=function(t,n){for(e=0;e<o.length;e+=1){var i=o[e],r=n[i];"function"==typeof r&&r!=Object.prototype[i]&&(t[i]=r)}})}catch(t){}s(t.prototype,i)}}};var Ir,Mr,Dr,jr,Br,_r,Pr=Pr||function(t){var n={},i=n.lib={},r=i.Base=function(){function t(){}return{extend:function(n){t.prototype=this;var i=new t;return n&&i.mixIn(n),i.hasOwnProperty("init")||(i.init=function(){i.$super.init.apply(this,arguments)}),i.init.prototype=i,i.$super=this,i},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),e=i.WordArray=r.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=null!=n?n:4*t.length},toString:function(t){return(t||o).stringify(this)},concat:function(t){var n=this.words,i=t.words,r=this.sigBytes,e=t.sigBytes;if(this.clamp(),r%4)for(var s=0;s<e;s++)n[r+s>>>2]|=(i[s>>>2]>>>24-s%4*8&255)<<24-(r+s)%4*8;else for(s=0;s<e;s+=4)n[r+s>>>2]=i[s>>>2];return this.sigBytes+=e,this},clamp:function(){var n=this.words,i=this.sigBytes;n[i>>>2]&=4294967295<<32-i%4*8,n.length=t.ceil(i/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(n){for(var i=[],r=0;r<n;r+=4)i.push(4294967296*t.random()|0);return new e.init(i,n)}}),s=n.enc={},o=s.Hex={stringify:function(t){for(var n=t.words,i=t.sigBytes,r=[],e=0;e<i;e++){var s=n[e>>>2]>>>24-e%4*8&255;r.push((s>>>4).toString(16)),r.push((15&s).toString(16))}return r.join("")},parse:function(t){for(var n=t.length,i=[],r=0;r<n;r+=2)i[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new e.init(i,n/2)}},h=s.Latin1={stringify:function(t){for(var n=t.words,i=t.sigBytes,r=[],e=0;e<i;e++)r.push(String.fromCharCode(n[e>>>2]>>>24-e%4*8&255));return r.join("")},parse:function(t){for(var n=t.length,i=[],r=0;r<n;r++)i[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new e.init(i,n)}},a=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},u=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new e.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=a.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(n){var i=this._data,r=i.words,s=i.sigBytes,o=this.blockSize,h=s/(4*o),a=(h=n?t.ceil(h):t.max((0|h)-this._minBufferSize,0))*o,u=t.min(4*a,s);if(a){for(var c=0;c<a;c+=o)this._doProcessBlock(r,c);var f=r.splice(0,a);i.sigBytes-=u}return new e.init(f,u)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),c=(i.Hasher=u.extend({cfg:r.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(n,i){return new t.init(i).finalize(n)}},_createHmacHelper:function(t){return function(n,i){return new c.HMAC.init(t,i).finalize(n)}}}),n.algo={});return n}(Math);!function(){var t,n=(t=Pr).lib,i=n.Base,r=n.WordArray;(t=t.x64={}).Word=i.extend({init:function(t,n){this.high=t,this.low=n}}),t.WordArray=i.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=null!=n?n:8*t.length},toX32:function(){for(var t=this.words,n=t.length,i=[],e=0;e<n;e++){var s=t[e];i.push(s.high),i.push(s.low)}return r.create(i,this.sigBytes)},clone:function(){for(var t=i.clone.call(this),n=t.words=this.words.slice(0),r=n.length,e=0;e<r;e++)n[e]=n[e].clone();return t}})}(),Pr.lib.Cipher||function(){var t=(l=Pr).lib,n=t.Base,i=t.WordArray,r=t.BufferedBlockAlgorithm,e=l.enc.Base64,s=l.algo.EvpKDF,o=t.Cipher=r.extend({cfg:n.extend(),createEncryptor:function(t,n){return this.create(this._ENC_XFORM_MODE,t,n)},createDecryptor:function(t,n){return this.create(this._DEC_XFORM_MODE,t,n)},init:function(t,n,i){this.cfg=this.cfg.extend(i),this._xformMode=t,this._key=n,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(n,i,r){return("string"==typeof i?d:f).encrypt(t,n,i,r)},decrypt:function(n,i,r){return("string"==typeof i?d:f).decrypt(t,n,i,r)}}}});t.StreamCipher=o.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var h=l.mode={},a=function(t,n,i){var r=this._iv;r?this._iv=void 0:r=this._prevBlock;for(var e=0;e<i;e++)t[n+e]^=r[e]},u=(t.BlockCipherMode=n.extend({createEncryptor:function(t,n){return this.Encryptor.create(t,n)},createDecryptor:function(t,n){return this.Decryptor.create(t,n)},init:function(t,n){this._cipher=t,this._iv=n}})).extend();u.Encryptor=u.extend({processBlock:function(t,n){var i=this._cipher,r=i.blockSize;a.call(this,t,n,r),i.encryptBlock(t,n),this._prevBlock=t.slice(n,n+r)}}),u.Decryptor=u.extend({processBlock:function(t,n){var i=this._cipher,r=i.blockSize,e=t.slice(n,n+r);i.decryptBlock(t,n),a.call(this,t,n,r),this._prevBlock=e}}),h=h.CBC=u,u=(l.pad={}).Pkcs7={pad:function(t,n){for(var r,e=(r=(r=4*n)-t.sigBytes%r)<<24|r<<16|r<<8|r,s=[],o=0;o<r;o+=4)s.push(e);r=i.create(s,r),t.concat(r)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},t.BlockCipher=o.extend({cfg:o.cfg.extend({mode:h,padding:u}),reset:function(){o.reset.call(this);var t=(n=this.cfg).iv,n=n.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=n.createEncryptor;else i=n.createDecryptor,this._minBufferSize=1;this._mode=i.call(n,this,t&&t.words)},_doProcessBlock:function(t,n){this._mode.processBlock(t,n)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var n=this._process(!0)}else n=this._process(!0),t.unpad(n);return n},blockSize:4});var c=t.CipherParams=n.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),f=(h=(l.format={}).OpenSSL={stringify:function(t){var n=t.ciphertext;return((t=t.salt)?i.create([1398893684,1701076831]).concat(t).concat(n):n).toString(e)},parse:function(t){var n=(t=e.parse(t)).words;if(1398893684==n[0]&&1701076831==n[1]){var r=i.create(n.slice(2,4));n.splice(0,4),t.sigBytes-=16}return c.create({ciphertext:t,salt:r})}},t.SerializableCipher=n.extend({cfg:n.extend({format:h}),encrypt:function(t,n,i,r){r=this.cfg.extend(r);var e=t.createEncryptor(i,r);return n=e.finalize(n),c.create({ciphertext:n,key:i,iv:(e=e.cfg).iv,algorithm:t,mode:e.mode,padding:e.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,n,i,r){return r=this.cfg.extend(r),n=this._parse(n,r.format),t.createDecryptor(i,r).finalize(n.ciphertext)},_parse:function(t,n){return"string"==typeof t?n.parse(t,this):t}})),l=(l.kdf={}).OpenSSL={execute:function(t,n,r,e){return e||(e=i.random(8)),t=s.create({keySize:n+r}).compute(t,e),r=i.create(t.words.slice(n),4*r),t.sigBytes=4*n,c.create({key:t,iv:r,salt:e})}},d=t.PasswordBasedCipher=f.extend({cfg:f.cfg.extend({kdf:l}),encrypt:function(t,n,i,r){return i=(r=this.cfg.extend(r)).kdf.execute(i,t.keySize,t.ivSize),r.iv=i.iv,(t=f.encrypt.call(this,t,n,i.key,r)).mixIn(i),t},decrypt:function(t,n,i,r){return r=this.cfg.extend(r),n=this._parse(n,r.format),i=r.kdf.execute(i,t.keySize,t.ivSize,n.salt),r.iv=i.iv,f.decrypt.call(this,t,n,i.key,r)}})}(),function(){for(var t=Pr,n=t.lib.BlockCipher,i=t.algo,r=[],e=[],s=[],o=[],h=[],a=[],u=[],c=[],f=[],l=[],d=[],v=0;256>v;v++)d[v]=128>v?v<<1:v<<1^283;var w=0,p=0;for(v=0;256>v;v++){var g;r[w]=g=(g=p^p<<1^p<<2^p<<3^p<<4)>>>8^255&g^99,e[g]=w;var C=d[w],m=d[C],F=d[m],y=257*d[g]^16843008*g;s[w]=y<<24|y>>>8,o[w]=y<<16|y>>>16,h[w]=y<<8|y>>>24,a[w]=y,u[g]=(y=16843009*F^65537*m^257*C^16843008*w)<<24|y>>>8,c[g]=y<<16|y>>>16,f[g]=y<<8|y>>>24,l[g]=y,w?(w=C^d[d[d[F^C]]],p^=d[d[p]]):w=p=1}var b=[0,1,2,4,8,16,32,64,128,27,54];i=i.AES=n.extend({_doReset:function(){for(var t=(i=this._key).words,n=i.sigBytes/4,i=4*((this._nRounds=n+6)+1),e=this._keySchedule=[],s=0;s<i;s++)if(s<n)e[s]=t[s];else{var o=e[s-1];s%n?6<n&&4==s%n&&(o=r[o>>>24]<<24|r[o>>>16&255]<<16|r[o>>>8&255]<<8|r[255&o]):(o=r[(o=o<<8|o>>>24)>>>24]<<24|r[o>>>16&255]<<16|r[o>>>8&255]<<8|r[255&o],o^=b[s/n|0]<<24),e[s]=e[s-n]^o}for(t=this._invKeySchedule=[],n=0;n<i;n++)s=i-n,o=n%4?e[s]:e[s-4],t[n]=4>n||4>=s?o:u[r[o>>>24]]^c[r[o>>>16&255]]^f[r[o>>>8&255]]^l[r[255&o]]},encryptBlock:function(t,n){this._doCryptBlock(t,n,this._keySchedule,s,o,h,a,r)},decryptBlock:function(t,n){var i=t[n+1];t[n+1]=t[n+3],t[n+3]=i,this._doCryptBlock(t,n,this._invKeySchedule,u,c,f,l,e),i=t[n+1],t[n+1]=t[n+3],t[n+3]=i},_doCryptBlock:function(t,n,i,r,e,s,o,h){for(var a=this._nRounds,u=t[n]^i[0],c=t[n+1]^i[1],f=t[n+2]^i[2],l=t[n+3]^i[3],d=4,v=1;v<a;v++){var w=r[u>>>24]^e[c>>>16&255]^s[f>>>8&255]^o[255&l]^i[d++],p=r[c>>>24]^e[f>>>16&255]^s[l>>>8&255]^o[255&u]^i[d++],g=r[f>>>24]^e[l>>>16&255]^s[u>>>8&255]^o[255&c]^i[d++];l=r[l>>>24]^e[u>>>16&255]^s[c>>>8&255]^o[255&f]^i[d++],u=w,c=p,f=g}w=(h[u>>>24]<<24|h[c>>>16&255]<<16|h[f>>>8&255]<<8|h[255&l])^i[d++],p=(h[c>>>24]<<24|h[f>>>16&255]<<16|h[l>>>8&255]<<8|h[255&u])^i[d++],g=(h[f>>>24]<<24|h[l>>>16&255]<<16|h[u>>>8&255]<<8|h[255&c])^i[d++],l=(h[l>>>24]<<24|h[u>>>16&255]<<16|h[c>>>8&255]<<8|h[255&f])^i[d++],t[n]=w,t[n+1]=p,t[n+2]=g,t[n+3]=l},keySize:8}),t.AES=n._createHelper(i)}(),function(){function t(t,n){var i=(this._lBlock>>>t^this._rBlock)&n;this._rBlock^=i,this._lBlock^=i<<t}function n(t,n){var i=(this._rBlock>>>t^this._lBlock)&n;this._lBlock^=i,this._rBlock^=i<<t}var i,r=Pr,e=(i=r.lib).WordArray,s=r.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],h=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],a=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=s.DES=(i=i.BlockCipher).extend({_doReset:function(){for(var t=this._key.words,n=[],i=0;56>i;i++){var r=o[i]-1;n[i]=t[r>>>5]>>>31-r%32&1}for(t=this._subKeys=[],r=0;16>r;r++){var e=t[r]=[],s=a[r];for(i=0;24>i;i++)e[i/6|0]|=n[(h[i]-1+s)%28]<<31-i%6,e[4+(i/6|0)]|=n[28+(h[i+24]-1+s)%28]<<31-i%6;for(e[0]=e[0]<<1|e[0]>>>31,i=1;7>i;i++)e[i]>>>=4*(i-1)+3;e[7]=e[7]<<5|e[7]>>>27}for(n=this._invSubKeys=[],i=0;16>i;i++)n[i]=t[15-i]},encryptBlock:function(t,n){this._doCryptBlock(t,n,this._subKeys)},decryptBlock:function(t,n){this._doCryptBlock(t,n,this._invSubKeys)},_doCryptBlock:function(i,r,e){this._lBlock=i[r],this._rBlock=i[r+1],t.call(this,4,252645135),t.call(this,16,65535),n.call(this,2,858993459),n.call(this,8,16711935),t.call(this,1,1431655765);for(var s=0;16>s;s++){for(var o=e[s],h=this._lBlock,a=this._rBlock,f=0,l=0;8>l;l++)f|=u[l][((a^o[l])&c[l])>>>0];this._lBlock=a,this._rBlock=h^f}e=this._lBlock,this._lBlock=this._rBlock,this._rBlock=e,t.call(this,1,1431655765),n.call(this,8,16711935),n.call(this,2,858993459),t.call(this,16,65535),t.call(this,4,252645135),i[r]=this._lBlock,i[r+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});r.DES=i._createHelper(f),s=s.TripleDES=i.extend({_doReset:function(){var t=this._key.words;this._des1=f.createEncryptor(e.create(t.slice(0,2))),this._des2=f.createEncryptor(e.create(t.slice(2,4))),this._des3=f.createEncryptor(e.create(t.slice(4,6)))},encryptBlock:function(t,n){this._des1.encryptBlock(t,n),this._des2.decryptBlock(t,n),this._des3.encryptBlock(t,n)},decryptBlock:function(t,n){this._des3.decryptBlock(t,n),this._des2.encryptBlock(t,n),this._des1.decryptBlock(t,n)},keySize:6,ivSize:2,blockSize:2}),r.TripleDES=i._createHelper(s)}(),Ir=Pr.lib.WordArray,Pr.enc.Base64={stringify:function(t){var n=t.words,i=t.sigBytes,r=this._map;t.clamp(),t=[];for(var e=0;e<i;e+=3)for(var s=(n[e>>>2]>>>24-e%4*8&255)<<16|(n[e+1>>>2]>>>24-(e+1)%4*8&255)<<8|n[e+2>>>2]>>>24-(e+2)%4*8&255,o=0;4>o&&e+.75*o<i;o++)t.push(r.charAt(s>>>6*(3-o)&63));if(n=r.charAt(64))for(;t.length%4;)t.push(n);return t.join("")},parse:function(t){var n=t.length,i=this._map;(r=i.charAt(64))&&-1!=(r=t.indexOf(r))&&(n=r);for(var r=[],e=0,s=0;s<n;s++)if(s%4){var o=i.indexOf(t.charAt(s-1))<<s%4*2,h=i.indexOf(t.charAt(s))>>>6-s%4*2;r[e>>>2]|=(o|h)<<24-e%4*8,e++}return Ir.create(r,e)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(t){function n(t,n,i,r,e,s,o){return((t=t+(n&i|~n&r)+e+o)<<s|t>>>32-s)+n}function i(t,n,i,r,e,s,o){return((t=t+(n&r|i&~r)+e+o)<<s|t>>>32-s)+n}function r(t,n,i,r,e,s,o){return((t=t+(n^i^r)+e+o)<<s|t>>>32-s)+n}function e(t,n,i,r,e,s,o){return((t=t+(i^(n|~r))+e+o)<<s|t>>>32-s)+n}for(var s=Pr,o=(a=s.lib).WordArray,h=a.Hasher,a=s.algo,u=[],c=0;64>c;c++)u[c]=4294967296*t.abs(t.sin(c+1))|0;a=a.MD5=h.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,s){for(var o=0;16>o;o++)t[h=s+o]=16711935&((a=t[h])<<8|a>>>24)|4278255360&(a<<24|a>>>8);var h,a=t[s+1],c=t[s+2],f=t[s+3],l=t[s+4],d=t[s+5],v=t[s+6],w=t[s+7],p=t[s+8],g=t[s+9],C=t[s+10],m=t[s+11],F=t[s+12],y=t[s+13],b=t[s+14],E=t[s+15],L=n(L=(o=this._hash.words)[0],k=o[1],A=o[2],S=o[3],h=t[s+0],7,u[0]),S=n(S,L,k,A,a,12,u[1]),A=n(A,S,L,k,c,17,u[2]),k=n(k,A,S,L,f,22,u[3]);L=n(L,k,A,S,l,7,u[4]),S=n(S,L,k,A,d,12,u[5]),A=n(A,S,L,k,v,17,u[6]),k=n(k,A,S,L,w,22,u[7]),L=n(L,k,A,S,p,7,u[8]),S=n(S,L,k,A,g,12,u[9]),A=n(A,S,L,k,C,17,u[10]),k=n(k,A,S,L,m,22,u[11]),L=n(L,k,A,S,F,7,u[12]),S=n(S,L,k,A,y,12,u[13]),A=n(A,S,L,k,b,17,u[14]),L=i(L,k=n(k,A,S,L,E,22,u[15]),A,S,a,5,u[16]),S=i(S,L,k,A,v,9,u[17]),A=i(A,S,L,k,m,14,u[18]),k=i(k,A,S,L,h,20,u[19]),L=i(L,k,A,S,d,5,u[20]),S=i(S,L,k,A,C,9,u[21]),A=i(A,S,L,k,E,14,u[22]),k=i(k,A,S,L,l,20,u[23]),L=i(L,k,A,S,g,5,u[24]),S=i(S,L,k,A,b,9,u[25]),A=i(A,S,L,k,f,14,u[26]),k=i(k,A,S,L,p,20,u[27]),L=i(L,k,A,S,y,5,u[28]),S=i(S,L,k,A,c,9,u[29]),A=i(A,S,L,k,w,14,u[30]),L=r(L,k=i(k,A,S,L,F,20,u[31]),A,S,d,4,u[32]),S=r(S,L,k,A,p,11,u[33]),A=r(A,S,L,k,m,16,u[34]),k=r(k,A,S,L,b,23,u[35]),L=r(L,k,A,S,a,4,u[36]),S=r(S,L,k,A,l,11,u[37]),A=r(A,S,L,k,w,16,u[38]),k=r(k,A,S,L,C,23,u[39]),L=r(L,k,A,S,y,4,u[40]),S=r(S,L,k,A,h,11,u[41]),A=r(A,S,L,k,f,16,u[42]),k=r(k,A,S,L,v,23,u[43]),L=r(L,k,A,S,g,4,u[44]),S=r(S,L,k,A,F,11,u[45]),A=r(A,S,L,k,E,16,u[46]),L=e(L,k=r(k,A,S,L,c,23,u[47]),A,S,h,6,u[48]),S=e(S,L,k,A,w,10,u[49]),A=e(A,S,L,k,b,15,u[50]),k=e(k,A,S,L,d,21,u[51]),L=e(L,k,A,S,F,6,u[52]),S=e(S,L,k,A,f,10,u[53]),A=e(A,S,L,k,C,15,u[54]),k=e(k,A,S,L,a,21,u[55]),L=e(L,k,A,S,p,6,u[56]),S=e(S,L,k,A,E,10,u[57]),A=e(A,S,L,k,v,15,u[58]),k=e(k,A,S,L,y,21,u[59]),L=e(L,k,A,S,l,6,u[60]),S=e(S,L,k,A,m,10,u[61]),A=e(A,S,L,k,c,15,u[62]),k=e(k,A,S,L,g,21,u[63]),o[0]=o[0]+L|0,o[1]=o[1]+k|0,o[2]=o[2]+A|0,o[3]=o[3]+S|0},_doFinalize:function(){var n=this._data,i=n.words,r=8*this._nDataBytes,e=8*n.sigBytes;i[e>>>5]|=128<<24-e%32;var s=t.floor(r/4294967296);for(i[15+(e+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),i[14+(e+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),n.sigBytes=4*(i.length+1),this._process(),i=(n=this._hash).words,r=0;4>r;r++)i[r]=16711935&((e=i[r])<<8|e>>>24)|4278255360&(e<<24|e>>>8);return n},clone:function(){var t=h.clone.call(this);return t._hash=this._hash.clone(),t}}),s.MD5=h._createHelper(a),s.HmacMD5=h._createHmacHelper(a)}(Math),Dr=(_r=(Mr=Pr).lib).WordArray,Br=[],_r=Mr.algo.SHA1=(jr=_r.Hasher).extend({_doReset:function(){this._hash=new Dr.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,n){for(var i=this._hash.words,r=i[0],e=i[1],s=i[2],o=i[3],h=i[4],a=0;80>a;a++){if(16>a)Br[a]=0|t[n+a];else{var u=Br[a-3]^Br[a-8]^Br[a-14]^Br[a-16];Br[a]=u<<1|u>>>31}u=(r<<5|r>>>27)+h+Br[a],u=20>a?u+(1518500249+(e&s|~e&o)):40>a?u+(1859775393+(e^s^o)):60>a?u+((e&s|e&o|s&o)-1894007588):u+((e^s^o)-899497514),h=o,o=s,s=e<<30|e>>>2,e=r,r=u}i[0]=i[0]+r|0,i[1]=i[1]+e|0,i[2]=i[2]+s|0,i[3]=i[3]+o|0,i[4]=i[4]+h|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=Math.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=jr.clone.call(this);return t._hash=this._hash.clone(),t}}),Mr.SHA1=jr._createHelper(_r),Mr.HmacSHA1=jr._createHmacHelper(_r),function(t){for(var n=Pr,i=(e=n.lib).WordArray,r=e.Hasher,e=n.algo,s=[],o=[],h=function(t){return 4294967296*(t-(0|t))|0},a=2,u=0;64>u;){var c;t:{for(var f=t.sqrt(c=a),l=2;l<=f;l++)if(!(c%l)){c=!1;break t}c=!0}c&&(8>u&&(s[u]=h(t.pow(a,.5))),o[u]=h(t.pow(a,1/3)),u++),a++}var d=[];e=e.SHA256=r.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(t,n){for(var i=this._hash.words,r=i[0],e=i[1],s=i[2],h=i[3],a=i[4],u=i[5],c=i[6],f=i[7],l=0;64>l;l++){if(16>l)d[l]=0|t[n+l];else{var v=d[l-15],w=d[l-2];d[l]=((v<<25|v>>>7)^(v<<14|v>>>18)^v>>>3)+d[l-7]+((w<<15|w>>>17)^(w<<13|w>>>19)^w>>>10)+d[l-16]}v=f+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&c)+o[l]+d[l],w=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&e^r&s^e&s),f=c,c=u,u=a,a=h+v|0,h=s,s=e,e=r,r=v+w|0}i[0]=i[0]+r|0,i[1]=i[1]+e|0,i[2]=i[2]+s|0,i[3]=i[3]+h|0,i[4]=i[4]+a|0,i[5]=i[5]+u|0,i[6]=i[6]+c|0,i[7]=i[7]+f|0},_doFinalize:function(){var n=this._data,i=n.words,r=8*this._nDataBytes,e=8*n.sigBytes;return i[e>>>5]|=128<<24-e%32,i[14+(e+64>>>9<<4)]=t.floor(r/4294967296),i[15+(e+64>>>9<<4)]=r,n.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}}),n.SHA256=r._createHelper(e),n.HmacSHA256=r._createHmacHelper(e)}(Math),function(){var t=Pr,n=t.lib.WordArray,i=(r=t.algo).SHA256,r=r.SHA224=i.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=i._doFinalize.call(this);return t.sigBytes-=4,t}});t.SHA224=i._createHelper(r),t.HmacSHA224=i._createHmacHelper(r)}(),function(){function t(){return r.create.apply(r,arguments)}for(var n=Pr,i=n.lib.Hasher,r=(s=n.x64).Word,e=s.WordArray,s=n.algo,o=[t(1116352408,3609767458),t(1899447441,602891725),t(3049323471,3964484399),t(3921009573,2173295548),t(961987163,4081628472),t(1508970993,3053834265),t(2453635748,2937671579),t(2870763221,3664609560),t(3624381080,2734883394),t(310598401,1164996542),t(607225278,1323610764),t(1426881987,3590304994),t(1925078388,4068182383),t(2162078206,991336113),t(2614888103,633803317),t(3248222580,3479774868),t(3835390401,2666613458),t(4022224774,944711139),t(264347078,2341262773),t(604807628,2007800933),t(770255983,1495990901),t(1249150122,1856431235),t(1555081692,3175218132),t(1996064986,2198950837),t(2554220882,3999719339),t(2821834349,766784016),t(2952996808,2566594879),t(3210313671,3203337956),t(3336571891,1034457026),t(3584528711,2466948901),t(113926993,3758326383),t(338241895,168717936),t(666307205,1188179964),t(773529912,1546045734),t(1294757372,1522805485),t(1396182291,2643833823),t(1695183700,2343527390),t(1986661051,1014477480),t(2177026350,1206759142),t(2456956037,344077627),t(2730485921,1290863460),t(2820302411,3158454273),t(3259730800,3505952657),t(3345764771,106217008),t(3516065817,3606008344),t(3600352804,1432725776),t(4094571909,1467031594),t(275423344,851169720),t(430227734,3100823752),t(506948616,1363258195),t(659060556,3750685593),t(883997877,3785050280),t(958139571,3318307427),t(1322822218,3812723403),t(1537002063,2003034995),t(1747873779,3602036899),t(1955562222,1575990012),t(2024104815,1125592928),t(2227730452,2716904306),t(2361852424,442776044),t(2428436474,593698344),t(2756734187,3733110249),t(3204031479,2999351573),t(3329325298,3815920427),t(3391569614,3928383900),t(3515267271,566280711),t(3940187606,3454069534),t(4118630271,4000239992),t(116418474,1914138554),t(174292421,2731055270),t(289380356,3203993006),t(460393269,320620315),t(685471733,587496836),t(852142971,1086792851),t(1017036298,365543100),t(1126000580,2618297676),t(1288033470,3409855158),t(1501505948,4234509866),t(1607167915,987167468),t(1816402316,1246189591)],h=[],a=0;80>a;a++)h[a]=t();s=s.SHA512=i.extend({_doReset:function(){this._hash=new e.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(t,n){for(var i,r=(i=this._hash.words)[0],e=i[1],s=i[2],a=i[3],u=i[4],c=i[5],f=i[6],l=r.high,d=r.low,v=e.high,w=e.low,p=s.high,g=s.low,C=a.high,m=a.low,F=u.high,y=u.low,b=c.high,E=c.low,L=f.high,S=f.low,A=(i=i[7]).high,k=i.low,T=l,x=d,R=v,I=w,M=p,D=g,j=C,B=m,_=F,P=y,N=b,O=E,U=L,H=S,z=A,Z=k,$=0;80>$;$++){var K=h[$];if(16>$)var q=K.high=0|t[n+2*$],V=K.low=0|t[n+2*$+1];else{q=((V=(q=h[$-15]).high)>>>1|(W=q.low)<<31)^(V>>>8|W<<24)^V>>>7;var W=(W>>>1|V<<31)^(W>>>8|V<<24)^(W>>>7|V<<25),Y=((V=(Y=h[$-2]).high)>>>19|(J=Y.low)<<13)^(V<<3|J>>>29)^V>>>6,J=(J>>>19|V<<13)^(J<<3|V>>>29)^(J>>>6|V<<26);K.high=q=(q=(q=q+(G=(V=h[$-7]).high)+((V=W+V.low)>>>0<W>>>0?1:0))+Y+((V+=J)>>>0<J>>>0?1:0))+(it=(X=h[$-16]).high)+((V+=X=X.low)>>>0<X>>>0?1:0),K.low=V}var G=_&N^~_&U,X=P&O^~P&H,Q=(K=T&R^T&M^R&M,x&I^x&D^I&D),tt=(J=o[$]).high,nt=J.low,it=z+((_>>>14|P<<18)^(_>>>18|P<<14)^(_<<23|P>>>9))+((J=Z+((P>>>14|_<<18)^(P>>>18|_<<14)^(P<<23|_>>>9)))>>>0<Z>>>0?1:0);z=U,Z=H,U=N,H=O,N=_,O=P,_=j+(it=(it=(it=it+G+((J+=X)>>>0<X>>>0?1:0))+tt+((J+=nt)>>>0<nt>>>0?1:0))+q+((J+=V)>>>0<V>>>0?1:0))+((P=B+J|0)>>>0<B>>>0?1:0)|0,j=M,B=D,M=R,D=I,R=T,I=x,T=it+(K=(W=(T>>>28|x<<4)^(T<<30|x>>>2)^(T<<25|x>>>7))+K+((V=(Y=(x>>>28|T<<4)^(x<<30|T>>>2)^(x<<25|T>>>7))+Q)>>>0<Y>>>0?1:0))+((x=J+V|0)>>>0<J>>>0?1:0)|0}d=r.low=d+x,r.high=l+T+(d>>>0<x>>>0?1:0),w=e.low=w+I,e.high=v+R+(w>>>0<I>>>0?1:0),g=s.low=g+D,s.high=p+M+(g>>>0<D>>>0?1:0),m=a.low=m+B,a.high=C+j+(m>>>0<B>>>0?1:0),y=u.low=y+P,u.high=F+_+(y>>>0<P>>>0?1:0),E=c.low=E+O,c.high=b+N+(E>>>0<O>>>0?1:0),S=f.low=S+H,f.high=L+U+(S>>>0<H>>>0?1:0),k=i.low=k+Z,i.high=A+z+(k>>>0<Z>>>0?1:0)},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return n[r>>>5]|=128<<24-r%32,n[30+(r+128>>>10<<5)]=Math.floor(i/4294967296),n[31+(r+128>>>10<<5)]=i,t.sigBytes=4*n.length,this._process(),this._hash.toX32()},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32}),n.SHA512=i._createHelper(s),n.HmacSHA512=i._createHmacHelper(s)}(),function(){var t=Pr,n=(e=t.x64).Word,i=e.WordArray,r=(e=t.algo).SHA512,e=e.SHA384=r.extend({_doReset:function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var t=r._doFinalize.call(this);return t.sigBytes-=16,t}});t.SHA384=r._createHelper(e),t.HmacSHA384=r._createHmacHelper(e)}(),function(){var t=Pr,n=(r=t.lib).WordArray,i=r.Hasher,r=t.algo,e=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),o=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),a=n.create([0,1518500249,1859775393,2400959708,2840853838]),u=n.create([1352829926,1548603684,1836072691,2053994217,0]);r=r.RIPEMD160=i.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,n){for(var i=0;16>i;i++)t[r=n+i]=16711935&((y=t[r])<<8|y>>>24)|4278255360&(y<<24|y>>>8);var r,c,f,l,d,v,w,p,g,C,m,F,y=a.words,b=u.words,E=e.words,L=s.words,S=o.words,A=h.words;for(w=c=(r=this._hash.words)[0],p=f=r[1],g=l=r[2],C=d=r[3],m=v=r[4],i=0;80>i;i+=1)F=c+t[n+E[i]]|0,F=16>i?F+((f^l^d)+y[0]):32>i?F+((f&l|~f&d)+y[1]):48>i?F+(((f|~l)^d)+y[2]):64>i?F+((f&d|l&~d)+y[3]):F+((f^(l|~d))+y[4]),F=(F=(F|=0)<<S[i]|F>>>32-S[i])+v|0,c=v,v=d,d=l<<10|l>>>22,l=f,f=F,F=w+t[n+L[i]]|0,F=16>i?F+((p^(g|~C))+b[0]):32>i?F+((p&C|g&~C)+b[1]):48>i?F+(((p|~g)^C)+b[2]):64>i?F+((p&g|~p&C)+b[3]):F+((p^g^C)+b[4]),F=(F=(F|=0)<<A[i]|F>>>32-A[i])+m|0,w=m,m=C,C=g<<10|g>>>22,g=p,p=F;F=r[1]+l+C|0,r[1]=r[2]+d+m|0,r[2]=r[3]+v+w|0,r[3]=r[4]+c+p|0,r[4]=r[0]+f+g|0,r[0]=F},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;for(n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(n.length+1),this._process(),n=(t=this._hash).words,i=0;5>i;i++)n[i]=16711935&((r=n[i])<<8|r>>>24)|4278255360&(r<<24|r>>>8);return t},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}}),t.RIPEMD160=i._createHelper(r),t.HmacRIPEMD160=i._createHmacHelper(r)}(),function(){var t=Pr.enc.Utf8;Pr.algo.HMAC=Pr.lib.Base.extend({init:function(n,i){n=this._hasher=new n.init,"string"==typeof i&&(i=t.parse(i));var r=n.blockSize,e=4*r;i.sigBytes>e&&(i=n.finalize(i)),i.clamp();for(var s=this._oKey=i.clone(),o=this._iKey=i.clone(),h=s.words,a=o.words,u=0;u<r;u++)h[u]^=1549556828,a[u]^=909522486;s.sigBytes=o.sigBytes=e,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var n=this._hasher;return t=n.finalize(t),n.reset(),n.finalize(this._oKey.clone().concat(t))}})}(),function(){var t,n=Pr,i=(t=n.lib).Base,r=t.WordArray,e=(t=n.algo).HMAC,s=t.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:t.SHA1,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,n){for(var i=e.create((c=this.cfg).hasher,t),s=r.create(),o=r.create([1]),h=s.words,a=o.words,u=c.keySize,c=c.iterations;h.length<u;){var f=i.update(n).finalize(o);i.reset();for(var l=f.words,d=l.length,v=f,w=1;w<c;w++){v=i.finalize(v),i.reset();for(var p=v.words,g=0;g<d;g++)l[g]^=p[g]}s.concat(f),a[0]++}return s.sigBytes=4*u,s}});n.PBKDF2=function(t,n,i){return s.create(i).compute(t,n)}}();var Nr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Or="=";function Ur(t){var n,i,r="";for(n=0;n+3<=t.length;n+=3)i=parseInt(t.substring(n,n+3),16),r+=Nr.charAt(i>>6)+Nr.charAt(63&i);for(n+1==t.length?(i=parseInt(t.substring(n,n+1),16),r+=Nr.charAt(i<<2)):n+2==t.length&&(i=parseInt(t.substring(n,n+2),16),r+=Nr.charAt(i>>2)+Nr.charAt((3&i)<<4));(3&r.length)>0;)r+=Or;return r}function Hr(t){var n,i,r,e="",s=0;for(n=0;n<t.length&&t.charAt(n)!=Or;++n)(r=Nr.indexOf(t.charAt(n)))<0||(0==s?(e+=Yr(r>>2),i=3&r,s=1):1==s?(e+=Yr(i<<2|r>>4),i=15&r,s=2):2==s?(e+=Yr(i),e+=Yr(r>>2),i=3&r,s=3):(e+=Yr(i<<2|r>>4),e+=Yr(15&r),s=0));return 1==s&&(e+=Yr(i<<2)),e}function zr(t){var n,i=Hr(t),r=new Array;for(n=0;2*n<i.length;++n)r[n]=parseInt(i.substring(2*n,2*n+2),16);return r}function Zr(t,n,i){null!=t&&("number"==typeof t?this.fromNumber(t,n,i):this.fromString(t,null==n&&"string"!=typeof t?256:n))}function $r(){return new Zr(null)}Zr.prototype.am=function(t,n,i,r,e,s){for(;--s>=0;){var o=n*this[t++]+i[r]+e;e=Math.floor(o/67108864),i[r++]=67108863&o}return e},Zr.prototype.DB=26,Zr.prototype.DM=67108863,Zr.prototype.DV=1<<26,Zr.prototype.FV=Math.pow(2,52),Zr.prototype.F1=26,Zr.prototype.F2=0;var Kr,qr,Vr="0123456789abcdefghijklmnopqrstuvwxyz",Wr=new Array;for(Kr="0".charCodeAt(0),qr=0;qr<=9;++qr)Wr[Kr++]=qr;for(Kr="a".charCodeAt(0),qr=10;qr<36;++qr)Wr[Kr++]=qr;for(Kr="A".charCodeAt(0),qr=10;qr<36;++qr)Wr[Kr++]=qr;function Yr(t){return Vr.charAt(t)}function Jr(t,n){var i=Wr[t.charCodeAt(n)];return null==i?-1:i}function Gr(t){var n=$r();return n.fromInt(t),n}function Xr(t){var n,i=1;return 0!=(n=t>>>16)&&(t=n,i+=16),0!=(n=t>>8)&&(t=n,i+=8),0!=(n=t>>4)&&(t=n,i+=4),0!=(n=t>>2)&&(t=n,i+=2),0!=(n=t>>1)&&(t=n,i+=1),i}function Qr(t){this.m=t}function te(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function ne(t,n){return t&n}function ie(t,n){return t|n}function re(t,n){return t^n}function ee(t,n){return t&~n}function se(t){if(0==t)return-1;var n=0;return 0==(65535&t)&&(t>>=16,n+=16),0==(255&t)&&(t>>=8,n+=8),0==(15&t)&&(t>>=4,n+=4),0==(3&t)&&(t>>=2,n+=2),0==(1&t)&&++n,n}function oe(t){for(var n=0;0!=t;)t&=t-1,++n;return n}function he(){}function ae(t){return t}function ue(t){this.r2=$r(),this.q3=$r(),Zr.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}Qr.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},Qr.prototype.revert=function(t){return t},Qr.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},Qr.prototype.mulTo=function(t,n,i){t.multiplyTo(n,i),this.reduce(i)},Qr.prototype.sqrTo=function(t,n){t.squareTo(n),this.reduce(n)},te.prototype.convert=function(t){var n=$r();return t.abs().dlShiftTo(this.m.t,n),n.divRemTo(this.m,null,n),t.s<0&&n.compareTo(Zr.ZERO)>0&&this.m.subTo(n,n),n},te.prototype.revert=function(t){var n=$r();return t.copyTo(n),this.reduce(n),n},te.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var n=0;n<this.m.t;++n){var i=32767&t[n],r=i*this.mpl+((i*this.mph+(t[n]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[i=n+this.m.t]+=this.m.am(0,r,t,n,0,this.m.t);t[i]>=t.DV;)t[i]-=t.DV,t[++i]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},te.prototype.mulTo=function(t,n,i){t.multiplyTo(n,i),this.reduce(i)},te.prototype.sqrTo=function(t,n){t.squareTo(n),this.reduce(n)},Zr.prototype.copyTo=function(t){for(var n=this.t-1;n>=0;--n)t[n]=this[n];t.t=this.t,t.s=this.s},Zr.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},Zr.prototype.fromString=function(t,n){var i;if(16==n)i=4;else if(8==n)i=3;else if(256==n)i=8;else if(2==n)i=1;else if(32==n)i=5;else{if(4!=n)return void this.fromRadix(t,n);i=2}this.t=0,this.s=0;for(var r=t.length,e=!1,s=0;--r>=0;){var o=8==i?255&t[r]:Jr(t,r);o<0?"-"==t.charAt(r)&&(e=!0):(e=!1,0==s?this[this.t++]=o:s+i>this.DB?(this[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this[this.t++]=o>>this.DB-s):this[this.t-1]|=o<<s,(s+=i)>=this.DB&&(s-=this.DB))}8==i&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),e&&Zr.ZERO.subTo(this,this)},Zr.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},Zr.prototype.dlShiftTo=function(t,n){var i;for(i=this.t-1;i>=0;--i)n[i+t]=this[i];for(i=t-1;i>=0;--i)n[i]=0;n.t=this.t+t,n.s=this.s},Zr.prototype.drShiftTo=function(t,n){for(var i=t;i<this.t;++i)n[i-t]=this[i];n.t=Math.max(this.t-t,0),n.s=this.s},Zr.prototype.lShiftTo=function(t,n){var i,r=t%this.DB,e=this.DB-r,s=(1<<e)-1,o=Math.floor(t/this.DB),h=this.s<<r&this.DM;for(i=this.t-1;i>=0;--i)n[i+o+1]=this[i]>>e|h,h=(this[i]&s)<<r;for(i=o-1;i>=0;--i)n[i]=0;n[o]=h,n.t=this.t+o+1,n.s=this.s,n.clamp()},Zr.prototype.rShiftTo=function(t,n){n.s=this.s;var i=Math.floor(t/this.DB);if(i>=this.t)n.t=0;else{var r=t%this.DB,e=this.DB-r,s=(1<<r)-1;n[0]=this[i]>>r;for(var o=i+1;o<this.t;++o)n[o-i-1]|=(this[o]&s)<<e,n[o-i]=this[o]>>r;r>0&&(n[this.t-i-1]|=(this.s&s)<<e),n.t=this.t-i,n.clamp()}},Zr.prototype.subTo=function(t,n){for(var i=0,r=0,e=Math.min(t.t,this.t);i<e;)r+=this[i]-t[i],n[i++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;i<this.t;)r+=this[i],n[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;i<t.t;)r-=t[i],n[i++]=r&this.DM,r>>=this.DB;r-=t.s}n.s=r<0?-1:0,r<-1?n[i++]=this.DV+r:r>0&&(n[i++]=r),n.t=i,n.clamp()},Zr.prototype.multiplyTo=function(t,n){var i=this.abs(),r=t.abs(),e=i.t;for(n.t=e+r.t;--e>=0;)n[e]=0;for(e=0;e<r.t;++e)n[e+i.t]=i.am(0,r[e],n,e,0,i.t);n.s=0,n.clamp(),this.s!=t.s&&Zr.ZERO.subTo(n,n)},Zr.prototype.squareTo=function(t){for(var n=this.abs(),i=t.t=2*n.t;--i>=0;)t[i]=0;for(i=0;i<n.t-1;++i){var r=n.am(i,n[i],t,2*i,0,1);(t[i+n.t]+=n.am(i+1,2*n[i],t,2*i+1,r,n.t-i-1))>=n.DV&&(t[i+n.t]-=n.DV,t[i+n.t+1]=1)}t.t>0&&(t[t.t-1]+=n.am(i,n[i],t,2*i,0,1)),t.s=0,t.clamp()},Zr.prototype.divRemTo=function(t,n,i){var r=t.abs();if(!(r.t<=0)){var e=this.abs();if(e.t<r.t)return null!=n&&n.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=$r());var s=$r(),o=this.s,h=t.s,a=this.DB-Xr(r[r.t-1]);a>0?(r.lShiftTo(a,s),e.lShiftTo(a,i)):(r.copyTo(s),e.copyTo(i));var u=s.t,c=s[u-1];if(0!=c){var f=c*(1<<this.F1)+(u>1?s[u-2]>>this.F2:0),l=this.FV/f,d=(1<<this.F1)/f,v=1<<this.F2,w=i.t,p=w-u,g=null==n?$r():n;for(s.dlShiftTo(p,g),i.compareTo(g)>=0&&(i[i.t++]=1,i.subTo(g,i)),Zr.ONE.dlShiftTo(u,g),g.subTo(s,s);s.t<u;)s[s.t++]=0;for(;--p>=0;){var C=i[--w]==c?this.DM:Math.floor(i[w]*l+(i[w-1]+v)*d);if((i[w]+=s.am(0,C,i,p,0,u))<C)for(s.dlShiftTo(p,g),i.subTo(g,i);i[w]<--C;)i.subTo(g,i)}null!=n&&(i.drShiftTo(u,n),o!=h&&Zr.ZERO.subTo(n,n)),i.t=u,i.clamp(),a>0&&i.rShiftTo(a,i),o<0&&Zr.ZERO.subTo(i,i)}}},Zr.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var n=3&t;return(n=(n=(n=(n=n*(2-(15&t)*n)&15)*(2-(255&t)*n)&255)*(2-((65535&t)*n&65535))&65535)*(2-t*n%this.DV)%this.DV)>0?this.DV-n:-n},Zr.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},Zr.prototype.exp=function(t,n){if(t>4294967295||t<1)return Zr.ONE;var i=$r(),r=$r(),e=n.convert(this),s=Xr(t)-1;for(e.copyTo(i);--s>=0;)if(n.sqrTo(i,r),(t&1<<s)>0)n.mulTo(r,e,i);else{var o=i;i=r,r=o}return n.revert(i)},Zr.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return this.toRadix(t);n=2}var i,r=(1<<n)-1,e=!1,s="",o=this.t,h=this.DB-o*this.DB%n;if(o-- >0)for(h<this.DB&&(i=this[o]>>h)>0&&(e=!0,s=Yr(i));o>=0;)h<n?(i=(this[o]&(1<<h)-1)<<n-h,i|=this[--o]>>(h+=this.DB-n)):(i=this[o]>>(h-=n)&r,h<=0&&(h+=this.DB,--o)),i>0&&(e=!0),e&&(s+=Yr(i));return e?s:"0"},Zr.prototype.negate=function(){var t=$r();return Zr.ZERO.subTo(this,t),t},Zr.prototype.abs=function(){return this.s<0?this.negate():this},Zr.prototype.compareTo=function(t){var n=this.s-t.s;if(0!=n)return n;var i=this.t;if(0!=(n=i-t.t))return this.s<0?-n:n;for(;--i>=0;)if(0!=(n=this[i]-t[i]))return n;return 0},Zr.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+Xr(this[this.t-1]^this.s&this.DM)},Zr.prototype.mod=function(t){var n=$r();return this.abs().divRemTo(t,null,n),this.s<0&&n.compareTo(Zr.ZERO)>0&&t.subTo(n,n),n},Zr.prototype.modPowInt=function(t,n){var i;return i=t<256||n.isEven()?new Qr(n):new te(n),this.exp(t,i)},Zr.ZERO=Gr(0),Zr.ONE=Gr(1),he.prototype.convert=ae,he.prototype.revert=ae,he.prototype.mulTo=function(t,n,i){t.multiplyTo(n,i)},he.prototype.sqrTo=function(t,n){t.squareTo(n)},ue.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var n=$r();return t.copyTo(n),this.reduce(n),n},ue.prototype.revert=function(t){return t},ue.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},ue.prototype.mulTo=function(t,n,i){t.multiplyTo(n,i),this.reduce(i)},ue.prototype.sqrTo=function(t,n){t.squareTo(n),this.reduce(n)};var ce=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],fe=(1<<26)/ce[ce.length-1];function le(){this.i=0,this.j=0,this.S=new Array}Zr.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},Zr.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var n=this.chunkSize(t),i=Math.pow(t,n),r=Gr(i),e=$r(),s=$r(),o="";for(this.divRemTo(r,e,s);e.signum()>0;)o=(i+s.intValue()).toString(t).substr(1)+o,e.divRemTo(r,e,s);return s.intValue().toString(t)+o},Zr.prototype.fromRadix=function(t,n){this.fromInt(0),null==n&&(n=10);for(var i=this.chunkSize(n),r=Math.pow(n,i),e=!1,s=0,o=0,h=0;h<t.length;++h){var a=Jr(t,h);a<0?"-"==t.charAt(h)&&0==this.signum()&&(e=!0):(o=n*o+a,++s>=i&&(this.dMultiply(r),this.dAddOffset(o,0),s=0,o=0))}s>0&&(this.dMultiply(Math.pow(n,s)),this.dAddOffset(o,0)),e&&Zr.ZERO.subTo(this,this)},Zr.prototype.fromNumber=function(t,n,i){if("number"==typeof n)if(t<2)this.fromInt(1);else for(this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(Zr.ONE.shiftLeft(t-1),ie,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(Zr.ONE.shiftLeft(t-1),this);else{var r=new Array,e=7&t;r.length=1+(t>>3),n.nextBytes(r),e>0?r[0]&=(1<<e)-1:r[0]=0,this.fromString(r,256)}},Zr.prototype.bitwiseTo=function(t,n,i){var r,e,s=Math.min(t.t,this.t);for(r=0;r<s;++r)i[r]=n(this[r],t[r]);if(t.t<this.t){for(e=t.s&this.DM,r=s;r<this.t;++r)i[r]=n(this[r],e);i.t=this.t}else{for(e=this.s&this.DM,r=s;r<t.t;++r)i[r]=n(e,t[r]);i.t=t.t}i.s=n(this.s,t.s),i.clamp()},Zr.prototype.changeBit=function(t,n){var i=Zr.ONE.shiftLeft(t);return this.bitwiseTo(i,n,i),i},Zr.prototype.addTo=function(t,n){for(var i=0,r=0,e=Math.min(t.t,this.t);i<e;)r+=this[i]+t[i],n[i++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;i<this.t;)r+=this[i],n[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;i<t.t;)r+=t[i],n[i++]=r&this.DM,r>>=this.DB;r+=t.s}n.s=r<0?-1:0,r>0?n[i++]=r:r<-1&&(n[i++]=this.DV+r),n.t=i,n.clamp()},Zr.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},Zr.prototype.dAddOffset=function(t,n){if(0!=t){for(;this.t<=n;)this[this.t++]=0;for(this[n]+=t;this[n]>=this.DV;)this[n]-=this.DV,++n>=this.t&&(this[this.t++]=0),++this[n]}},Zr.prototype.multiplyLowerTo=function(t,n,i){var r,e=Math.min(this.t+t.t,n);for(i.s=0,i.t=e;e>0;)i[--e]=0;for(r=i.t-this.t;e<r;++e)i[e+this.t]=this.am(0,t[e],i,e,0,this.t);for(r=Math.min(t.t,n);e<r;++e)this.am(0,t[e],i,e,0,n-e);i.clamp()},Zr.prototype.multiplyUpperTo=function(t,n,i){var r=i.t=this.t+t.t- --n;for(i.s=0;--r>=0;)i[r]=0;for(r=Math.max(n-this.t,0);r<t.t;++r)i[this.t+r-n]=this.am(n-r,t[r],i,0,0,this.t+r-n);i.clamp(),i.drShiftTo(1,i)},Zr.prototype.modInt=function(t){if(t<=0)return 0;var n=this.DV%t,i=this.s<0?t-1:0;if(this.t>0)if(0==n)i=this[0]%t;else for(var r=this.t-1;r>=0;--r)i=(n*i+this[r])%t;return i},Zr.prototype.millerRabin=function(t){var n=this.subtract(Zr.ONE),i=n.getLowestSetBit();if(i<=0)return!1;var r=n.shiftRight(i);(t=t+1>>1)>ce.length&&(t=ce.length);for(var e=$r(),s=0;s<t;++s){e.fromInt(ce[Math.floor(Math.random()*ce.length)]);var o=e.modPow(r,this);if(0!=o.compareTo(Zr.ONE)&&0!=o.compareTo(n)){for(var h=1;h++<i&&0!=o.compareTo(n);)if(0==(o=o.modPowInt(2,this)).compareTo(Zr.ONE))return!1;if(0!=o.compareTo(n))return!1}}return!0},Zr.prototype.clone=function(){var t=$r();return this.copyTo(t),t},Zr.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},Zr.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},Zr.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},Zr.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},Zr.prototype.toByteArray=function(){var t=this.t,n=new Array;n[0]=this.s;var i,r=this.DB-t*this.DB%8,e=0;if(t-- >0)for(r<this.DB&&(i=this[t]>>r)!=(this.s&this.DM)>>r&&(n[e++]=i|this.s<<this.DB-r);t>=0;)r<8?(i=(this[t]&(1<<r)-1)<<8-r,i|=this[--t]>>(r+=this.DB-8)):(i=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&i)&&(i|=-256),0==e&&(128&this.s)!=(128&i)&&++e,(e>0||i!=this.s)&&(n[e++]=i);return n},Zr.prototype.equals=function(t){return 0==this.compareTo(t)},Zr.prototype.min=function(t){return this.compareTo(t)<0?this:t},Zr.prototype.max=function(t){return this.compareTo(t)>0?this:t},Zr.prototype.and=function(t){var n=$r();return this.bitwiseTo(t,ne,n),n},Zr.prototype.or=function(t){var n=$r();return this.bitwiseTo(t,ie,n),n},Zr.prototype.xor=function(t){var n=$r();return this.bitwiseTo(t,re,n),n},Zr.prototype.andNot=function(t){var n=$r();return this.bitwiseTo(t,ee,n),n},Zr.prototype.not=function(){for(var t=$r(),n=0;n<this.t;++n)t[n]=this.DM&~this[n];return t.t=this.t,t.s=~this.s,t},Zr.prototype.shiftLeft=function(t){var n=$r();return t<0?this.rShiftTo(-t,n):this.lShiftTo(t,n),n},Zr.prototype.shiftRight=function(t){var n=$r();return t<0?this.lShiftTo(-t,n):this.rShiftTo(t,n),n},Zr.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+se(this[t]);return this.s<0?this.t*this.DB:-1},Zr.prototype.bitCount=function(){for(var t=0,n=this.s&this.DM,i=0;i<this.t;++i)t+=oe(this[i]^n);return t},Zr.prototype.testBit=function(t){var n=Math.floor(t/this.DB);return n>=this.t?0!=this.s:0!=(this[n]&1<<t%this.DB)},Zr.prototype.setBit=function(t){return this.changeBit(t,ie)},Zr.prototype.clearBit=function(t){return this.changeBit(t,ee)},Zr.prototype.flipBit=function(t){return this.changeBit(t,re)},Zr.prototype.add=function(t){var n=$r();return this.addTo(t,n),n},Zr.prototype.subtract=function(t){var n=$r();return this.subTo(t,n),n},Zr.prototype.multiply=function(t){var n=$r();return this.multiplyTo(t,n),n},Zr.prototype.divide=function(t){var n=$r();return this.divRemTo(t,n,null),n},Zr.prototype.remainder=function(t){var n=$r();return this.divRemTo(t,null,n),n},Zr.prototype.divideAndRemainder=function(t){var n=$r(),i=$r();return this.divRemTo(t,n,i),new Array(n,i)},Zr.prototype.modPow=function(t,n){var i,r,e=t.bitLength(),s=Gr(1);if(e<=0)return s;i=e<18?1:e<48?3:e<144?4:e<768?5:6,r=e<8?new Qr(n):n.isEven()?new ue(n):new te(n);var o=new Array,h=3,a=i-1,u=(1<<i)-1;if(o[1]=r.convert(this),i>1){var c=$r();for(r.sqrTo(o[1],c);h<=u;)o[h]=$r(),r.mulTo(c,o[h-2],o[h]),h+=2}var f,l,d=t.t-1,v=!0,w=$r();for(e=Xr(t[d])-1;d>=0;){for(e>=a?f=t[d]>>e-a&u:(f=(t[d]&(1<<e+1)-1)<<a-e,d>0&&(f|=t[d-1]>>this.DB+e-a)),h=i;0==(1&f);)f>>=1,--h;if((e-=h)<0&&(e+=this.DB,--d),v)o[f].copyTo(s),v=!1;else{for(;h>1;)r.sqrTo(s,w),r.sqrTo(w,s),h-=2;h>0?r.sqrTo(s,w):(l=s,s=w,w=l),r.mulTo(w,o[f],s)}for(;d>=0&&0==(t[d]&1<<e);)r.sqrTo(s,w),l=s,s=w,w=l,--e<0&&(e=this.DB-1,--d)}return r.revert(s)},Zr.prototype.modInverse=function(t){var n=t.isEven();if(this.isEven()&&n||0==t.signum())return Zr.ZERO;for(var i=t.clone(),r=this.clone(),e=Gr(1),s=Gr(0),o=Gr(0),h=Gr(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),n?(e.isEven()&&s.isEven()||(e.addTo(this,e),s.subTo(t,s)),e.rShiftTo(1,e)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;r.isEven();)r.rShiftTo(1,r),n?(o.isEven()&&h.isEven()||(o.addTo(this,o),h.subTo(t,h)),o.rShiftTo(1,o)):h.isEven()||h.subTo(t,h),h.rShiftTo(1,h);i.compareTo(r)>=0?(i.subTo(r,i),n&&e.subTo(o,e),s.subTo(h,s)):(r.subTo(i,r),n&&o.subTo(e,o),h.subTo(s,h))}return 0!=r.compareTo(Zr.ONE)?Zr.ZERO:h.compareTo(t)>=0?h.subtract(t):h.signum()<0?(h.addTo(t,h),h.signum()<0?h.add(t):h):h},Zr.prototype.pow=function(t){return this.exp(t,new he)},Zr.prototype.gcd=function(t){var n=this.s<0?this.negate():this.clone(),i=t.s<0?t.negate():t.clone();if(n.compareTo(i)<0){var r=n;n=i,i=r}var e=n.getLowestSetBit(),s=i.getLowestSetBit();if(s<0)return n;for(e<s&&(s=e),s>0&&(n.rShiftTo(s,n),i.rShiftTo(s,i));n.signum()>0;)(e=n.getLowestSetBit())>0&&n.rShiftTo(e,n),(e=i.getLowestSetBit())>0&&i.rShiftTo(e,i),n.compareTo(i)>=0?(n.subTo(i,n),n.rShiftTo(1,n)):(i.subTo(n,i),i.rShiftTo(1,i));return s>0&&i.lShiftTo(s,i),i},Zr.prototype.isProbablePrime=function(t){var n,i=this.abs();if(1==i.t&&i[0]<=ce[ce.length-1]){for(n=0;n<ce.length;++n)if(i[0]==ce[n])return!0;return!1}if(i.isEven())return!1;for(n=1;n<ce.length;){for(var r=ce[n],e=n+1;e<ce.length&&r<fe;)r*=ce[e++];for(r=i.modInt(r);n<e;)if(r%ce[n++]==0)return!1}return i.millerRabin(t)},Zr.prototype.square=function(){var t=$r();return this.squareTo(t),t},le.prototype.init=function(t){var n,i,r;for(n=0;n<256;++n)this.S[n]=n;for(i=0,n=0;n<256;++n)r=this.S[n],this.S[n]=this.S[i=i+this.S[n]+t[n%t.length]&255],this.S[i]=r;this.i=0,this.j=0},le.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var de,ve,we,pe=256;function ge(){var t;t=(new Date).getTime(),ve[we++]^=255&t,ve[we++]^=t>>8&255,ve[we++]^=t>>16&255,ve[we++]^=t>>24&255,we>=pe&&(we-=pe)}if(null==ve){var Ce;if(ve=new Array,we=0,void 0!==xr&&void 0!==xr.msCrypto){var me=xr.msCrypto;if(me.getRandomValues){var Fe=new Uint8Array(32);for(me.getRandomValues(Fe),Ce=0;Ce<32;++Ce)ve[we++]=Fe[Ce]}}for(;we<pe;)Ce=Math.floor(65536*Math.random()),ve[we++]=Ce>>>8,ve[we++]=255&Ce;we=0,ge()}function ye(){if(null==de){for(ge(),(de=new le).init(ve),we=0;we<ve.length;++we)ve[we]=0;we=0}return de.next()}function be(){}function Ee(t,n){return new Zr(t,n)}function Le(t,n,i){for(var r="",e=0;r.length<n;)r+=i(String.fromCharCode.apply(String,t.concat([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))),e+=1;return r}function Se(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function Ae(t,n,i){for(var r="",e=0;r.length<n;)r+=i(t+String.fromCharCode.apply(String,[(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])),e+=1;return r}function ke(t,n){this.x=n,this.q=t}function Te(t,n,i,r){this.curve=t,this.x=n,this.y=i,this.z=null==r?Zr.ONE:r,this.zinv=null}function xe(t,n,i){this.q=t,this.a=this.fromBigInteger(n),this.b=this.fromBigInteger(i),this.infinity=new Te(this,null,null)}be.prototype.nextBytes=function(t){var n;for(n=0;n<t.length;++n)t[n]=ye()},Se.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},Se.prototype.setPublic=function(t,n){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof t)this.n=t,this.e=n;else{if(!(null!=t&&null!=n&&t.length>0&&n.length>0))throw"Invalid RSA public key";this.n=Ee(t,16),this.e=parseInt(n,16)}},Se.prototype.encrypt=function(t){var n=function(t,n){if(n<t.length+11)throw"Message too long for RSA";for(var i=new Array,r=t.length-1;r>=0&&n>0;){var e=t.charCodeAt(r--);e<128?i[--n]=e:e>127&&e<2048?(i[--n]=63&e|128,i[--n]=e>>6|192):(i[--n]=63&e|128,i[--n]=e>>6&63|128,i[--n]=e>>12|224)}i[--n]=0;for(var s=new be,o=new Array;n>2;){for(o[0]=0;0==o[0];)s.nextBytes(o);i[--n]=o[0]}return i[--n]=2,i[--n]=0,new Zr(i)}(t,this.n.bitLength()+7>>3);if(null==n)return null;var i=this.doPublic(n);if(null==i)return null;var r=i.toString(16);return 0==(1&r.length)?r:"0"+r},Se.prototype.encryptOAEP=function(t,n,i){var r=function(t,n,i,r){var e=Ie.crypto.MessageDigest,s=Ie.crypto.Util,o=null;if(i||(i="sha1"),"string"==typeof i&&(o=e.getCanonicalAlgName(i),r=e.getHashLength(o),i=function(t){return Ke(s.hashHex(qe(t),o))}),t.length+2*r+2>n)throw"Message too long for RSA";var h,a="";for(h=0;h<n-t.length-2*r-2;h+=1)a+="\0";var u=i("")+a+""+t,c=new Array(r);(new be).nextBytes(c);var f=Le(c,u.length,i),l=[];for(h=0;h<u.length;h+=1)l[h]=u.charCodeAt(h)^f.charCodeAt(h);var d=Le(l,c.length,i),v=[0];for(h=0;h<c.length;h+=1)v[h+1]=c[h]^d.charCodeAt(h);return new Zr(v.concat(l))}(t,this.n.bitLength()+7>>3,n,i);if(null==r)return null;var e=this.doPublic(r);if(null==e)return null;var s=e.toString(16);return 0==(1&s.length)?s:"0"+s},Se.prototype.type="RSA",Se.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var n=t.mod(this.p).modPow(this.dmp1,this.p),i=t.mod(this.q).modPow(this.dmq1,this.q);n.compareTo(i)<0;)n=n.add(this.p);return n.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)},Se.prototype.setPrivate=function(t,n,i){if(this.isPrivate=!0,"string"!=typeof t)this.n=t,this.e=n,this.d=i;else{if(!(null!=t&&null!=n&&t.length>0&&n.length>0))throw"Invalid RSA private key";this.n=Ee(t,16),this.e=parseInt(n,16),this.d=Ee(i,16)}},Se.prototype.setPrivateEx=function(t,n,i,r,e,s,o,h){if(this.isPrivate=!0,this.isPublic=!1,null==t)throw"RSASetPrivateEx N == null";if(null==n)throw"RSASetPrivateEx E == null";if(0==t.length)throw"RSASetPrivateEx N.length == 0";if(0==n.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=t&&null!=n&&t.length>0&&n.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=Ee(t,16),this.e=parseInt(n,16),this.d=Ee(i,16),this.p=Ee(r,16),this.q=Ee(e,16),this.dmp1=Ee(s,16),this.dmq1=Ee(o,16),this.coeff=Ee(h,16)},Se.prototype.generate=function(t,n){var i=new be,r=t>>1;this.e=parseInt(n,16);for(var e=new Zr(n,16);;){for(;this.p=new Zr(t-r,1,i),0!=this.p.subtract(Zr.ONE).gcd(e).compareTo(Zr.ONE)||!this.p.isProbablePrime(10););for(;this.q=new Zr(r,1,i),0!=this.q.subtract(Zr.ONE).gcd(e).compareTo(Zr.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var o=this.p.subtract(Zr.ONE),h=this.q.subtract(Zr.ONE),a=o.multiply(h);if(0==a.gcd(e).compareTo(Zr.ONE)){this.n=this.p.multiply(this.q),this.d=e.modInverse(a),this.dmp1=this.d.mod(o),this.dmq1=this.d.mod(h),this.coeff=this.q.modInverse(this.p);break}}this.isPrivate=!0},Se.prototype.decrypt=function(t){var n=Ee(t,16),i=this.doPrivate(n);return null==i?null:function(t,n){for(var i=t.toByteArray(),r=0;r<i.length&&0==i[r];)++r;if(i.length-r!=n-1||2!=i[r])return null;for(++r;0!=i[r];)if(++r>=i.length)return null;for(var e="";++r<i.length;){var s=255&i[r];s<128?e+=String.fromCharCode(s):s>191&&s<224?(e+=String.fromCharCode((31&s)<<6|63&i[r+1]),++r):(e+=String.fromCharCode((15&s)<<12|(63&i[r+1])<<6|63&i[r+2]),r+=2)}return e}(i,this.n.bitLength()+7>>3)},Se.prototype.decryptOAEP=function(t,n,i){var r=Ee(t,16),e=this.doPrivate(r);return null==e?null:function(t,n,i,r){var e=Ie.crypto.MessageDigest,s=Ie.crypto.Util,o=null;for(i||(i="sha1"),"string"==typeof i&&(o=e.getCanonicalAlgName(i),r=e.getHashLength(o),i=function(t){return Ke(s.hashHex(qe(t),o))}),t=t.toByteArray(),h=0;h<t.length;h+=1)t[h]&=255;for(;t.length<n;)t.unshift(0);if((t=String.fromCharCode.apply(String,t)).length<2*r+2)throw"Cipher too short";var h,a=t.substr(1,r),u=t.substr(r+1),c=Ae(u,r,i),f=[];for(h=0;h<a.length;h+=1)f[h]=a.charCodeAt(h)^c.charCodeAt(h);var l=Ae(String.fromCharCode.apply(String,f),t.length-r,i),d=[];for(h=0;h<u.length;h+=1)d[h]=u.charCodeAt(h)^l.charCodeAt(h);if((d=String.fromCharCode.apply(String,d)).substr(0,r)!==i(""))throw"Hash mismatch";var v=(d=d.substr(r)).indexOf("");if((-1!=v?d.substr(0,v).lastIndexOf("\0"):-1)+1!=v)throw"Malformed data";return d.substr(v+1)}(e,this.n.bitLength()+7>>3,n,i)},ke.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.x.equals(t.x)},ke.prototype.toBigInteger=function(){return this.x},ke.prototype.negate=function(){return new ke(this.q,this.x.negate().mod(this.q))},ke.prototype.add=function(t){return new ke(this.q,this.x.add(t.toBigInteger()).mod(this.q))},ke.prototype.subtract=function(t){return new ke(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))},ke.prototype.multiply=function(t){return new ke(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))},ke.prototype.square=function(){return new ke(this.q,this.x.square().mod(this.q))},ke.prototype.divide=function(t){return new ke(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))},Te.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Te.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Te.prototype.equals=function(t){return t==this||(this.isInfinity()?t.isInfinity():t.isInfinity()?this.isInfinity():!!t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(Zr.ZERO)&&t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(Zr.ZERO))},Te.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(Zr.ZERO)&&!this.y.toBigInteger().equals(Zr.ZERO)},Te.prototype.negate=function(){return new Te(this.curve,this.x,this.y.negate(),this.z)},Te.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var n=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),i=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q);if(Zr.ZERO.equals(i))return Zr.ZERO.equals(n)?this.twice():this.curve.getInfinity();var r=new Zr("3"),e=this.x.toBigInteger(),s=this.y.toBigInteger(),o=(t.x.toBigInteger(),t.y.toBigInteger(),i.square()),h=o.multiply(i),a=e.multiply(o),u=n.square().multiply(this.z),c=u.subtract(a.shiftLeft(1)).multiply(t.z).subtract(h).multiply(i).mod(this.curve.q),f=a.multiply(r).multiply(n).subtract(s.multiply(h)).subtract(u.multiply(n)).multiply(t.z).add(n.multiply(h)).mod(this.curve.q),l=h.multiply(this.z).multiply(t.z).mod(this.curve.q);return new Te(this.curve,this.curve.fromBigInteger(c),this.curve.fromBigInteger(f),l)},Te.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=new Zr("3"),n=this.x.toBigInteger(),i=this.y.toBigInteger(),r=i.multiply(this.z),e=r.multiply(i).mod(this.curve.q),s=this.curve.a.toBigInteger(),o=n.square().multiply(t);Zr.ZERO.equals(s)||(o=o.add(this.z.square().multiply(s)));var h=(o=o.mod(this.curve.q)).square().subtract(n.shiftLeft(3).multiply(e)).shiftLeft(1).multiply(r).mod(this.curve.q),a=o.multiply(t).multiply(n).subtract(e.shiftLeft(1)).shiftLeft(2).multiply(e).subtract(o.square().multiply(o)).mod(this.curve.q),u=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new Te(this.curve,this.curve.fromBigInteger(h),this.curve.fromBigInteger(a),u)},Te.prototype.multiply=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var n,i=t,r=i.multiply(new Zr("3")),e=this.negate(),s=this;for(n=r.bitLength()-2;n>0;--n){s=s.twice();var o=r.testBit(n);o!=i.testBit(n)&&(s=s.add(o?this:e))}return s},Te.prototype.multiplyTwo=function(t,n,i){var r;r=t.bitLength()>i.bitLength()?t.bitLength()-1:i.bitLength()-1;for(var e=this.curve.getInfinity(),s=this.add(n);r>=0;)e=e.twice(),t.testBit(r)?e=i.testBit(r)?e.add(s):e.add(this):i.testBit(r)&&(e=e.add(n)),--r;return e},xe.prototype.getQ=function(){return this.q},xe.prototype.getA=function(){return this.a},xe.prototype.getB=function(){return this.b},xe.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)},xe.prototype.getInfinity=function(){return this.infinity},xe.prototype.fromBigInteger=function(t){return new ke(this.q,t)},xe.prototype.decodePointHex=function(t){switch(parseInt(t.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var n=(t.length-2)/2,i=t.substr(2,n),r=t.substr(n+2,n);return new Te(this,this.fromBigInteger(new Zr(i,16)),this.fromBigInteger(new Zr(r,16)));default:return null}},ke.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},Te.prototype.getEncoded=function(t){var n=function(t,n){var i=t.toByteArrayUnsigned();if(n<i.length)i=i.slice(i.length-n);else for(;n>i.length;)i.unshift(0);return i},i=this.getX().toBigInteger(),r=this.getY().toBigInteger(),e=n(i,32);return t?r.isEven()?e.unshift(2):e.unshift(3):(e.unshift(4),e=e.concat(n(r,32))),e},Te.decodeFrom=function(t,n){var i=n.length-1,r=n.slice(1,1+i/2),e=n.slice(1+i/2,1+i);r.unshift(0),e.unshift(0);var s=new Zr(r),o=new Zr(e);return new Te(t,t.fromBigInteger(s),t.fromBigInteger(o))},Te.decodeFromHex=function(t,n){n.substr(0,2);var i=n.length-2,r=n.substr(2,i/2),e=n.substr(2+i/2,i/2),s=new Zr(r,16),o=new Zr(e,16);return new Te(t,t.fromBigInteger(s),t.fromBigInteger(o))},Te.prototype.add2D=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;if(this.x.equals(t.x))return this.y.equals(t.y)?this.twice():this.curve.getInfinity();var n=t.x.subtract(this.x),i=t.y.subtract(this.y).divide(n),r=i.square().subtract(this.x).subtract(t.x),e=i.multiply(this.x.subtract(r)).subtract(this.y);return new Te(this.curve,r,e)},Te.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=this.curve.fromBigInteger(Zr.valueOf(2)),n=this.curve.fromBigInteger(Zr.valueOf(3)),i=this.x.square().multiply(n).add(this.curve.a).divide(this.y.multiply(t)),r=i.square().subtract(this.x.multiply(t)),e=i.multiply(this.x.subtract(r)).subtract(this.y);return new Te(this.curve,r,e)},Te.prototype.multiply2D=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var n,i=t,r=i.multiply(new Zr("3")),e=this.negate(),s=this;for(n=r.bitLength()-2;n>0;--n){s=s.twice();var o=r.testBit(n);o!=i.testBit(n)&&(s=s.add2D(o?this:e))}return s},Te.prototype.isOnCurve=function(){var t=this.getX().toBigInteger(),n=this.getY().toBigInteger(),i=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),e=this.curve.getQ(),s=n.multiply(n).mod(e),o=t.multiply(t).multiply(t).add(i.multiply(t)).add(r).mod(e);return s.equals(o)},Te.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},Te.prototype.validate=function(){var t=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var n=this.getX().toBigInteger(),i=this.getY().toBigInteger();if(n.compareTo(Zr.ONE)<0||n.compareTo(t.subtract(Zr.ONE))>0)throw new Error("x coordinate out of bounds");if(i.compareTo(Zr.ONE)<0||i.compareTo(t.subtract(Zr.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(t).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var Re=function(){var t=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),n=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),i={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function r(t,n,r){return n?i[n]:String.fromCharCode(parseInt(r,16))}var e=new String(""),s=Object.hasOwnProperty;return function(i,o){var h,a,u=i.match(t),c=u[0],f=!1;"{"===c?h={}:"["===c?h=[]:(h=[],f=!0);for(var l=[h],d=1-f,v=u.length;d<v;++d){var w;switch((c=u[d]).charCodeAt(0)){default:(w=l[0])[a||w.length]=+c,a=void 0;break;case 34:if(-1!==(c=c.substring(1,c.length-1)).indexOf("\\")&&(c=c.replace(n,r)),w=l[0],!a){if(!(w instanceof Array)){a=c||e;break}a=w.length}w[a]=c,a=void 0;break;case 91:l.unshift((w=l[0])[a||w.length]=[]),a=void 0;break;case 93:l.shift();break;case 102:(w=l[0])[a||w.length]=!1,a=void 0;break;case 110:(w=l[0])[a||w.length]=null,a=void 0;break;case 116:(w=l[0])[a||w.length]=!0,a=void 0;break;case 123:l.unshift((w=l[0])[a||w.length]={}),a=void 0;break;case 125:l.shift()}}if(f){if(1!==l.length)throw new Error;h=h[0]}else if(l.length)throw new Error;if(o){var p=function(t,n){var i=t[n];if(i&&"object"==typeof i){var r=null;for(var e in i)if(s.call(i,e)&&i!==t){var h=p(i,e);void 0!==h?i[e]=h:(r||(r=[]),r.push(e))}if(r)for(var a=r.length;--a>=0;)delete i[r[a]]}return o.call(t,n,i)};h=p({"":h},"")}return h}}();void 0!==Ie&&Ie||(Ie={}),void 0!==Ie.asn1&&Ie.asn1||(Ie.asn1={}),Ie.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var n=t.toString(16);return n.length%2==1&&(n="0"+n),n},this.bigIntToMinTwosComplementsHex=function(t){var n=t.toString(16);if("-"!=n.substr(0,1))n.length%2==1?n="0"+n:n.match(/^[0-7]/)||(n="00"+n);else{var i=n.substr(1).length;i%2==1?i+=1:n.match(/^[0-7]/)||(i+=2);for(var r="",e=0;e<i;e++)r+="f";n=new Zr(r,16).xor(t).add(Zr.ONE).toString(16).replace(/^-/,"")}return n},this.getPEMStringFromHex=function(t,n){return Je(t,n)},this.newObject=function(t){var n=Ie.asn1,i=n.DERBoolean,r=n.DERInteger,e=n.DERBitString,s=n.DEROctetString,o=n.DERNull,h=n.DERObjectIdentifier,a=n.DEREnumerated,u=n.DERUTF8String,c=n.DERNumericString,f=n.DERPrintableString,l=n.DERTeletexString,d=n.DERIA5String,v=n.DERUTCTime,w=n.DERGeneralizedTime,p=n.DERSequence,g=n.DERSet,C=n.DERTaggedObject,m=n.ASN1Util.newObject,F=Object.keys(t);if(1!=F.length)throw"key of param shall be only one.";var y=F[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+y+":"))throw"undefined key: "+y;if("bool"==y)return new i(t[y]);if("int"==y)return new r(t[y]);if("bitstr"==y)return new e(t[y]);if("octstr"==y)return new s(t[y]);if("null"==y)return new o(t[y]);if("oid"==y)return new h(t[y]);if("enum"==y)return new a(t[y]);if("utf8str"==y)return new u(t[y]);if("numstr"==y)return new c(t[y]);if("prnstr"==y)return new f(t[y]);if("telstr"==y)return new l(t[y]);if("ia5str"==y)return new d(t[y]);if("utctime"==y)return new v(t[y]);if("gentime"==y)return new w(t[y]);if("seq"==y){for(var b=t[y],E=[],L=0;L<b.length;L++){var S=m(b[L]);E.push(S)}return new p({array:E})}if("set"==y){for(b=t[y],E=[],L=0;L<b.length;L++)S=m(b[L]),E.push(S);return new g({array:E})}if("tag"==y){var A=t[y];if("[object Array]"===Object.prototype.toString.call(A)&&3==A.length){var k=m(A[2]);return new C({tag:A[0],explicit:A[1],obj:k})}var T={};if(void 0!==A.explicit&&(T.explicit=A.explicit),void 0!==A.tag&&(T.tag=A.tag),void 0===A.obj)throw"obj shall be specified for 'tag'.";return T.obj=m(A.obj),new C(T)}},this.jsonToASN1HEX=function(t){return this.newObject(t).getEncodedHex()}},Ie.asn1.ASN1Util.oidHexToInt=function(t){for(var n="",i=parseInt(t.substr(0,2),16),r=(n=Math.floor(i/40)+"."+i%40,""),e=2;e<t.length;e+=2){var s=("00000000"+parseInt(t.substr(e,2),16).toString(2)).slice(-8);r+=s.substr(1,7),"0"==s.substr(0,1)&&(n=n+"."+new Zr(r,2).toString(10),r="")}return n},Ie.asn1.ASN1Util.oidIntToHex=function(t){var n=function(t){var n=t.toString(16);return 1==n.length&&(n="0"+n),n},i=function(t){var i="",r=new Zr(t,10).toString(2),e=7-r.length%7;7==e&&(e=0);for(var s="",o=0;o<e;o++)s+="0";for(r=s+r,o=0;o<r.length-1;o+=7){var h=r.substr(o,7);o!=r.length-7&&(h="1"+h),i+=n(parseInt(h,2))}return i};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var r="",e=t.split("."),s=40*parseInt(e[0])+parseInt(e[1]);r+=n(s),e.splice(0,2);for(var o=0;o<e.length;o++)r+=i(e[o]);return r},Ie.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var t=this.hV.length/2,n=t.toString(16);if(n.length%2==1&&(n="0"+n),t<128)return n;var i=n.length/2;if(i>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+i).toString(16)+n},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},Ie.asn1.DERAbstractString=function(t){Ie.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=Ze(this.s).toLowerCase()},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},Rr.lang.extend(Ie.asn1.DERAbstractString,Ie.asn1.ASN1Object),Ie.asn1.DERAbstractTime=function(){Ie.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){return utc=t.getTime()+6e4*t.getTimezoneOffset(),new Date(utc)},this.formatDate=function(t,n,i){var r=this.zeroPadding,e=this.localDateToUTC(t),s=String(e.getFullYear());"utc"==n&&(s=s.substr(2,2));var o=s+r(String(e.getMonth()+1),2)+r(String(e.getDate()),2)+r(String(e.getHours()),2)+r(String(e.getMinutes()),2)+r(String(e.getSeconds()),2);if(!0===i){var h=e.getMilliseconds();if(0!=h){var a=r(String(h),3);o=o+"."+(a=a.replace(/[0]+$/,""))}}return o+"Z"},this.zeroPadding=function(t,n){return t.length>=n?t:new Array(n-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=Ne(t)},this.setByDateValue=function(t,n,i,r,e,s){var o=new Date(Date.UTC(t,n-1,i,r,e,s,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},Rr.lang.extend(Ie.asn1.DERAbstractTime,Ie.asn1.ASN1Object),Ie.asn1.DERAbstractStructured=function(t){Ie.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},Rr.lang.extend(Ie.asn1.DERAbstractStructured,Ie.asn1.ASN1Object),Ie.asn1.DERBoolean=function(){Ie.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},Rr.lang.extend(Ie.asn1.DERBoolean,Ie.asn1.ASN1Object),Ie.asn1.DERInteger=function(t){Ie.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=Ie.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var n=new Zr(String(t),10);this.setByBigInteger(n)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.bigint?this.setByBigInteger(t.bigint):void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},Rr.lang.extend(Ie.asn1.DERInteger,Ie.asn1.ASN1Object),Ie.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var n=Ie.asn1.ASN1Util.newObject(t.obj);t.hex="00"+n.getEncodedHex()}Ie.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,n){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var i="0"+t;this.hTLV=null,this.isModified=!0,this.hV=i+n},this.setByBinaryString=function(t){var n=8-(t=t.replace(/0+$/,"")).length%8;8==n&&(n=0);for(var i=0;i<=n;i++)t+="0";var r="";for(i=0;i<t.length-1;i+=8){var e=t.substr(i,8),s=parseInt(e,2).toString(16);1==s.length&&(s="0"+s),r+=s}this.hTLV=null,this.isModified=!0,this.hV="0"+n+r},this.setByBooleanArray=function(t){for(var n="",i=0;i<t.length;i++)n+=1==t[i]?"1":"0";this.setByBinaryString(n)},this.newFalseArray=function(t){for(var n=new Array(t),i=0;i<t;i++)n[i]=!1;return n},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},Rr.lang.extend(Ie.asn1.DERBitString,Ie.asn1.ASN1Object),Ie.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var n=Ie.asn1.ASN1Util.newObject(t.obj);t.hex=n.getEncodedHex()}Ie.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},Rr.lang.extend(Ie.asn1.DEROctetString,Ie.asn1.DERAbstractString),Ie.asn1.DERNull=function(){Ie.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Rr.lang.extend(Ie.asn1.DERNull,Ie.asn1.ASN1Object),Ie.asn1.DERObjectIdentifier=function(t){var n=function(t){var n=t.toString(16);return 1==n.length&&(n="0"+n),n},i=function(t){var i="",r=new Zr(t,10).toString(2),e=7-r.length%7;7==e&&(e=0);for(var s="",o=0;o<e;o++)s+="0";for(r=s+r,o=0;o<r.length-1;o+=7){var h=r.substr(o,7);o!=r.length-7&&(h="1"+h),i+=n(parseInt(h,2))}return i};Ie.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var r="",e=t.split("."),s=40*parseInt(e[0])+parseInt(e[1]);r+=n(s),e.splice(0,2);for(var o=0;o<e.length;o++)r+=i(e[o]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueName=function(t){var n=Ie.asn1.x509.OID.name2oid(t);if(""===n)throw"DERObjectIdentifier oidName undefined: "+t;this.setValueOidString(n)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name))},Rr.lang.extend(Ie.asn1.DERObjectIdentifier,Ie.asn1.ASN1Object),Ie.asn1.DEREnumerated=function(t){Ie.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=Ie.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var n=new Zr(String(t),10);this.setByBigInteger(n)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},Rr.lang.extend(Ie.asn1.DEREnumerated,Ie.asn1.ASN1Object),Ie.asn1.DERUTF8String=function(t){Ie.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},Rr.lang.extend(Ie.asn1.DERUTF8String,Ie.asn1.DERAbstractString),Ie.asn1.DERNumericString=function(t){Ie.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},Rr.lang.extend(Ie.asn1.DERNumericString,Ie.asn1.DERAbstractString),Ie.asn1.DERPrintableString=function(t){Ie.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},Rr.lang.extend(Ie.asn1.DERPrintableString,Ie.asn1.DERAbstractString),Ie.asn1.DERTeletexString=function(t){Ie.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},Rr.lang.extend(Ie.asn1.DERTeletexString,Ie.asn1.DERAbstractString),Ie.asn1.DERIA5String=function(t){Ie.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},Rr.lang.extend(Ie.asn1.DERIA5String,Ie.asn1.DERAbstractString),Ie.asn1.DERUTCTime=function(t){Ie.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=Ne(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Ne(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},Rr.lang.extend(Ie.asn1.DERUTCTime,Ie.asn1.DERAbstractTime),Ie.asn1.DERGeneralizedTime=function(t){Ie.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Ne(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Ne(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},Rr.lang.extend(Ie.asn1.DERGeneralizedTime,Ie.asn1.DERAbstractTime),Ie.asn1.DERSequence=function(t){Ie.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",n=0;n<this.asn1Array.length;n++)t+=this.asn1Array[n].getEncodedHex();return this.hV=t,this.hV}},Rr.lang.extend(Ie.asn1.DERSequence,Ie.asn1.DERAbstractStructured),Ie.asn1.DERSet=function(t){Ie.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,n=0;n<this.asn1Array.length;n++)t.push(this.asn1Array[n].getEncodedHex());return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},Rr.lang.extend(Ie.asn1.DERSet,Ie.asn1.DERAbstractStructured),Ie.asn1.DERTaggedObject=function(t){Ie.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,n,i){this.hT=n,this.isExplicit=t,this.asn1Object=i,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=i.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,n),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.tag&&(this.hT=t.tag),void 0!==t.explicit&&(this.isExplicit=t.explicit),void 0!==t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},Rr.lang.extend(Ie.asn1.DERTaggedObject,Ie.asn1.ASN1Object);var Ie,Me,De,je=new function(){};function Be(t){for(var n=new Array,i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}function _e(t){for(var n="",i=0;i<t.length;i++)n+=String.fromCharCode(t[i]);return n}function Pe(t){for(var n="",i=0;i<t.length;i++){var r=t[i].toString(16);1==r.length&&(r="0"+r),n+=r}return n}function Ne(t){return Pe(Be(t))}function Oe(t){return(t=(t=t.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Ue(t){return t.length%4==2?t+="==":t.length%4==3&&(t+="="),(t=t.replace(/-/g,"+")).replace(/_/g,"/")}function He(t){return t.length%2==1&&(t="0"+t),Oe(Ur(t))}function ze(t){return Hr(Ue(t))}function Ze(t){return ts(ss(t))}function $e(t){return decodeURIComponent(ns(t))}function Ke(t){for(var n="",i=0;i<t.length-1;i+=2)n+=String.fromCharCode(parseInt(t.substr(i,2),16));return n}function qe(t){for(var n="",i=0;i<t.length;i++)n+=("0"+t.charCodeAt(i).toString(16)).slice(-2);return n}function Ve(t){return Ur(t)}function We(t){var n=Ve(t).replace(/(.{64})/g,"$1\r\n");return n.replace(/\r\n$/,"")}function Ye(t){return Hr(t.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Je(t,n){return"-----BEGIN "+n+"-----\r\n"+We(t)+"\r\n-----END "+n+"-----\r\n"}function Ge(t,n){if(-1==t.indexOf("-----BEGIN "))throw"can't find PEM header: "+n;return Ye(t=void 0!==n?(t=t.replace("-----BEGIN "+n+"-----","")).replace("-----END "+n+"-----",""):(t=t.replace(/-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----/,""))}function Xe(t){var n,i,r,e,s,o,h,a,u,c,f;if(f=t.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return a=f[1],n=parseInt(a),2===a.length&&(50<=n&&n<100?n=1900+n:0<=n&&n<50&&(n=2e3+n)),i=parseInt(f[2])-1,r=parseInt(f[3]),e=parseInt(f[4]),s=parseInt(f[5]),o=parseInt(f[6]),h=0,""!==(u=f[7])&&(c=(u.substr(1)+"00").substr(0,3),h=parseInt(c)),Date.UTC(n,i,r,e,s,o,h);throw"unsupported zulu format: "+t}function Qe(t){return~~(Xe(t)/1e3)}function ts(t){return t.replace(/%/g,"")}function ns(t){return t.replace(/(..)/g,"%$1")}function is(t){var n="malformed IPv6 address";if(!t.match(/^[0-9A-Fa-f:]+$/))throw n;var i=(t=t.toLowerCase()).split(":").length-1;if(i<2)throw n;var r=":".repeat(7-i+2),e=(t=t.replace("::",r)).split(":");if(8!=e.length)throw n;for(var s=0;s<8;s++)e[s]=("0000"+e[s]).slice(-4);return e.join("")}function rs(t){if(!t.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var n=(t=t.toLowerCase()).match(/.{1,4}/g),i=0;i<8;i++)n[i]=n[i].replace(/^0+/,""),""==n[i]&&(n[i]="0");var r=(t=":"+n.join(":")+":").match(/:(0:){2,}/g);if(null===r)return t.slice(1,-1);var e="";for(i=0;i<r.length;i++)r[i].length>e.length&&(e=r[i]);return(t=t.replace(e,"::")).slice(1,-1)}function es(t){var n="malformed hex value";if(!t.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw n;if(8!=t.length)return 32==t.length?rs(t):t;try{return parseInt(t.substr(0,2),16)+"."+parseInt(t.substr(2,2),16)+"."+parseInt(t.substr(4,2),16)+"."+parseInt(t.substr(6,2),16)}catch(t){throw n}}function ss(t){for(var n=encodeURIComponent(t),i="",r=0;r<n.length;r++)"%"==n[r]?(i+=n.substr(r,3),r+=2):i=i+"%"+Ne(n[r]);return i}function os(t){return t.length%2==1?"0"+t:t.substr(0,1)>"7"?"00"+t:t}function hs(t){t=(t=(t=t.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return t.split(/,/).map((function(t){var n=parseInt(t);if(n<0||255<n)throw"integer not in range 0-255";return("00"+n.toString(16)).slice(-2)})).join("")}catch(t){throw"malformed integer array string: "+t}}je.getLblen=function(t,n){if("8"!=t.substr(n+2,1))return 1;var i=parseInt(t.substr(n+3,1));return 0==i?-1:0<i&&i<10?i+1:-2},je.getL=function(t,n){var i=je.getLblen(t,n);return i<1?"":t.substr(n+2,2*i)},je.getVblen=function(t,n){var i;return""==(i=je.getL(t,n))?-1:("8"===i.substr(0,1)?new Zr(i.substr(2),16):new Zr(i,16)).intValue()},je.getVidx=function(t,n){var i=je.getLblen(t,n);return i<0?i:n+2*(i+1)},je.getV=function(t,n){var i=je.getVidx(t,n),r=je.getVblen(t,n);return t.substr(i,2*r)},je.getTLV=function(t,n){return t.substr(n,2)+je.getL(t,n)+je.getV(t,n)},je.getNextSiblingIdx=function(t,n){return je.getVidx(t,n)+2*je.getVblen(t,n)},je.getChildIdx=function(t,n){var i=je,r=new Array,e=i.getVidx(t,n);"03"==t.substr(n,2)?r.push(e+2):r.push(e);for(var s=i.getVblen(t,n),o=e,h=0;;){var a=i.getNextSiblingIdx(t,o);if(null==a||a-e>=2*s)break;if(h>=200)break;r.push(a),o=a,h++}return r},je.getNthChildIdx=function(t,n,i){return je.getChildIdx(t,n)[i]},je.getIdxbyList=function(t,n,i,r){var e,s,o=je;if(0==i.length){if(void 0!==r&&t.substr(n,2)!==r)throw"checking tag doesn't match: "+t.substr(n,2)+"!="+r;return n}return e=i.shift(),s=o.getChildIdx(t,n),o.getIdxbyList(t,s[e],i,r)},je.getTLVbyList=function(t,n,i,r){var e=je,s=e.getIdxbyList(t,n,i);if(void 0===s)throw"can't find nthList object";if(void 0!==r&&t.substr(s,2)!=r)throw"checking tag doesn't match: "+t.substr(s,2)+"!="+r;return e.getTLV(t,s)},je.getVbyList=function(t,n,i,r,e){var s,o,h=je;if(void 0===(s=h.getIdxbyList(t,n,i,r)))throw"can't find nthList object";return o=h.getV(t,s),!0===e&&(o=o.substr(2)),o},je.hextooidstr=function(t){var n=function(t,n){return t.length>=n?t:new Array(n-t.length+1).join("0")+t},i=[],r=t.substr(0,2),e=parseInt(r,16);i[0]=new String(Math.floor(e/40)),i[1]=new String(e%40);for(var s=t.substr(2),o=[],h=0;h<s.length/2;h++)o.push(parseInt(s.substr(2*h,2),16));var a=[],u="";for(h=0;h<o.length;h++)128&o[h]?u+=n((127&o[h]).toString(2),7):(u+=n((127&o[h]).toString(2),7),a.push(new String(parseInt(u,2))),u="");var c=i.join(".");return a.length>0&&(c=c+"."+a.join(".")),c},je.dump=function(t,n,i,r){var e=je,s=e.getV,o=e.dump,h=e.getChildIdx,a=t;t instanceof Ie.asn1.ASN1Object&&(a=t.getEncodedHex());var u=function(t,n){return t.length<=2*n?t:t.substr(0,n)+"..(total "+t.length/2+"bytes).."+t.substr(t.length-n,n)};void 0===n&&(n={ommit_long_octet:32}),void 0===i&&(i=0),void 0===r&&(r="");var c=n.ommit_long_octet;if("01"==a.substr(i,2))return"00"==(f=s(a,i))?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n";if("02"==a.substr(i,2))return r+"INTEGER "+u(f=s(a,i),c)+"\n";if("03"==a.substr(i,2))return r+"BITSTRING "+u(f=s(a,i),c)+"\n";if("04"==a.substr(i,2)){var f=s(a,i);return e.isASN1HEX(f)?(b=r+"OCTETSTRING, encapsulates\n")+o(f,n,0,r+"  "):r+"OCTETSTRING "+u(f,c)+"\n"}if("05"==a.substr(i,2))return r+"NULL\n";if("06"==a.substr(i,2)){var l=s(a,i),d=Ie.asn1.ASN1Util.oidHexToInt(l),v=Ie.asn1.x509.OID.oid2name(d),w=d.replace(/\./g," ");return""!=v?r+"ObjectIdentifier "+v+" ("+w+")\n":r+"ObjectIdentifier ("+w+")\n"}if("0c"==a.substr(i,2))return r+"UTF8String '"+$e(s(a,i))+"'\n";if("13"==a.substr(i,2))return r+"PrintableString '"+$e(s(a,i))+"'\n";if("14"==a.substr(i,2))return r+"TeletexString '"+$e(s(a,i))+"'\n";if("16"==a.substr(i,2))return r+"IA5String '"+$e(s(a,i))+"'\n";if("17"==a.substr(i,2))return r+"UTCTime "+$e(s(a,i))+"\n";if("18"==a.substr(i,2))return r+"GeneralizedTime "+$e(s(a,i))+"\n";if("30"==a.substr(i,2)){if("3000"==a.substr(i,4))return r+"SEQUENCE {}\n";b=r+"SEQUENCE\n";var p=n;if((2==(m=h(a,i)).length||3==m.length)&&"06"==a.substr(m[0],2)&&"04"==a.substr(m[m.length-1],2)){v=e.oidname(s(a,m[0]));var g=JSON.parse(JSON.stringify(n));g.x509ExtName=v,p=g}for(var C=0;C<m.length;C++)b+=o(a,p,m[C],r+"  ");return b}if("31"==a.substr(i,2)){b=r+"SET\n";var m=h(a,i);for(C=0;C<m.length;C++)b+=o(a,n,m[C],r+"  ");return b}var F=parseInt(a.substr(i,2),16);if(0!=(128&F)){var y=31&F;if(0!=(32&F)){var b=r+"["+y+"]\n";for(m=h(a,i),C=0;C<m.length;C++)b+=o(a,n,m[C],r+"  ");return b}return"68747470"==(f=s(a,i)).substr(0,8)&&(f=$e(f)),"subjectAltName"===n.x509ExtName&&2==y&&(f=$e(f)),r+"["+y+"] "+f+"\n"}return r+"UNKNOWN("+a.substr(i,2)+") "+s(a,i)+"\n"},je.isASN1HEX=function(t){var n=je;if(t.length%2==1)return!1;var i=n.getVblen(t,0),r=t.substr(0,2),e=n.getL(t,0);return t.length-r.length-e.length==2*i},je.oidname=function(t){var n=Ie.asn1;Ie.lang.String.isHex(t)&&(t=n.ASN1Util.oidHexToInt(t));var i=n.x509.OID.oid2name(t);return""===i&&(i=t),i},void 0!==Ie&&Ie||(Ie={}),void 0!==Ie.asn1&&Ie.asn1||(Ie.asn1={}),void 0!==Ie.asn1.x509&&Ie.asn1.x509||(Ie.asn1.x509={}),Ie.asn1.x509.Certificate=function(t){Ie.asn1.x509.Certificate.superclass.constructor.call(this);var n=Ie.asn1,i=n.DERSequence,r=n.DERBitString;this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg;var t=new Ie.crypto.Signature({alg:this.asn1SignatureAlg.nameAlg});t.init(this.prvKey),t.updateHex(this.asn1TBSCert.getEncodedHex()),this.hexSig=t.sign(),this.asn1Sig=new r({hex:"00"+this.hexSig});var n=new i({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=n.getEncodedHex(),this.isModified=!1},this.setSignatureHex=function(t){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg,this.hexSig=t,this.asn1Sig=new r({hex:"00"+this.hexSig});var n=new i({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=n.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},this.getPEMString=function(){return"-----BEGIN CERTIFICATE-----\r\n"+We(this.getEncodedHex())+"\r\n-----END CERTIFICATE-----\r\n"},void 0!==t&&(void 0!==t.tbscertobj&&(this.asn1TBSCert=t.tbscertobj),void 0!==t.prvkeyobj&&(this.prvKey=t.prvkeyobj))},Rr.lang.extend(Ie.asn1.x509.Certificate,Ie.asn1.ASN1Object),Ie.asn1.x509.TBSCertificate=function(){Ie.asn1.x509.TBSCertificate.superclass.constructor.call(this);var t=Ie.asn1,n=t.DERSequence,i=t.DERInteger,r=t.DERTaggedObject,e=t.x509,s=e.Time,o=e.X500Name,h=e.SubjectPublicKeyInfo;this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new r({obj:new i({int:2})}),this.asn1SerialNumber=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1NotBefore=null,this.asn1NotAfter=null,this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSerialNumberByParam=function(t){this.asn1SerialNumber=new i(t)},this.setSignatureAlgByParam=function(t){this.asn1SignatureAlg=new e.AlgorithmIdentifier(t)},this.setIssuerByParam=function(t){this.asn1Issuer=new o(t)},this.setNotBeforeByParam=function(t){this.asn1NotBefore=new s(t)},this.setNotAfterByParam=function(t){this.asn1NotAfter=new s(t)},this.setSubjectByParam=function(t){this.asn1Subject=new o(t)},this.setSubjectPublicKey=function(t){this.asn1SubjPKey=new h(t)},this.setSubjectPublicKeyByGetKey=function(t){var n=as.getKey(t);this.asn1SubjPKey=new h(n)},this.appendExtension=function(t){this.extensionsArray.push(t)},this.appendExtensionByName=function(t,n){Ie.asn1.x509.Extension.appendByNameToArray(t,n,this.extensionsArray)},this.getEncodedHex=function(){if(null==this.asn1NotBefore||null==this.asn1NotAfter)throw"notBefore and/or notAfter not set";var t=new n({array:[this.asn1NotBefore,this.asn1NotAfter]});if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SerialNumber),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(t),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),this.extensionsArray.length>0){var i=new n({array:this.extensionsArray}),e=new r({explicit:!0,tag:"a3",obj:i});this.asn1Array.push(e)}var s=new n({array:this.asn1Array});return this.hTLV=s.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},Rr.lang.extend(Ie.asn1.x509.TBSCertificate,Ie.asn1.ASN1Object),Ie.asn1.x509.Extension=function(t){Ie.asn1.x509.Extension.superclass.constructor.call(this);var n=Ie.asn1,i=n.DERObjectIdentifier,r=n.DEROctetString,e=n.DERBoolean,s=n.DERSequence;this.getEncodedHex=function(){var t=new i({oid:this.oid}),n=new r({hex:this.getExtnValueHex()}),o=new Array;return o.push(t),this.critical&&o.push(new e),o.push(n),new s({array:o}).getEncodedHex()},this.critical=!1,void 0!==t&&void 0!==t.critical&&(this.critical=t.critical)},Rr.lang.extend(Ie.asn1.x509.Extension,Ie.asn1.ASN1Object),Ie.asn1.x509.Extension.appendByNameToArray=function(t,n,i){var r=t.toLowerCase(),e=Ie.asn1.x509;if("basicconstraints"==r){var s=new e.BasicConstraints(n);i.push(s)}else if("keyusage"==r)s=new e.KeyUsage(n),i.push(s);else if("crldistributionpoints"==r)s=new e.CRLDistributionPoints(n),i.push(s);else if("extkeyusage"==r)s=new e.ExtKeyUsage(n),i.push(s);else if("authoritykeyidentifier"==r)s=new e.AuthorityKeyIdentifier(n),i.push(s);else if("authorityinfoaccess"==r)s=new e.AuthorityInfoAccess(n),i.push(s);else if("subjectaltname"==r)s=new e.SubjectAltName(n),i.push(s);else{if("issueraltname"!=r)throw"unsupported extension name: "+t;s=new e.IssuerAltName(n),i.push(s)}},Ie.asn1.x509.KeyUsage=function(t){Ie.asn1.x509.KeyUsage.superclass.constructor.call(this,t);var n=ds.KEYUSAGE_NAME;if(this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.15",void 0!==t&&(void 0!==t.bin&&(this.asn1ExtnValue=new Ie.asn1.DERBitString(t)),void 0!==t.names&&void 0!==t.names.length)){for(var i=t.names,r="000000000",e=0;e<i.length;e++)for(var s=0;s<n.length;s++)i[e]===n[s]&&(r=r.substring(0,s)+"1"+r.substring(s+1,r.length));this.asn1ExtnValue=new Ie.asn1.DERBitString({bin:r})}},Rr.lang.extend(Ie.asn1.x509.KeyUsage,Ie.asn1.x509.Extension),Ie.asn1.x509.BasicConstraints=function(t){Ie.asn1.x509.BasicConstraints.superclass.constructor.call(this,t),this.getExtnValueHex=function(){var t=new Array;this.cA&&t.push(new Ie.asn1.DERBoolean),this.pathLen>-1&&t.push(new Ie.asn1.DERInteger({int:this.pathLen}));var n=new Ie.asn1.DERSequence({array:t});return this.asn1ExtnValue=n,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==t&&(void 0!==t.cA&&(this.cA=t.cA),void 0!==t.pathLen&&(this.pathLen=t.pathLen))},Rr.lang.extend(Ie.asn1.x509.BasicConstraints,Ie.asn1.x509.Extension),Ie.asn1.x509.CRLDistributionPoints=function(t){Ie.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,t);var n=Ie.asn1,i=n.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.setByDPArray=function(t){this.asn1ExtnValue=new n.DERSequence({array:t})},this.setByOneURI=function(t){var n=new i.GeneralNames([{uri:t}]),r=new i.DistributionPointName(n),e=new i.DistributionPoint({dpobj:r});this.setByDPArray([e])},this.oid="2.5.29.31",void 0!==t&&(void 0!==t.array?this.setByDPArray(t.array):void 0!==t.uri&&this.setByOneURI(t.uri))},Rr.lang.extend(Ie.asn1.x509.CRLDistributionPoints,Ie.asn1.x509.Extension),Ie.asn1.x509.ExtKeyUsage=function(t){Ie.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,t);var n=Ie.asn1;this.setPurposeArray=function(t){this.asn1ExtnValue=new n.DERSequence;for(var i=0;i<t.length;i++){var r=new n.DERObjectIdentifier(t[i]);this.asn1ExtnValue.appendASN1Object(r)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.37",void 0!==t&&void 0!==t.array&&this.setPurposeArray(t.array)},Rr.lang.extend(Ie.asn1.x509.ExtKeyUsage,Ie.asn1.x509.Extension),Ie.asn1.x509.AuthorityKeyIdentifier=function(t){Ie.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,t);var n=Ie.asn1,i=n.DERTaggedObject;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var t=new Array;this.asn1KID&&t.push(new i({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&t.push(new i({explicit:!1,tag:"a1",obj:this.asn1CertIssuer})),this.asn1CertSN&&t.push(new i({explicit:!1,tag:"82",obj:this.asn1CertSN}));var r=new n.DERSequence({array:t});return this.asn1ExtnValue=r,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(t){this.asn1KID=new Ie.asn1.DEROctetString(t)},this.setCertIssuerByParam=function(t){this.asn1CertIssuer=new Ie.asn1.x509.X500Name(t)},this.setCertSNByParam=function(t){this.asn1CertSN=new Ie.asn1.DERInteger(t)},this.oid="2.5.29.35",void 0!==t&&(void 0!==t.kid&&this.setKIDByParam(t.kid),void 0!==t.issuer&&this.setCertIssuerByParam(t.issuer),void 0!==t.sn&&this.setCertSNByParam(t.sn))},Rr.lang.extend(Ie.asn1.x509.AuthorityKeyIdentifier,Ie.asn1.x509.Extension),Ie.asn1.x509.AuthorityInfoAccess=function(t){Ie.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,t),this.setAccessDescriptionArray=function(t){for(var n=new Array,i=Ie.asn1,r=i.DERSequence,e=0;e<t.length;e++){var s=new r({array:[new i.DERObjectIdentifier(t[e].accessMethod),new i.x509.GeneralName(t[e].accessLocation)]});n.push(s)}this.asn1ExtnValue=new r({array:n})},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==t&&void 0!==t.array&&this.setAccessDescriptionArray(t.array)},Rr.lang.extend(Ie.asn1.x509.AuthorityInfoAccess,Ie.asn1.x509.Extension),Ie.asn1.x509.SubjectAltName=function(t){Ie.asn1.x509.SubjectAltName.superclass.constructor.call(this,t),this.setNameArray=function(t){this.asn1ExtnValue=new Ie.asn1.x509.GeneralNames(t)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.17",void 0!==t&&void 0!==t.array&&this.setNameArray(t.array)},Rr.lang.extend(Ie.asn1.x509.SubjectAltName,Ie.asn1.x509.Extension),Ie.asn1.x509.IssuerAltName=function(t){Ie.asn1.x509.IssuerAltName.superclass.constructor.call(this,t),this.setNameArray=function(t){this.asn1ExtnValue=new Ie.asn1.x509.GeneralNames(t)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.18",void 0!==t&&void 0!==t.array&&this.setNameArray(t.array)},Rr.lang.extend(Ie.asn1.x509.IssuerAltName,Ie.asn1.x509.Extension),Ie.asn1.x509.CRL=function(t){Ie.asn1.x509.CRL.superclass.constructor.call(this),this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCertList.asn1SignatureAlg,sig=new Ie.crypto.Signature({alg:"SHA1withRSA",prov:"cryptojs/jsrsa"}),sig.init(this.prvKey),sig.updateHex(this.asn1TBSCertList.getEncodedHex()),this.hexSig=sig.sign(),this.asn1Sig=new Ie.asn1.DERBitString({hex:"00"+this.hexSig});var t=new Ie.asn1.DERSequence({array:[this.asn1TBSCertList,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=t.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},this.getPEMString=function(){return"-----BEGIN X509 CRL-----\r\n"+We(this.getEncodedHex())+"\r\n-----END X509 CRL-----\r\n"},void 0!==t&&(void 0!==t.tbsobj&&(this.asn1TBSCertList=t.tbsobj),void 0!==t.prvkeyobj&&(this.prvKey=t.prvkeyobj))},Rr.lang.extend(Ie.asn1.x509.CRL,Ie.asn1.ASN1Object),Ie.asn1.x509.TBSCertList=function(){Ie.asn1.x509.TBSCertList.superclass.constructor.call(this);var t=Ie.asn1,n=t.DERSequence,i=t.x509,r=i.Time;this.setSignatureAlgByParam=function(t){this.asn1SignatureAlg=new i.AlgorithmIdentifier(t)},this.setIssuerByParam=function(t){this.asn1Issuer=new i.X500Name(t)},this.setThisUpdateByParam=function(t){this.asn1ThisUpdate=new r(t)},this.setNextUpdateByParam=function(t){this.asn1NextUpdate=new r(t)},this.addRevokedCert=function(t,n){var r={};null!=t&&null!=t&&(r.sn=t),null!=n&&null!=n&&(r.time=n);var e=new i.CRLEntry(r);this.aRevokedCert.push(e)},this.getEncodedHex=function(){if(this.asn1Array=new Array,null!=this.asn1Version&&this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(this.asn1ThisUpdate),null!=this.asn1NextUpdate&&this.asn1Array.push(this.asn1NextUpdate),this.aRevokedCert.length>0){var t=new n({array:this.aRevokedCert});this.asn1Array.push(t)}var i=new n({array:this.asn1Array});return this.hTLV=i.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize=function(){this.asn1Version=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1ThisUpdate=null,this.asn1NextUpdate=null,this.aRevokedCert=new Array},this._initialize()},Rr.lang.extend(Ie.asn1.x509.TBSCertList,Ie.asn1.ASN1Object),Ie.asn1.x509.CRLEntry=function(t){Ie.asn1.x509.CRLEntry.superclass.constructor.call(this);var n=Ie.asn1;this.setCertSerial=function(t){this.sn=new n.DERInteger(t)},this.setRevocationDate=function(t){this.time=new n.x509.Time(t)},this.getEncodedHex=function(){var t=new n.DERSequence({array:[this.sn,this.time]});return this.TLV=t.getEncodedHex(),this.TLV},void 0!==t&&(void 0!==t.time&&this.setRevocationDate(t.time),void 0!==t.sn&&this.setCertSerial(t.sn))},Rr.lang.extend(Ie.asn1.x509.CRLEntry,Ie.asn1.ASN1Object),Ie.asn1.x509.X500Name=function(t){Ie.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=new Array;var n,i=Ie.asn1,r=i.x509,e=Ge;(this.setByString=function(t){var n=t.split("/");n.shift();for(var i=[],e=0;e<n.length;e++)if(n[e].match(/^[^=]+=.+$/))i.push(n[e]);else{var s=i.length-1;i[s]=i[s]+"/"+n[e]}for(e=0;e<i.length;e++)this.asn1Array.push(new r.RDN({str:i[e]}))},this.setByLdapString=function(t){var n=r.X500Name.ldapToOneline(t);this.setByString(n)},this.setByObject=function(t){for(var n in t)if(t.hasOwnProperty(n)){var i=new Ie.asn1.x509.RDN({str:n+"="+t[n]});this.asn1Array?this.asn1Array.push(i):this.asn1Array=[i]}},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;var t=new i.DERSequence({array:this.asn1Array});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==t)&&(void 0!==t.str?this.setByString(t.str):void 0!==t.ldapstr?this.setByLdapString(t.ldapstr):"object"==typeof t&&this.setByObject(t),void 0!==t.certissuer&&((n=new ds).hex=e(t.certissuer),this.hTLV=n.getIssuerHex()),void 0!==t.certsubject&&((n=new ds).hex=e(t.certsubject),this.hTLV=n.getSubjectHex()))},Rr.lang.extend(Ie.asn1.x509.X500Name,Ie.asn1.ASN1Object),Ie.asn1.x509.X500Name.onelineToLDAP=function(t){if("/"!==t.substr(0,1))throw"malformed input";var n=(t=t.substr(1)).split("/");return n.reverse(),(n=n.map((function(t){return t.replace(/,/,"\\,")}))).join(",")},Ie.asn1.x509.X500Name.ldapToOneline=function(t){for(var n=t.split(","),i=!1,r=[],e=0;n.length>0;e++){var s=n.shift();if(!0===i){var o=(r.pop()+","+s).replace(/\\,/g,",");r.push(o),i=!1}else r.push(s);"\\"===s.substr(-1,1)&&(i=!0)}return(r=r.map((function(t){return t.replace("/","\\/")}))).reverse(),"/"+r.join("/")},Ie.asn1.x509.RDN=function(t){Ie.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=new Array,this.addByString=function(t){this.asn1Array.push(new Ie.asn1.x509.AttributeTypeAndValue({str:t}))},this.addByMultiValuedString=function(t){for(var n=Ie.asn1.x509.RDN.parseString(t),i=0;i<n.length;i++)this.addByString(n[i])},this.getEncodedHex=function(){var t=new Ie.asn1.DERSet({array:this.asn1Array});return this.TLV=t.getEncodedHex(),this.TLV},void 0!==t&&void 0!==t.str&&this.addByMultiValuedString(t.str)},Rr.lang.extend(Ie.asn1.x509.RDN,Ie.asn1.ASN1Object),Ie.asn1.x509.RDN.parseString=function(t){for(var n=t.split(/\+/),i=!1,r=[],e=0;n.length>0;e++){var s=n.shift();if(!0===i){var o=(r.pop()+"+"+s).replace(/\\\+/g,"+");r.push(o),i=!1}else r.push(s);"\\"===s.substr(-1,1)&&(i=!0)}var h=!1,a=[];for(e=0;r.length>0;e++){if(s=r.shift(),!0===h){var u=a.pop();s.match(/"$/)?(o=(u+"+"+s).replace(/^([^=]+)="(.*)"$/,"$1=$2"),a.push(o),h=!1):a.push(u+"+"+s)}else a.push(s);s.match(/^[^=]+="/)&&(h=!0)}return a},Ie.asn1.x509.AttributeTypeAndValue=function(t){Ie.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this);var n=Ie.asn1;this.setByString=function(t){var n=t.match(/^([^=]+)=(.+)$/);if(!n)throw"malformed attrTypeAndValueStr: "+t;this.setByAttrTypeAndValueStr(n[1],n[2])},this.setByAttrTypeAndValueStr=function(t,n){this.typeObj=Ie.asn1.x509.OID.atype2obj(t);var i="utf8";"C"==t&&(i="prn"),this.valueObj=this.getValueObj(i,n)},this.getValueObj=function(t,i){if("utf8"==t)return new n.DERUTF8String({str:i});if("prn"==t)return new n.DERPrintableString({str:i});if("tel"==t)return new n.DERTeletexString({str:i});if("ia5"==t)return new n.DERIA5String({str:i});throw"unsupported directory string type: type="+t+" value="+i},this.getEncodedHex=function(){var t=new n.DERSequence({array:[this.typeObj,this.valueObj]});return this.TLV=t.getEncodedHex(),this.TLV},void 0!==t&&void 0!==t.str&&this.setByString(t.str)},Rr.lang.extend(Ie.asn1.x509.AttributeTypeAndValue,Ie.asn1.ASN1Object),Ie.asn1.x509.SubjectPublicKeyInfo=function(t){Ie.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var n=Ie.asn1,i=n.DERInteger,r=n.DERBitString,e=n.DERObjectIdentifier,s=n.DERSequence,o=n.ASN1Util.newObject,h=n.x509.AlgorithmIdentifier;this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new s({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.getEncodedHex=function(){var t=this.getASN1Object();return this.hTLV=t.getEncodedHex(),this.hTLV},this.setPubKey=function(t){try{if(t instanceof Se){var n=o({seq:[{int:{bigint:t.n}},{int:{int:t.e}}]}).getEncodedHex();this.asn1AlgId=new h({name:"rsaEncryption"}),this.asn1SubjPKey=new r({hex:"00"+n})}}catch(t){}try{if(t instanceof Ie.crypto.ECDSA){var s=new e({name:t.curveName});this.asn1AlgId=new h({name:"ecPublicKey",asn1params:s}),this.asn1SubjPKey=new r({hex:"00"+t.pubKeyHex})}}catch(t){}try{if(t instanceof Ie.crypto.DSA){s=new o({seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]}),this.asn1AlgId=new h({name:"dsa",asn1params:s});var a=new i({bigint:t.y});this.asn1SubjPKey=new r({hex:"00"+a.getEncodedHex()})}}catch(t){}},void 0!==t&&this.setPubKey(t)},Rr.lang.extend(Ie.asn1.x509.SubjectPublicKeyInfo,Ie.asn1.ASN1Object),Ie.asn1.x509.Time=function(t){Ie.asn1.x509.Time.superclass.constructor.call(this);var n=Ie.asn1,i=n.DERUTCTime,r=n.DERGeneralizedTime;this.setTimeParams=function(t){this.timeParams=t},this.getEncodedHex=function(){var t=null;return t=null!=this.timeParams?"utc"==this.type?new i(this.timeParams):new r(this.timeParams):"utc"==this.type?new i:new r,this.TLV=t.getEncodedHex(),this.TLV},this.type="utc",void 0!==t&&(void 0!==t.type?this.type=t.type:void 0!==t.str&&(t.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),t.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=t)},Rr.lang.extend(Ie.asn1.x509.Time,Ie.asn1.ASN1Object),Ie.asn1.x509.AlgorithmIdentifier=function(t){Ie.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var n=Ie.asn1;if(this.getEncodedHex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw"algorithm not specified";null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=n.x509.OID.name2obj(this.nameAlg));var t=[this.asn1Alg];null!==this.asn1Params&&t.push(this.asn1Params);var i=new n.DERSequence({array:t});return this.hTLV=i.getEncodedHex(),this.hTLV},void 0!==t&&(void 0!==t.name&&(this.nameAlg=t.name),void 0!==t.asn1params&&(this.asn1Params=t.asn1params),void 0!==t.paramempty&&(this.paramEmpty=t.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){var i=this.nameAlg.toLowerCase();"withdsa"!==i.substr(-7,7)&&"withecdsa"!==i.substr(-9,9)&&(this.asn1Params=new n.DERNull)}},Rr.lang.extend(Ie.asn1.x509.AlgorithmIdentifier,Ie.asn1.ASN1Object),Ie.asn1.x509.GeneralName=function(t){Ie.asn1.x509.GeneralName.superclass.constructor.call(this);var n={rfc822:"81",dns:"82",dn:"a4",uri:"86",ip:"87"},i=Ie.asn1,r=i.DEROctetString,e=i.DERIA5String,s=i.DERTaggedObject,o=i.ASN1Object,h=i.x509.X500Name,a=Ge;this.explicit=!1,this.setByParam=function(t){var i=null;if(void 0!==t){if(void 0!==t.rfc822&&(this.type="rfc822",i=new e({str:t[this.type]})),void 0!==t.dns&&(this.type="dns",i=new e({str:t[this.type]})),void 0!==t.uri&&(this.type="uri",i=new e({str:t[this.type]})),void 0!==t.dn&&(this.type="dn",this.explicit=!0,i=new h({str:t.dn})),void 0!==t.ldapdn&&(this.type="dn",this.explicit=!0,i=new h({ldapstr:t.ldapdn})),void 0!==t.certissuer){this.type="dn",this.explicit=!0;var u=null;if((f=t.certissuer).match(/^[0-9A-Fa-f]+$/),-1!=f.indexOf("-----BEGIN ")&&(u=a(f)),null==u)throw"certissuer param not cert";(l=new ds).hex=u;var c=l.getIssuerHex();(i=new o).hTLV=c}if(void 0!==t.certsubj){var f,l;if(this.type="dn",this.explicit=!0,u=null,(f=t.certsubj).match(/^[0-9A-Fa-f]+$/),-1!=f.indexOf("-----BEGIN ")&&(u=a(f)),null==u)throw"certsubj param not cert";(l=new ds).hex=u,c=l.getSubjectHex(),(i=new o).hTLV=c}if(void 0!==t.ip){this.type="ip",this.explicit=!1;var d,v=t.ip,w="malformed IP address";if(v.match(/^[0-9.]+[.][0-9.]+$/)){if(8!==(d=hs("["+v.split(".").join(",")+"]")).length)throw w}else if(v.match(/^[0-9A-Fa-f:]+:[0-9A-Fa-f:]+$/))d=is(v);else{if(!v.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw w;d=v}i=new r({hex:d})}if(null==this.type)throw"unsupported type in params="+t;this.asn1Obj=new s({explicit:this.explicit,tag:n[this.type],obj:i})}},this.getEncodedHex=function(){return this.asn1Obj.getEncodedHex()},void 0!==t&&this.setByParam(t)},Rr.lang.extend(Ie.asn1.x509.GeneralName,Ie.asn1.ASN1Object),Ie.asn1.x509.GeneralNames=function(t){Ie.asn1.x509.GeneralNames.superclass.constructor.call(this);var n=Ie.asn1;this.setByParamArray=function(t){for(var i=0;i<t.length;i++){var r=new n.x509.GeneralName(t[i]);this.asn1Array.push(r)}},this.getEncodedHex=function(){return new n.DERSequence({array:this.asn1Array}).getEncodedHex()},this.asn1Array=new Array,void 0!==t&&this.setByParamArray(t)},Rr.lang.extend(Ie.asn1.x509.GeneralNames,Ie.asn1.ASN1Object),Ie.asn1.x509.DistributionPointName=function(t){Ie.asn1.x509.DistributionPointName.superclass.constructor.call(this);var n=Ie.asn1,i=n.DERTaggedObject;if(this.getEncodedHex=function(){if("full"!=this.type)throw"currently type shall be 'full': "+this.type;return this.asn1Obj=new i({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.getEncodedHex(),this.hTLV},void 0!==t){if(!n.x509.GeneralNames.prototype.isPrototypeOf(t))throw"This class supports GeneralNames only as argument";this.type="full",this.tag="a0",this.asn1V=t}},Rr.lang.extend(Ie.asn1.x509.DistributionPointName,Ie.asn1.ASN1Object),Ie.asn1.x509.DistributionPoint=function(t){Ie.asn1.x509.DistributionPoint.superclass.constructor.call(this);var n=Ie.asn1;this.getEncodedHex=function(){var t=new n.DERSequence;if(null!=this.asn1DP){var i=new n.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});t.appendASN1Object(i)}return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==t&&void 0!==t.dpobj&&(this.asn1DP=t.dpobj)},Rr.lang.extend(Ie.asn1.x509.DistributionPoint,Ie.asn1.ASN1Object),Ie.asn1.x509.OID=new function(){this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",ecPublicKey:"1.2.840.10045.2.1",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",extensionRequest:"1.2.840.113549.1.9.14"},this.objCache={},this.name2obj=function(t){if(void 0!==this.objCache[t])return this.objCache[t];if(void 0===this.name2oidList[t])throw"Name of ObjectIdentifier not defined: "+t;var n=new Ie.asn1.DERObjectIdentifier({oid:this.name2oidList[t]});return this.objCache[t]=n,n},this.atype2obj=function(t){if(void 0!==this.objCache[t])return this.objCache[t];if(void 0===this.atype2oidList[t])throw"AttributeType name undefined: "+t;var n=new Ie.asn1.DERObjectIdentifier({oid:this.atype2oidList[t]});return this.objCache[t]=n,n}},Ie.asn1.x509.OID.oid2name=function(t){var n=Ie.asn1.x509.OID.name2oidList;for(var i in n)if(n[i]==t)return i;return""},Ie.asn1.x509.OID.oid2atype=function(t){var n=Ie.asn1.x509.OID.atype2oidList;for(var i in n)if(n[i]==t)return i;return t},Ie.asn1.x509.OID.name2oid=function(t){var n=Ie.asn1.x509.OID.name2oidList;return void 0===n[t]?"":n[t]},Ie.asn1.x509.X509Util={},Ie.asn1.x509.X509Util.newCertPEM=function(t){var n=Ie.asn1.x509,i=n.Certificate,r=new(0,n.TBSCertificate);if(void 0===t.serial)throw"serial number undefined.";if(r.setSerialNumberByParam(t.serial),"string"!=typeof t.sigalg.name)throw"unproper signature algorithm name";if(r.setSignatureAlgByParam(t.sigalg),void 0===t.issuer)throw"issuer name undefined.";if(r.setIssuerByParam(t.issuer),void 0===t.notbefore)throw"notbefore undefined.";if(r.setNotBeforeByParam(t.notbefore),void 0===t.notafter)throw"notafter undefined.";if(r.setNotAfterByParam(t.notafter),void 0===t.subject)throw"subject name undefined.";if(r.setSubjectByParam(t.subject),void 0===t.sbjpubkey)throw"subject public key undefined.";if(r.setSubjectPublicKeyByGetKey(t.sbjpubkey),void 0!==t.ext&&void 0!==t.ext.length)for(var e=0;e<t.ext.length;e++)for(key in t.ext[e])r.appendExtensionByName(key,t.ext[e][key]);if(void 0===t.cakey&&void 0===t.sighex)throw"param cakey and sighex undefined.";var s=null;return t.cakey&&(s=new i({tbscertobj:r,prvkeyobj:!0===t.cakey.isPrivate?t.cakey:as.getKey.apply(null,t.cakey)})).sign(),t.sighex&&(s=new i({tbscertobj:r})).setSignatureHex(t.sighex),s.getPEMString()},void 0!==Ie&&Ie||(Ie={}),void 0!==Ie.asn1&&Ie.asn1||(Ie.asn1={}),void 0!==Ie.asn1.cms&&Ie.asn1.cms||(Ie.asn1.cms={}),Ie.asn1.cms.Attribute=function(){var t=Ie.asn1;t.cms.Attribute.superclass.constructor.call(this),this.getEncodedHex=function(){var n,i,r;n=new t.DERObjectIdentifier({oid:this.attrTypeOid}),i=new t.DERSet({array:this.valueList});try{i.getEncodedHex()}catch(t){throw"fail valueSet.getEncodedHex in Attribute(1)/"+t}r=new t.DERSequence({array:[n,i]});try{this.hTLV=r.getEncodedHex()}catch(t){throw"failed seq.getEncodedHex in Attribute(2)/"+t}return this.hTLV}},Rr.lang.extend(Ie.asn1.cms.Attribute,Ie.asn1.ASN1Object),Ie.asn1.cms.ContentType=function(t){var n=Ie.asn1;n.cms.ContentType.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.3";var i=null;void 0!==t&&(i=new n.DERObjectIdentifier(t),this.valueList=[i])},Rr.lang.extend(Ie.asn1.cms.ContentType,Ie.asn1.cms.Attribute),Ie.asn1.cms.MessageDigest=function(t){var n,i=Ie,r=i.asn1,e=r.DEROctetString,s=r.cms;s.MessageDigest.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.4",void 0!==t&&(t.eciObj instanceof s.EncapsulatedContentInfo&&"string"==typeof t.hashAlg?((n=new e({hex:i.crypto.Util.hashHex(t.eciObj.eContentValueHex,t.hashAlg)})).getEncodedHex(),this.valueList=[n]):((n=new e(t)).getEncodedHex(),this.valueList=[n]))},Rr.lang.extend(Ie.asn1.cms.MessageDigest,Ie.asn1.cms.Attribute),Ie.asn1.cms.SigningTime=function(t){var n=Ie.asn1;if(n.cms.SigningTime.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.5",void 0!==t){var i=new n.x509.Time(t);try{i.getEncodedHex()}catch(t){throw"SigningTime.getEncodedHex() failed/"+t}this.valueList=[i]}},Rr.lang.extend(Ie.asn1.cms.SigningTime,Ie.asn1.cms.Attribute),Ie.asn1.cms.SigningCertificate=function(t){var n=Ie,i=n.asn1,r=i.DERSequence,e=i.cms;e.SigningCertificate.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.12",this.setCerts=function(t){for(var s=[],o=0;o<t.length;o++){var h=Ge(t[o]),a=n.crypto.Util.hashHex(h,"sha1"),u=new i.DEROctetString({hex:a});u.getEncodedHex();var c=new e.IssuerAndSerialNumber({cert:t[o]});c.getEncodedHex();var f=new r({array:[u,c]});f.getEncodedHex(),s.push(f)}var l=new r({array:s});l.getEncodedHex(),this.valueList=[l]},void 0!==t&&"object"==typeof t.array&&this.setCerts(t.array)},Rr.lang.extend(Ie.asn1.cms.SigningCertificate,Ie.asn1.cms.Attribute),Ie.asn1.cms.SigningCertificateV2=function(t){var n=Ie.asn1,i=n.DERSequence,r=n.x509,e=n.cms,s=Ie.crypto;if(e.SigningCertificateV2.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.47",this.setCerts=function(t,o){for(var h=[],a=0;a<t.length;a++){var u=Ge(t[a]),c=[];"sha256"!==o&&c.push(new r.AlgorithmIdentifier({name:o}));var f=s.Util.hashHex(u,o),l=new n.DEROctetString({hex:f});l.getEncodedHex(),c.push(l);var d=new e.IssuerAndSerialNumber({cert:t[a]});d.getEncodedHex(),c.push(d);var v=new i({array:c});v.getEncodedHex(),h.push(v)}var w=new i({array:h});w.getEncodedHex(),this.valueList=[w]},void 0!==t&&"object"==typeof t.array){var o="sha256";"string"==typeof t.hashAlg&&(o=t.hashAlg),this.setCerts(t.array,o)}},Rr.lang.extend(Ie.asn1.cms.SigningCertificateV2,Ie.asn1.cms.Attribute),Ie.asn1.cms.IssuerAndSerialNumber=function(t){var n=Ie.asn1,i=n.DERInteger,r=n.x509.X500Name,e=ds;n.cms.IssuerAndSerialNumber.superclass.constructor.call(this),this.setByCertPEM=function(t){var n=Ge(t),s=new e;s.hex=n;var o=s.getIssuerHex();this.dIssuer=new r,this.dIssuer.hTLV=o;var h=s.getSerialNumberHex();this.dSerial=new i({hex:h})},this.getEncodedHex=function(){var t=new n.DERSequence({array:[this.dIssuer,this.dSerial]});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==t&&("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&this.setByCertPEM(t),t.issuer&&t.serial&&(this.dIssuer=t.issuer instanceof r?t.issuer:new r(t.issuer),this.dSerial=t.serial instanceof i?t.serial:new i(t.serial)),"string"==typeof t.cert&&this.setByCertPEM(t.cert))},Rr.lang.extend(Ie.asn1.cms.IssuerAndSerialNumber,Ie.asn1.ASN1Object),Ie.asn1.cms.AttributeList=function(t){var n=Ie.asn1,i=n.cms;i.AttributeList.superclass.constructor.call(this),this.list=new Array,this.sortFlag=!0,this.add=function(t){t instanceof i.Attribute&&this.list.push(t)},this.length=function(){return this.list.length},this.clear=function(){this.list=new Array,this.hTLV=null,this.hV=null},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;var t=new n.DERSet({array:this.list,sortflag:this.sortFlag});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},Rr.lang.extend(Ie.asn1.cms.AttributeList,Ie.asn1.ASN1Object),Ie.asn1.cms.SignerInfo=function(){var t=Ie.asn1,n=t.DERTaggedObject,i=t.cms,r=i.AttributeList,e=i.ContentType,s=i.EncapsulatedContentInfo,o=i.MessageDigest,h=i.SignedData,a=t.x509.AlgorithmIdentifier,u=Ie.crypto,c=as;i.SignerInfo.superclass.constructor.call(this),this.dCMSVersion=new t.DERInteger({int:1}),this.dSignerIdentifier=null,this.dDigestAlgorithm=null,this.dSignedAttrs=new r,this.dSigAlg=null,this.dSig=null,this.dUnsignedAttrs=new r,this.setSignerIdentifier=function(t){"string"==typeof t&&-1!=t.indexOf("CERTIFICATE")&&-1!=t.indexOf("BEGIN")&&-1!=t.indexOf("END")&&(this.dSignerIdentifier=new i.IssuerAndSerialNumber({cert:t}))},this.setForContentAndHash=function(t){void 0!==t&&(t.eciObj instanceof s&&(this.dSignedAttrs.add(new e({oid:"1.2.840.113549.1.7.1"})),this.dSignedAttrs.add(new o({eciObj:t.eciObj,hashAlg:t.hashAlg}))),void 0!==t.sdObj&&t.sdObj instanceof h&&-1==t.sdObj.digestAlgNameList.join(":").indexOf(t.hashAlg)&&t.sdObj.digestAlgNameList.push(t.hashAlg),"string"==typeof t.hashAlg&&(this.dDigestAlgorithm=new a({name:t.hashAlg})))},this.sign=function(n,i){this.dSigAlg=new a({name:i});var r=this.dSignedAttrs.getEncodedHex(),e=c.getKey(n),s=new u.Signature({alg:i});s.init(e),s.updateHex(r);var o=s.sign();this.dSig=new t.DEROctetString({hex:o})},this.addUnsigned=function(t){this.hTLV=null,this.dUnsignedAttrs.hTLV=null,this.dUnsignedAttrs.add(t)},this.getEncodedHex=function(){if(this.dSignedAttrs instanceof r&&0==this.dSignedAttrs.length())throw"SignedAttrs length = 0 (empty)";var i=new n({obj:this.dSignedAttrs,tag:"a0",explicit:!1}),e=null;this.dUnsignedAttrs.length()>0&&(e=new n({obj:this.dUnsignedAttrs,tag:"a1",explicit:!1}));var s=[this.dCMSVersion,this.dSignerIdentifier,this.dDigestAlgorithm,i,this.dSigAlg,this.dSig];null!=e&&s.push(e);var o=new t.DERSequence({array:s});return this.hTLV=o.getEncodedHex(),this.hTLV}},Rr.lang.extend(Ie.asn1.cms.SignerInfo,Ie.asn1.ASN1Object),Ie.asn1.cms.EncapsulatedContentInfo=function(){var t=Ie.asn1,n=t.DERTaggedObject,i=t.DERSequence,r=t.DERObjectIdentifier,e=t.DEROctetString;t.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.dEContentType=new r({name:"data"}),this.dEContent=null,this.isDetached=!1,this.eContentValueHex=null,this.setContentType=function(t){this.dEContentType=t.match(/^[0-2][.][0-9.]+$/)?new r({oid:t}):new r({name:t})},this.setContentValue=function(t){void 0!==t&&("string"==typeof t.hex?this.eContentValueHex=t.hex:"string"==typeof t.str&&(this.eContentValueHex=Ze(t.str)))},this.setContentValueHex=function(t){this.eContentValueHex=t},this.setContentValueStr=function(t){this.eContentValueHex=Ze(t)},this.getEncodedHex=function(){if("string"!=typeof this.eContentValueHex)throw"eContentValue not yet set";var t=new e({hex:this.eContentValueHex});this.dEContent=new n({obj:t,tag:"a0",explicit:!0});var r=[this.dEContentType];this.isDetached||r.push(this.dEContent);var s=new i({array:r});return this.hTLV=s.getEncodedHex(),this.hTLV}},Rr.lang.extend(Ie.asn1.cms.EncapsulatedContentInfo,Ie.asn1.ASN1Object),Ie.asn1.cms.ContentInfo=function(t){var n=Ie.asn1,i=n.DERTaggedObject,r=n.DERSequence,e=n.x509;Ie.asn1.cms.ContentInfo.superclass.constructor.call(this),this.dContentType=null,this.dContent=null,this.setContentType=function(t){"string"==typeof t&&(this.dContentType=e.OID.name2obj(t))},this.getEncodedHex=function(){var t=new i({obj:this.dContent,tag:"a0",explicit:!0}),n=new r({array:[this.dContentType,t]});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==t&&(t.type&&this.setContentType(t.type),t.obj&&t.obj instanceof n.ASN1Object&&(this.dContent=t.obj))},Rr.lang.extend(Ie.asn1.cms.ContentInfo,Ie.asn1.ASN1Object),Ie.asn1.cms.SignedData=function(){var t=Ie.asn1,n=t.ASN1Object,i=t.DERInteger,r=t.DERSet,e=t.DERSequence,s=t.DERTaggedObject,o=t.cms,h=o.EncapsulatedContentInfo,a=o.SignerInfo,u=o.ContentInfo,c=t.x509.AlgorithmIdentifier;Ie.asn1.cms.SignedData.superclass.constructor.call(this),this.dCMSVersion=new i({int:1}),this.dDigestAlgs=null,this.digestAlgNameList=[],this.dEncapContentInfo=new h,this.dCerts=null,this.certificateList=[],this.crlList=[],this.signerInfoList=[new a],this.addCertificatesByPEM=function(t){var i=Ge(t),r=new n;r.hTLV=i,this.certificateList.push(r)},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(null==this.dDigestAlgs){for(var t=[],n=0;n<this.digestAlgNameList.length;n++){var i=new c({name:this.digestAlgNameList[n]});t.push(i)}this.dDigestAlgs=new r({array:t})}var o=[this.dCMSVersion,this.dDigestAlgs,this.dEncapContentInfo];if(null==this.dCerts&&this.certificateList.length>0){var h=new r({array:this.certificateList});this.dCerts=new s({obj:h,tag:"a0",explicit:!1})}null!=this.dCerts&&o.push(this.dCerts);var a=new r({array:this.signerInfoList});o.push(a);var u=new e({array:o});return this.hTLV=u.getEncodedHex(),this.hTLV},this.getContentInfo=function(){return this.getEncodedHex(),new u({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().getEncodedHex()},this.getPEM=function(){return Je(this.getContentInfoEncodedHex(),"CMS")}},Rr.lang.extend(Ie.asn1.cms.SignedData,Ie.asn1.ASN1Object),Ie.asn1.cms.CMSUtil=new function(){},Ie.asn1.cms.CMSUtil.newSignedData=function(t){var n=Ie.asn1,i=n.cms,r=i.SignerInfo,e=i.SigningTime,s=i.SigningCertificate,o=i.SigningCertificateV2,h=n.cades.SignaturePolicyIdentifier,a=new(0,i.SignedData);if(a.dEncapContentInfo.setContentValue(t.content),"object"==typeof t.certs)for(var u=0;u<t.certs.length;u++)a.addCertificatesByPEM(t.certs[u]);for(a.signerInfoList=[],u=0;u<t.signerInfos.length;u++){var c=t.signerInfos[u],f=new r;for(attrName in f.setSignerIdentifier(c.signerCert),f.setForContentAndHash({sdObj:a,eciObj:a.dEncapContentInfo,hashAlg:c.hashAlg}),c.sAttr){var l=c.sAttr[attrName];if("SigningTime"==attrName){var d=new e(l);f.dSignedAttrs.add(d)}"SigningCertificate"==attrName&&(d=new s(l),f.dSignedAttrs.add(d)),"SigningCertificateV2"==attrName&&(d=new o(l),f.dSignedAttrs.add(d)),"SignaturePolicyIdentifier"==attrName&&(d=new h(l),f.dSignedAttrs.add(d))}f.sign(c.signerPrvKey,c.sigAlg),a.signerInfoList.push(f)}return a},Ie.asn1.cms.CMSUtil.verifySignedData=function(t){var n=je.getVbyList,i=je.getTLVbyList,r=je.getIdxbyList,e=je.getChildIdx,s=je.getTLV,o=je.oidname,h=Ie.crypto.Util.hashHex;void 0===t.cms&&(0,Ie.lang.String.isHex)(t.cms);var a=t.cms,u=function(t,s){var h=s.idx;s.signerid_issuer1=i(t,h,[1,0],"30"),s.signerid_serial1=n(t,h,[1,1],"02"),s.hashalg=o(n(t,h,[2,0],"06"));var a=r(t,h,[3],"a0");s.idxSignedAttrs=a,c(t,s,a);var u=e(t,h).length;if(u<6)throw"malformed SignerInfo";s.sigalg=o(n(t,h,[u-2,0],"06")),s.sigval=n(t,h,[u-1],"04")},c=function(t,i,r){var s=e(t,r);i.signedAttrIdxList=s;for(var o=0;o<s.length;o++){var h,a=s[o],u=n(t,a,[0],"06");"2a864886f70d010905"===u?(h=$e(n(t,a,[1,0])),i.saSigningTime=h):"2a864886f70d010904"===u&&(h=n(t,a,[1,0],"04"),i.saMessageDigest=h)}},f=function(t,n,i){i.verifyDetail={};var r=i.verifyDetail,o=n.parse.econtent,a=i.hashalg,u=i.saMessageDigest;r.validMessageDigest=!1,h(o,a)===u&&(r.validMessageDigest=!0),function(t,n,i){var r,o=n.parse.certsIdx;if(void 0===n.certs){r=[],n.certkeys=[];for(var h=e(t,o),a=0;a<h.length;a++){var u=s(t,h[a]),c=new ds;c.readCertHex(u),r[a]=c,n.certkeys[a]=c.getPublicKey()}n.certs=r}else r=n.certs;for(n.cccc=r.length,n.cccci=h.length,a=0;a<r.length;a++){var f=c.getIssuerHex(),l=c.getSerialNumberHex();i.signerid_issuer1===f&&i.signerid_serial1===l&&(i.certkey_idx=a)}}(t,n,i),r.validSignatureValue=!1;var c=i.sigalg,f="31"+s(t,i.idxSignedAttrs).substr(2);i.signedattrshex=f;var l=n.certs[i.certkey_idx].getPublicKey(),d=new Ie.crypto.Signature({alg:c});d.init(l),d.updateHex(f);var v=d.verify(i.sigval);r.validSignatureValue_isValid=v,!0===v&&(r.validSignatureValue=!0),i.isValid=!1,r.validMessageDigest&&r.validSignatureValue&&(i.isValid=!0)},l={isValid:!1,parse:{}};return function(t,i){if("2a864886f70d010702"!==n(t,0,[0],"06"))return i;i.cmsType="signedData",i.econtent=n(t,0,[1,0,2,1,0]),function(t,n){for(var i,e=3;e<6;e++)if(void 0!==(i=r(t,0,[1,0,e]))){var s=t.substr(i,2);"a0"===s&&(n.certsIdx=i),"a1"===s&&(n.revinfosIdx=i),"31"===s&&(n.signerinfosIdx=i)}}(t,i),i.signerInfos=[],function(t,n){var i=n.signerinfosIdx;if(void 0!==i){var r=e(t,i);n.signerInfoIdxList=r;for(var s=0;s<r.length;s++){var o={idx:r[s]};u(t,o),n.signerInfos.push(o)}}}(t,i)}(a,l.parse),function(t,n){for(var i=n.parse.signerInfos,r=i.length,e=!0,s=0;s<r;s++){var o=i[s];f(t,n,o),o.isValid||(e=!1)}n.isValid=e}(a,l),l},void 0!==Ie&&Ie||(Ie={}),void 0!==Ie.asn1&&Ie.asn1||(Ie.asn1={}),void 0!==Ie.asn1.tsp&&Ie.asn1.tsp||(Ie.asn1.tsp={}),Ie.asn1.tsp.Accuracy=function(t){var n=Ie.asn1,i=n.DERInteger,r=n.DERSequence,e=n.DERTaggedObject;n.tsp.Accuracy.superclass.constructor.call(this),this.seconds=null,this.millis=null,this.micros=null,this.getEncodedHex=function(){var t=null,n=null,s=null,o=[];if(null!=this.seconds&&(t=new i({int:this.seconds}),o.push(t)),null!=this.millis){var h=new i({int:this.millis});n=new e({obj:h,tag:"80",explicit:!1}),o.push(n)}if(null!=this.micros){var a=new i({int:this.micros});s=new e({obj:a,tag:"81",explicit:!1}),o.push(s)}var u=new r({array:o});return this.hTLV=u.getEncodedHex(),this.hTLV},void 0!==t&&("number"==typeof t.seconds&&(this.seconds=t.seconds),"number"==typeof t.millis&&(this.millis=t.millis),"number"==typeof t.micros&&(this.micros=t.micros))},Rr.lang.extend(Ie.asn1.tsp.Accuracy,Ie.asn1.ASN1Object),Ie.asn1.tsp.MessageImprint=function(t){var n=Ie.asn1,i=n.DERSequence,r=n.DEROctetString,e=n.x509.AlgorithmIdentifier;n.tsp.MessageImprint.superclass.constructor.call(this),this.dHashAlg=null,this.dHashValue=null,this.getEncodedHex=function(){return"string"==typeof this.hTLV?this.hTLV:new i({array:[this.dHashAlg,this.dHashValue]}).getEncodedHex()},void 0!==t&&("string"==typeof t.hashAlg&&(this.dHashAlg=new e({name:t.hashAlg})),"string"==typeof t.hashValue&&(this.dHashValue=new r({hex:t.hashValue})))},Rr.lang.extend(Ie.asn1.tsp.MessageImprint,Ie.asn1.ASN1Object),Ie.asn1.tsp.TimeStampReq=function(t){var n=Ie.asn1,i=n.DERSequence,r=n.DERInteger,e=n.DERBoolean,s=n.DERObjectIdentifier,o=n.tsp,h=o.MessageImprint;o.TimeStampReq.superclass.constructor.call(this),this.dVersion=new r({int:1}),this.dMessageImprint=null,this.dPolicy=null,this.dNonce=null,this.certReq=!0,this.setMessageImprint=function(t){t instanceof h?this.dMessageImprint=t:"object"==typeof t&&(this.dMessageImprint=new h(t))},this.getEncodedHex=function(){if(null==this.dMessageImprint)throw"messageImprint shall be specified";var t=[this.dVersion,this.dMessageImprint];null!=this.dPolicy&&t.push(this.dPolicy),null!=this.dNonce&&t.push(this.dNonce),this.certReq&&t.push(new e);var n=new i({array:t});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==t&&("object"==typeof t.mi&&this.setMessageImprint(t.mi),"object"==typeof t.policy&&(this.dPolicy=new s(t.policy)),"object"==typeof t.nonce&&(this.dNonce=new r(t.nonce)),"boolean"==typeof t.certreq&&(this.certReq=t.certreq))},Rr.lang.extend(Ie.asn1.tsp.TimeStampReq,Ie.asn1.ASN1Object),Ie.asn1.tsp.TSTInfo=function(t){var n=Ie.asn1,i=n.DERSequence,r=n.DERInteger,e=n.DERBoolean,s=n.DERGeneralizedTime,o=n.DERObjectIdentifier,h=n.tsp,a=h.MessageImprint,u=h.Accuracy,c=n.x509.X500Name;if(h.TSTInfo.superclass.constructor.call(this),this.dVersion=new r({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerialNumber=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.getEncodedHex=function(){var t=[this.dVersion];if(null==this.dPolicy)throw"policy shall be specified.";if(t.push(this.dPolicy),null==this.dMessageImprint)throw"messageImprint shall be specified.";if(t.push(this.dMessageImprint),null==this.dSerialNumber)throw"serialNumber shall be specified.";if(t.push(this.dSerialNumber),null==this.dGenTime)throw"genTime shall be specified.";t.push(this.dGenTime),null!=this.dAccuracy&&t.push(this.dAccuracy),null!=this.dOrdering&&t.push(this.dOrdering),null!=this.dNonce&&t.push(this.dNonce),null!=this.dTsa&&t.push(this.dTsa);var n=new i({array:t});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==t){if("string"==typeof t.policy){if(!t.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new o({oid:t.policy})}void 0!==t.messageImprint&&(this.dMessageImprint=new a(t.messageImprint)),void 0!==t.serialNumber&&(this.dSerialNumber=new r(t.serialNumber)),void 0!==t.genTime&&(this.dGenTime=new s(t.genTime)),void 0!==t.accuracy&&(this.dAccuracy=new u(t.accuracy)),void 0!==t.ordering&&1==t.ordering&&(this.dOrdering=new e),void 0!==t.nonce&&(this.dNonce=new r(t.nonce)),void 0!==t.tsa&&(this.dTsa=new c(t.tsa))}},Rr.lang.extend(Ie.asn1.tsp.TSTInfo,Ie.asn1.ASN1Object),Ie.asn1.tsp.TimeStampResp=function(t){var n=Ie.asn1,i=n.DERSequence,r=n.ASN1Object,e=n.tsp,s=e.PKIStatusInfo;e.TimeStampResp.superclass.constructor.call(this),this.dStatus=null,this.dTST=null,this.getEncodedHex=function(){if(null==this.dStatus)throw"status shall be specified";var t=[this.dStatus];null!=this.dTST&&t.push(this.dTST);var n=new i({array:t});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==t&&("object"==typeof t.status&&(this.dStatus=new s(t.status)),void 0!==t.tst&&t.tst instanceof r&&(this.dTST=t.tst.getContentInfo()))},Rr.lang.extend(Ie.asn1.tsp.TimeStampResp,Ie.asn1.ASN1Object),Ie.asn1.tsp.PKIStatusInfo=function(t){var n=Ie.asn1,i=n.DERSequence,r=n.tsp,e=r.PKIStatus,s=r.PKIFreeText,o=r.PKIFailureInfo;r.PKIStatusInfo.superclass.constructor.call(this),this.dStatus=null,this.dStatusString=null,this.dFailureInfo=null,this.getEncodedHex=function(){if(null==this.dStatus)throw"status shall be specified";var t=[this.dStatus];null!=this.dStatusString&&t.push(this.dStatusString),null!=this.dFailureInfo&&t.push(this.dFailureInfo);var n=new i({array:t});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==t&&("object"==typeof t.status&&(this.dStatus=new e(t.status)),"object"==typeof t.statstr&&(this.dStatusString=new s({array:t.statstr})),"object"==typeof t.failinfo&&(this.dFailureInfo=new o(t.failinfo)))},Rr.lang.extend(Ie.asn1.tsp.PKIStatusInfo,Ie.asn1.ASN1Object),Ie.asn1.tsp.PKIStatus=function(t){var n=Ie.asn1,i=n.DERInteger,r=n.tsp,e=r.PKIStatus;if(r.PKIStatus.superclass.constructor.call(this),this.getEncodedHex=function(){return this.hTLV=this.dStatus.getEncodedHex(),this.hTLV},void 0!==t)if(void 0!==t.name){var s=e.valueList;if(void 0===s[t.name])throw"name undefined: "+t.name;this.dStatus=new i({int:s[t.name]})}else this.dStatus=new i(t)},Rr.lang.extend(Ie.asn1.tsp.PKIStatus,Ie.asn1.ASN1Object),Ie.asn1.tsp.PKIStatus.valueList={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5},Ie.asn1.tsp.PKIFreeText=function(t){var n=Ie.asn1,i=n.DERSequence,r=n.DERUTF8String;n.tsp.PKIFreeText.superclass.constructor.call(this),this.textList=[],this.getEncodedHex=function(){for(var t=[],n=0;n<this.textList.length;n++)t.push(new r({str:this.textList[n]}));var e=new i({array:t});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==t&&"object"==typeof t.array&&(this.textList=t.array)},Rr.lang.extend(Ie.asn1.tsp.PKIFreeText,Ie.asn1.ASN1Object),Ie.asn1.tsp.PKIFailureInfo=function(t){var n=Ie.asn1,i=n.DERBitString,r=n.tsp.PKIFailureInfo;if(r.superclass.constructor.call(this),this.value=null,this.getEncodedHex=function(){if(null==this.value)throw"value shall be specified";var t=new Number(this.value).toString(2),n=new i;return n.setByBinaryString(t),this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==t)if("string"==typeof t.name){var e=r.valueList;if(void 0===e[t.name])throw"name undefined: "+t.name;this.value=e[t.name]}else"number"==typeof t.int&&(this.value=t.int)},Rr.lang.extend(Ie.asn1.tsp.PKIFailureInfo,Ie.asn1.ASN1Object),Ie.asn1.tsp.PKIFailureInfo.valueList={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25},Ie.asn1.tsp.AbstractTSAAdapter=function(){this.getTSTHex=function(){throw"not implemented yet"}},Ie.asn1.tsp.SimpleTSAAdapter=function(t){var n=Ie.asn1.tsp,i=Ie.crypto.Util.hashHex;n.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(t,r){var e=i(t,r);this.params.tstInfo.messageImprint={hashAlg:r,hashValue:e},this.params.tstInfo.serialNumber={int:this.serial++};var s=Math.floor(1e9*Math.random());return this.params.tstInfo.nonce={int:s},n.TSPUtil.newTimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==t&&(this.params=t)},Rr.lang.extend(Ie.asn1.tsp.SimpleTSAAdapter,Ie.asn1.tsp.AbstractTSAAdapter),Ie.asn1.tsp.FixedTSAAdapter=function(t){var n=Ie.asn1.tsp,i=Ie.crypto.Util.hashHex;n.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(t,r){var e=i(t,r);return this.params.tstInfo.messageImprint={hashAlg:r,hashValue:e},n.TSPUtil.newTimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==t&&(this.params=t)},Rr.lang.extend(Ie.asn1.tsp.FixedTSAAdapter,Ie.asn1.tsp.AbstractTSAAdapter),Ie.asn1.tsp.TSPUtil=new function(){},Ie.asn1.tsp.TSPUtil.newTimeStampToken=function(t){var n=Ie.asn1,i=n.cms,r=n.tsp.TSTInfo,e=new i.SignedData,s=new r(t.tstInfo).getEncodedHex();if(e.dEncapContentInfo.setContentValue({hex:s}),e.dEncapContentInfo.setContentType("tstinfo"),"object"==typeof t.certs)for(var o=0;o<t.certs.length;o++)e.addCertificatesByPEM(t.certs[o]);var h=e.signerInfoList[0];h.setSignerIdentifier(t.signerCert),h.setForContentAndHash({sdObj:e,eciObj:e.dEncapContentInfo,hashAlg:t.hashAlg});var a=new i.SigningCertificate({array:[t.signerCert]});return h.dSignedAttrs.add(a),h.sign(t.signerPrvKey,t.sigAlg),e},Ie.asn1.tsp.TSPUtil.parseTimeStampReq=function(t){var n=je,i=n.getV,r=n.getTLV,e={certreq:!1},s=(0,n.getChildIdx)(t,0);if(s.length<2)throw"TimeStampReq must have at least 2 items";var o=r(t,s[1]);e.mi=Ie.asn1.tsp.TSPUtil.parseMessageImprint(o);for(var h=2;h<s.length;h++){var a=s[h],u=t.substr(a,2);if("06"==u){var c=i(t,a);e.policy=n.hextooidstr(c)}"02"==u&&(e.nonce=i(t,a)),"01"==u&&(e.certreq=!0)}return e},Ie.asn1.tsp.TSPUtil.parseMessageImprint=function(t){var n=je,i=n.getChildIdx,r=n.getV,e=n.getIdxbyList,s={};if("30"!=t.substr(0,2))throw"head of messageImprint hex shall be '30'";i(t,0);var o=r(t,e(t,0,[0,0])),h=n.hextooidstr(o),a=Ie.asn1.x509.OID.oid2name(h);if(""==a)throw"hashAlg name undefined: "+h;var u=a,c=e(t,0,[1]);return s.hashAlg=u,s.hashValue=r(t,c),s},void 0!==Ie&&Ie||(Ie={}),void 0!==Ie.asn1&&Ie.asn1||(Ie.asn1={}),void 0!==Ie.asn1.cades&&Ie.asn1.cades||(Ie.asn1.cades={}),Ie.asn1.cades.SignaturePolicyIdentifier=function(t){var n=Ie.asn1,i=n.DERObjectIdentifier,r=n.DERSequence,e=n.cades,s=e.OtherHashAlgAndValue;if(e.SignaturePolicyIdentifier.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.15",void 0!==t&&"string"==typeof t.oid&&"object"==typeof t.hash){var o=new r({array:[new i({oid:t.oid}),new s(t.hash)]});this.valueList=[o]}},Rr.lang.extend(Ie.asn1.cades.SignaturePolicyIdentifier,Ie.asn1.cms.Attribute),Ie.asn1.cades.OtherHashAlgAndValue=function(t){var n=Ie.asn1,i=n.DERSequence,r=n.DEROctetString,e=n.x509.AlgorithmIdentifier;n.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.dAlg=null,this.dHash=null,this.getEncodedHex=function(){var t=new i({array:[this.dAlg,this.dHash]});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==t&&"string"==typeof t.alg&&"string"==typeof t.hash&&(this.dAlg=new e({name:t.alg}),this.dHash=new r({hex:t.hash}))},Rr.lang.extend(Ie.asn1.cades.OtherHashAlgAndValue,Ie.asn1.ASN1Object),Ie.asn1.cades.SignatureTimeStamp=function(t){var n=Ie.asn1,i=n.ASN1Object;if(n.cades.SignatureTimeStamp.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.14",this.tstHex=null,void 0!==t){if(void 0!==t.res)if("string"==typeof t.res&&t.res.match(/^[0-9A-Fa-f]+$/));else if(!(t.res instanceof i))throw"res param shall be ASN1Object or hex string";if(void 0!==t.tst)if("string"==typeof t.tst&&t.tst.match(/^[0-9A-Fa-f]+$/)){var r=new i;this.tstHex=t.tst,r.hTLV=this.tstHex,r.getEncodedHex(),this.valueList=[r]}else if(!(t.tst instanceof i))throw"tst param shall be ASN1Object or hex string"}},Rr.lang.extend(Ie.asn1.cades.SignatureTimeStamp,Ie.asn1.cms.Attribute),Ie.asn1.cades.CompleteCertificateRefs=function(t){var n=Ie.asn1.cades;n.CompleteCertificateRefs.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.21",this.setByArray=function(t){this.valueList=[];for(var i=0;i<t.length;i++){var r=new n.OtherCertID(t[i]);this.valueList.push(r)}},void 0!==t&&"object"==typeof t&&"number"==typeof t.length&&this.setByArray(t)},Rr.lang.extend(Ie.asn1.cades.CompleteCertificateRefs,Ie.asn1.cms.Attribute),Ie.asn1.cades.OtherCertID=function(t){var n=Ie.asn1,i=n.cms,r=n.cades;r.OtherCertID.superclass.constructor.call(this),this.hasIssuerSerial=!0,this.dOtherCertHash=null,this.dIssuerSerial=null,this.setByCertPEM=function(t){this.dOtherCertHash=new r.OtherHash(t),this.hasIssuerSerial&&(this.dIssuerSerial=new i.IssuerAndSerialNumber(t))},this.getEncodedHex=function(){if(null!=this.hTLV)return this.hTLV;if(null==this.dOtherCertHash)throw"otherCertHash not set";var t=[this.dOtherCertHash];null!=this.dIssuerSerial&&t.push(this.dIssuerSerial);var i=new n.DERSequence({array:t});return this.hTLV=i.getEncodedHex(),this.hTLV},void 0!==t&&("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&this.setByCertPEM(t),"object"==typeof t&&(!1===t.hasis&&(this.hasIssuerSerial=!1),"string"==typeof t.cert&&this.setByCertPEM(t.cert)))},Rr.lang.extend(Ie.asn1.cades.OtherCertID,Ie.asn1.ASN1Object),Ie.asn1.cades.OtherHash=function(t){var n=Ie.asn1,i=n.cades,r=i.OtherHashAlgAndValue,e=Ie.crypto.Util.hashHex;if(i.OtherHash.superclass.constructor.call(this),this.alg="sha256",this.dOtherHash=null,this.setByCertPEM=function(t){if(-1==t.indexOf("-----BEGIN "))throw"certPEM not to seem PEM format";var n=Ge(t),i=e(n,this.alg);this.dOtherHash=new r({alg:this.alg,hash:i})},this.getEncodedHex=function(){if(null==this.dOtherHash)throw"OtherHash not set";return this.dOtherHash.getEncodedHex()},void 0!==t)if("string"==typeof t)if(-1!=t.indexOf("-----BEGIN "))this.setByCertPEM(t);else{if(!t.match(/^[0-9A-Fa-f]+$/))throw"unsupported string value for params";this.dOtherHash=new n.DEROctetString({hex:t})}else"object"==typeof t&&("string"==typeof t.cert?("string"==typeof t.alg&&(this.alg=t.alg),this.setByCertPEM(t.cert)):this.dOtherHash=new r(t))},Rr.lang.extend(Ie.asn1.cades.OtherHash,Ie.asn1.ASN1Object),Ie.asn1.cades.CAdESUtil=new function(){},Ie.asn1.cades.CAdESUtil.addSigTS=function(){},Ie.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(t){var n=je.getChildIdx,i=je.getTLV,r=je.getIdxbyList,e=Ie.asn1,s=e.ASN1Object,o=e.cms.SignedData,h=e.cades.CAdESUtil,a={};if("06092a864886f70d010702"!=(0,je.getTLVbyList)(t,0,[0]))throw"hex is not CMS SignedData";var u=n(t,r(t,0,[1,0]));if(u.length<4)throw"num of SignedData elem shall be 4 at least";var c=u.shift();a.version=i(t,c);var f=u.shift();a.algs=i(t,f);var l=u.shift();a.encapcontent=i(t,l),a.certs=null,a.revs=null,a.si=[];var d=u.shift();"a0"==t.substr(d,2)&&(a.certs=i(t,d),d=u.shift()),"a1"==t.substr(d,2)&&(a.revs=i(t,d),d=u.shift());var v=d;if("31"!=t.substr(v,2))throw"Can't find signerInfos";for(var w=n(t,v),p=0;p<w.length;p++){var g=h.parseSignerInfoForAddingUnsigned(t,w[p],p);a.si[p]=g}var C=null;for(a.obj=new o,(C=new s).hTLV=a.version,a.obj.dCMSVersion=C,(C=new s).hTLV=a.algs,a.obj.dDigestAlgs=C,(C=new s).hTLV=a.encapcontent,a.obj.dEncapContentInfo=C,(C=new s).hTLV=a.certs,a.obj.dCerts=C,a.obj.signerInfoList=[],p=0;p<a.si.length;p++)a.obj.signerInfoList.push(a.si[p].obj);return a},Ie.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(t,n){var i=je.getTLV,r=je.getV,e=Ie.asn1,s=e.ASN1Object,o=e.cms,h=o.AttributeList,a=o.SignerInfo,u={},c=(0,je.getChildIdx)(t,n);if(6!=c.length)throw"not supported items for SignerInfo (!=6)";var f=c.shift();u.version=i(t,f);var l=c.shift();u.si=i(t,l);var d=c.shift();u.digalg=i(t,d);var v=c.shift();u.sattrs=i(t,v);var w=c.shift();u.sigalg=i(t,w);var p=c.shift();u.sig=i(t,p),u.sigval=r(t,p);var g=null;return u.obj=new a,(g=new s).hTLV=u.version,u.obj.dCMSVersion=g,(g=new s).hTLV=u.si,u.obj.dSignerIdentifier=g,(g=new s).hTLV=u.digalg,u.obj.dDigestAlgorithm=g,(g=new s).hTLV=u.sattrs,u.obj.dSignedAttrs=g,(g=new s).hTLV=u.sigalg,u.obj.dSigAlg=g,(g=new s).hTLV=u.sig,u.obj.dSig=g,u.obj.dUnsignedAttrs=new h,u},void 0!==Ie.asn1.csr&&Ie.asn1.csr||(Ie.asn1.csr={}),Ie.asn1.csr.CertificationRequest=function(t){var n=Ie,i=n.asn1,r=i.DERBitString,e=i.DERSequence,s=i.x509;i.csr.CertificationRequest.superclass.constructor.call(this),this.sign=function(t,i){null==this.prvKey&&(this.prvKey=i),this.asn1SignatureAlg=new s.AlgorithmIdentifier({name:t}),sig=new n.crypto.Signature({alg:t}),sig.init(this.prvKey),sig.updateHex(this.asn1CSRInfo.getEncodedHex()),this.hexSig=sig.sign(),this.asn1Sig=new r({hex:"00"+this.hexSig});var o=new e({array:[this.asn1CSRInfo,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=o.getEncodedHex(),this.isModified=!1},this.getPEMString=function(){return Je(this.getEncodedHex(),"CERTIFICATE REQUEST")},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},void 0!==t&&void 0!==t.csrinfo&&(this.asn1CSRInfo=t.csrinfo)},Rr.lang.extend(Ie.asn1.csr.CertificationRequest,Ie.asn1.ASN1Object),Ie.asn1.csr.CertificationRequestInfo=function(){var t=Ie.asn1,n=t.DERInteger,i=t.DERSequence,r=t.DERSet,e=t.DERNull,s=t.DERTaggedObject,o=t.DERObjectIdentifier,h=t.x509,a=h.X500Name,u=h.Extension,c=as;t.csr.CertificationRequestInfo.superclass.constructor.call(this),this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new n({int:0}),this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSubjectByParam=function(t){this.asn1Subject=new a(t)},this.setSubjectPublicKeyByGetKey=function(t){var n=c.getKey(t);this.asn1SubjPKey=new h.SubjectPublicKeyInfo(n)},this.appendExtensionByName=function(t,n){u.appendByNameToArray(t,n,this.extensionsArray)},this.getEncodedHex=function(){if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),this.extensionsArray.length>0){var t=new i({array:this.extensionsArray}),n=new r({array:[t]}),h=new i({array:[new o({oid:"1.2.840.113549.1.9.14"}),n]}),a=new s({explicit:!0,tag:"a0",obj:h});this.asn1Array.push(a)}else a=new s({explicit:!1,tag:"a0",obj:new e}),this.asn1Array.push(a);var u=new i({array:this.asn1Array});return this.hTLV=u.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},Rr.lang.extend(Ie.asn1.csr.CertificationRequestInfo,Ie.asn1.ASN1Object),Ie.asn1.csr.CSRUtil=new function(){},Ie.asn1.csr.CSRUtil.newCSRPEM=function(t){var n=as,i=Ie.asn1.csr;if(void 0===t.subject)throw"parameter subject undefined";if(void 0===t.sbjpubkey)throw"parameter sbjpubkey undefined";if(void 0===t.sigalg)throw"parameter sigalg undefined";if(void 0===t.sbjprvkey)throw"parameter sbjpubkey undefined";var r=new i.CertificationRequestInfo;if(r.setSubjectByParam(t.subject),r.setSubjectPublicKeyByGetKey(t.sbjpubkey),void 0!==t.ext&&void 0!==t.ext.length)for(var e=0;e<t.ext.length;e++)for(key in t.ext[e])r.appendExtensionByName(key,t.ext[e][key]);var s=new i.CertificationRequest({csrinfo:r}),o=n.getKey(t.sbjprvkey);return s.sign(t.sigalg,o),s.getPEMString()},Ie.asn1.csr.CSRUtil.getInfo=function(t){var n=je.getTLVbyList,i={subject:{},pubkey:{}};if(-1==t.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw"argument is not PEM file";var r=Ge(t,"CERTIFICATE REQUEST");return i.subject.hex=n(r,0,[0,1]),i.subject.name=ds.hex2dn(i.subject.hex),i.pubkey.hex=n(r,0,[0,2]),i.pubkey.obj=as.getKey(i.pubkey.hex,null,"pkcs8pub"),i},void 0!==Ie&&Ie||(Ie={}),void 0!==Ie.asn1&&Ie.asn1||(Ie.asn1={}),void 0!==Ie.asn1.ocsp&&Ie.asn1.ocsp||(Ie.asn1.ocsp={}),Ie.asn1.ocsp.DEFAULT_HASH="sha1",Ie.asn1.ocsp.CertID=function(t){var n=Ie.asn1,i=n.DEROctetString,r=n.DERInteger,e=n.DERSequence,s=n.x509.AlgorithmIdentifier,o=n.ocsp,h=o.DEFAULT_HASH,a=Ie.crypto.Util.hashHex,u=ds,c=je;if(o.CertID.superclass.constructor.call(this),this.dHashAlg=null,this.dIssuerNameHash=null,this.dIssuerKeyHash=null,this.dSerialNumber=null,this.setByValue=function(t,n,e,o){void 0===o&&(o=h),this.dHashAlg=new s({name:o}),this.dIssuerNameHash=new i({hex:t}),this.dIssuerKeyHash=new i({hex:n}),this.dSerialNumber=new r({hex:e})},this.setByCert=function(t,n,i){void 0===i&&(i=h);var r=new u;r.readCertPEM(n);var e=new u;e.readCertPEM(t);var s=e.getPublicKeyHex(),o=c.getTLVbyList(s,0,[1,0],"30"),f=r.getSerialNumberHex(),l=a(e.getSubjectHex(),i),d=a(o,i);this.setByValue(l,d,f,i),this.hoge=r.getSerialNumberHex()},this.getEncodedHex=function(){if(null===this.dHashAlg&&null===this.dIssuerNameHash&&null===this.dIssuerKeyHash&&null===this.dSerialNumber)throw"not yet set values";var t=new e({array:[this.dHashAlg,this.dIssuerNameHash,this.dIssuerKeyHash,this.dSerialNumber]});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==t){var f=t;if(void 0!==f.issuerCert&&void 0!==f.subjectCert){var l=h;void 0===f.alg&&(l=void 0),this.setByCert(f.issuerCert,f.subjectCert,l)}else{if(void 0===f.namehash||void 0===f.keyhash||void 0===f.serial)throw"invalid constructor arguments";l=h,void 0===f.alg&&(l=void 0),this.setByValue(f.namehash,f.keyhash,f.serial,l)}}},Rr.lang.extend(Ie.asn1.ocsp.CertID,Ie.asn1.ASN1Object),Ie.asn1.ocsp.Request=function(t){var n=Ie.asn1,i=n.DERSequence,r=n.ocsp;if(r.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.getEncodedHex=function(){var t=[];if(null===this.dReqCert)throw"reqCert not set";t.push(this.dReqCert);var n=new i({array:t});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==t){var e=new r.CertID(t);this.dReqCert=e}},Rr.lang.extend(Ie.asn1.ocsp.Request,Ie.asn1.ASN1Object),Ie.asn1.ocsp.TBSRequest=function(t){var n=Ie.asn1,i=n.DERSequence,r=n.ocsp;r.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(t){for(var n=[],i=0;i<t.length;i++){var e=new r.Request(t[0]);n.push(e)}this.dRequestList=n},this.getEncodedHex=function(){var t=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var n=new i({array:this.dRequestList});if(t.push(n),null!==this.dRequestExt)throw"requestExtensions not supported";var r=new i({array:t});return this.hTLV=r.getEncodedHex(),this.hTLV},void 0!==t&&void 0!==t.reqList&&this.setRequestListByParam(t.reqList)},Rr.lang.extend(Ie.asn1.ocsp.TBSRequest,Ie.asn1.ASN1Object),Ie.asn1.ocsp.OCSPRequest=function(t){var n=Ie.asn1,i=n.DERSequence,r=n.ocsp;if(r.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.getEncodedHex=function(){var t=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(t.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var n=new i({array:t});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==t&&void 0!==t.reqList){var e=new r.TBSRequest(t);this.dTbsRequest=e}},Rr.lang.extend(Ie.asn1.ocsp.OCSPRequest,Ie.asn1.ASN1Object),Ie.asn1.ocsp.OCSPUtil={},Ie.asn1.ocsp.OCSPUtil.getRequestHex=function(t,n,i){var r=Ie.asn1.ocsp;return void 0===i&&(i=r.DEFAULT_HASH),new r.OCSPRequest({reqList:[{alg:i,issuerCert:t,subjectCert:n}]}).getEncodedHex()},Ie.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(t){var n=je.getVbyList,i=je.getIdxbyList,r=(n=je.getVbyList,je.getV),e={};try{var s=n(t,0,[0],"0a");e.responseStatus=parseInt(s,16)}catch(t){}if(0!==e.responseStatus)return e;try{var o=i(t,0,[1,0,1,0,0,2,0,1]);"80"===t.substr(o,2)?e.certStatus="good":"a1"===t.substr(o,2)?(e.certStatus="revoked",e.revocationTime=$e(n(t,o,[0]))):"82"===t.substr(o,2)&&(e.certStatus="unknown")}catch(t){}try{var h=i(t,0,[1,0,1,0,0,2,0,2]);e.thisUpdate=$e(r(t,h))}catch(t){}try{var a=i(t,0,[1,0,1,0,0,2,0,3]);"a0"===t.substr(a,2)&&(e.nextUpdate=$e(n(t,a,[0])))}catch(t){}return e},void 0!==Ie&&Ie||(Ie={}),void 0!==Ie.lang&&Ie.lang||(Ie.lang={}),Ie.lang.String=function(){},Me=function(t){return Oe(new Xt(t,"utf8").toString("base64"))},De=function(t){return new Xt(Ue(t),"base64").toString("utf8")},Ie.lang.String.isInteger=function(t){return!!t.match(/^[0-9]+$/)||!!t.match(/^-[0-9]+$/)},Ie.lang.String.isHex=function(t){return!(t.length%2!=0||!t.match(/^[0-9a-f]+$/)&&!t.match(/^[0-9A-F]+$/))},Ie.lang.String.isBase64=function(t){return!(!(t=t.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||t.length%4!=0)},Ie.lang.String.isBase64URL=function(t){return!t.match(/[+\/=]/)&&(t=Ue(t),Ie.lang.String.isBase64(t))},Ie.lang.String.isIntegerArray=function(t){return!!(t=t.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},void 0!==Ie&&Ie||(Ie={}),void 0!==Ie.crypto&&Ie.crypto||(Ie.crypto={}),Ie.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:Pr.algo.MD5,sha1:Pr.algo.SHA1,sha224:Pr.algo.SHA224,sha256:Pr.algo.SHA256,sha384:Pr.algo.SHA384,sha512:Pr.algo.SHA512,ripemd160:Pr.algo.RIPEMD160},this.getDigestInfoHex=function(t,n){if(void 0===this.DIGESTINFOHEAD[n])throw"alg not supported in Util.DIGESTINFOHEAD: "+n;return this.DIGESTINFOHEAD[n]+t},this.getPaddedDigestInfoHex=function(t,n,i){var r=this.getDigestInfoHex(t,n),e=i/4;if(r.length+22>e)throw"key is too short for SigAlg: keylen="+i+","+n;for(var s="0001",o="00"+r,h="",a=e-s.length-o.length,u=0;u<a;u+=2)h+="ff";return s+h+o},this.hashString=function(t,n){return new Ie.crypto.MessageDigest({alg:n}).digestString(t)},this.hashHex=function(t,n){return new Ie.crypto.MessageDigest({alg:n}).digestHex(t)},this.sha1=function(t){return new Ie.crypto.MessageDigest({alg:"sha1",prov:"cryptojs"}).digestString(t)},this.sha256=function(t){return new Ie.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestString(t)},this.sha256Hex=function(t){return new Ie.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestHex(t)},this.sha512=function(t){return new Ie.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestString(t)},this.sha512Hex=function(t){return new Ie.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestHex(t)}},Ie.crypto.Util.md5=function(t){return new Ie.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(t)},Ie.crypto.Util.ripemd160=function(t){return new Ie.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(t)},Ie.crypto.Util.SECURERANDOMGEN=new be,Ie.crypto.Util.getRandomHexOfNbytes=function(t){var n=new Array(t);return Ie.crypto.Util.SECURERANDOMGEN.nextBytes(n),Pe(n)},Ie.crypto.Util.getRandomBigIntegerOfNbytes=function(t){return new Zr(Ie.crypto.Util.getRandomHexOfNbytes(t),16)},Ie.crypto.Util.getRandomHexOfNbits=function(t){var n=t%8,i=new Array((t-n)/8+1);return Ie.crypto.Util.SECURERANDOMGEN.nextBytes(i),i[0]=(255<<n&255^255)&i[0],Pe(i)},Ie.crypto.Util.getRandomBigIntegerOfNbits=function(t){return new Zr(Ie.crypto.Util.getRandomHexOfNbits(t),16)},Ie.crypto.Util.getRandomBigIntegerZeroToMax=function(t){for(var n=t.bitLength();;){var i=Ie.crypto.Util.getRandomBigIntegerOfNbits(n);if(-1!=t.compareTo(i))return i}},Ie.crypto.Util.getRandomBigIntegerMinToMax=function(t,n){var i=t.compareTo(n);if(1==i)throw"biMin is greater than biMax";if(0==i)return t;var r=n.subtract(t);return Ie.crypto.Util.getRandomBigIntegerZeroToMax(r).add(t)},Ie.crypto.MessageDigest=function(t){this.setAlgAndProvider=function(t,n){if(null!==(t=Ie.crypto.MessageDigest.getCanonicalAlgName(t))&&void 0===n&&(n=Ie.crypto.Util.DEFAULTPROVIDER[t]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t)&&"cryptojs"==n){try{this.md=Ie.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[t].create()}catch(n){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+n}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var n=Pr.enc.Hex.parse(t);this.md.update(n)},this.digest=function(){return this.md.finalize().toString(Pr.enc.Hex)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}if(-1!=":sha256:".indexOf(t)&&"sjcl"==n){try{this.md=new sjcl.hash.sha256}catch(n){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+n}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var n=sjcl.codec.hex.toBits(t);this.md.update(n)},this.digest=function(){var t=this.md.finalize();return sjcl.codec.hex.fromBits(t)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}},this.updateString=function(){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==t&&void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=Ie.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},Ie.crypto.MessageDigest.getCanonicalAlgName=function(t){return"string"==typeof t&&(t=(t=t.toLowerCase()).replace(/-/,"")),t},Ie.crypto.MessageDigest.getHashLength=function(t){var n=Ie.crypto.MessageDigest,i=n.getCanonicalAlgName(t);if(void 0===n.HASHLENGTH[i])throw"not supported algorithm: "+t;return n.HASHLENGTH[i]},Ie.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},Ie.crypto.Mac=function(t){this.setAlgAndProvider=function(t,n){if(null==(t=t.toLowerCase())&&(t="hmacsha1"),"hmac"!=(t=t.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+t;void 0===n&&(n=Ie.crypto.Util.DEFAULTPROVIDER[t]),this.algProv=t+"/"+n;var i=t.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(i)&&"cryptojs"==n){try{this.mac=Pr.algo.HMAC.create(Ie.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[i],this.pass)}catch(t){throw"setAlgAndProvider hash alg set fail hashAlg="+i+"/"+t}this.updateString=function(t){this.mac.update(t)},this.updateHex=function(t){var n=Pr.enc.Hex.parse(t);this.mac.update(n)},this.doFinal=function(){return this.mac.finalize().toString(Pr.enc.Hex)},this.doFinalString=function(t){return this.updateString(t),this.doFinal()},this.doFinalHex=function(t){return this.updateHex(t),this.doFinal()}}},this.updateString=function(){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(t){if("string"==typeof t){var n=t;return t.length%2!=1&&t.match(/^[0-9A-Fa-f]+$/)||(n=qe(t)),void(this.pass=Pr.enc.Hex.parse(n))}if("object"!=typeof t)throw"KJUR.crypto.Mac unsupported password type: "+t;if(n=null,void 0!==t.hex){if(t.hex.length%2!=0||!t.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+t.hex;n=t.hex}if(void 0!==t.utf8&&(n=Ze(t.utf8)),void 0!==t.rstr&&(n=qe(t.rstr)),void 0!==t.b64&&(n=Hr(t.b64)),void 0!==t.b64u&&(n=ze(t.b64u)),null==n)throw"KJUR.crypto.Mac unsupported password type: "+t;this.pass=Pr.enc.Hex.parse(n)},void 0!==t&&(void 0!==t.pass&&this.setPassword(t.pass),void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=Ie.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},Ie.crypto.Signature=function(t){var n=null;if(this._setAlgNames=function(){var t=this.algName.match(/^(.+)with(.+)$/);t&&(this.mdAlgName=t[1].toLowerCase(),this.pubkeyAlgName=t[2].toLowerCase())},this._zeroPaddingOfSignature=function(t,n){for(var i="",r=n/4-t.length,e=0;e<r;e++)i+="0";return i+t},this.setAlgAndProvider=function(t,n){if(this._setAlgNames(),"cryptojs/jsrsa"!=n)throw"provider not supported: "+n;if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new Ie.crypto.MessageDigest({alg:this.mdAlgName})}catch(t){throw"setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+t}this.init=function(t,n){var i=null;try{i=void 0===n?as.getKey(t):as.getKey(t,n)}catch(t){throw"init failed:"+t}if(!0===i.isPrivate)this.prvKey=i,this.state="SIGN";else{if(!0!==i.isPublic)throw"init failed.:"+i;this.pubKey=i,this.state="VERIFY"}},this.updateString=function(t){this.md.updateString(t)},this.updateHex=function(t){this.md.updateHex(t)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0!==this.ecprvhex&&void 0!==this.eccurvename){var t=new Ie.crypto.ECDSA({curve:this.eccurvename});this.hSign=t.signHex(this.sHashHex,this.ecprvhex)}else if(this.prvKey instanceof Se&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Se&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof Ie.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof Ie.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(t){return this.updateString(t),this.sign()},this.signHex=function(t){return this.updateHex(t),this.sign()},this.verify=function(t){if(this.sHashHex=this.md.digest(),void 0!==this.ecpubhex&&void 0!==this.eccurvename)return new Ie.crypto.ECDSA({curve:this.eccurvename}).verifyHex(this.sHashHex,t,this.ecpubhex);if(this.pubKey instanceof Se&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,t,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Se&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==Ie.crypto.ECDSA&&this.pubKey instanceof Ie.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==Ie.crypto.DSA&&this.pubKey instanceof Ie.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=t,void 0!==t&&(void 0!==t.alg&&(this.algName=t.alg,this.provName=void 0===t.prov?Ie.crypto.Util.DEFAULTPROVIDER[this.algName]:t.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==t.psssaltlen&&(this.pssSaltLen=t.psssaltlen),void 0!==t.prvkeypem)){if(void 0!==t.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{n=as.getKey(t.prvkeypem),this.init(n)}catch(t){throw"fatal error to load pem private key: "+t}}},Ie.crypto.Cipher=function(){},Ie.crypto.Cipher.encrypt=function(t,n,i){if(n instanceof Se&&n.isPublic){var r=Ie.crypto.Cipher.getAlgByKeyAndName(n,i);if("RSA"===r)return n.encrypt(t);if("RSAOAEP"===r)return n.encryptOAEP(t,"sha1");var e=r.match(/^RSAOAEP(\d+)$/);if(null!==e)return n.encryptOAEP(t,"sha"+e[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+i}throw"Cipher.encrypt: unsupported key or algorithm"},Ie.crypto.Cipher.decrypt=function(t,n,i){if(n instanceof Se&&n.isPrivate){var r=Ie.crypto.Cipher.getAlgByKeyAndName(n,i);if("RSA"===r)return n.decrypt(t);if("RSAOAEP"===r)return n.decryptOAEP(t,"sha1");var e=r.match(/^RSAOAEP(\d+)$/);if(null!==e)return n.decryptOAEP(t,"sha"+e[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+i}throw"Cipher.decrypt: unsupported key or algorithm"},Ie.crypto.Cipher.getAlgByKeyAndName=function(t,n){if(t instanceof Se){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(n))return n;if(null==n)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+n}throw"getAlgByKeyAndName: not supported algorithm name: "+n},Ie.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==Ie&&Ie||(Ie={}),void 0!==Ie.crypto&&Ie.crypto||(Ie.crypto={}),Ie.crypto.ECDSA=function(t){var n=new be;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(t){return new Zr(t.bitLength(),n).mod(t.subtract(Zr.ONE)).add(Zr.ONE)},this.setNamedCurve=function(t){this.ecparams=Ie.crypto.ECParameterDB.getByName(t),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=t},this.setPrivateKeyHex=function(t){this.isPrivate=!0,this.prvKeyHex=t},this.setPublicKeyHex=function(t){this.isPublic=!0,this.pubKeyHex=t},this.getPublicKeyXYHex=function(){var t=this.pubKeyHex;if("04"!==t.substr(0,2))throw"this method supports uncompressed format(04) only";var n=this.ecparams.keylen/4;if(t.length!==2+2*n)throw"malformed public key hex length";var i={};return i.x=t.substr(2,n),i.y=t.substr(2+n),i},this.getShortNISTPCurveName=function(){var t=this.curveName;return"secp256r1"===t||"NIST P-256"===t||"P-256"===t||"prime256v1"===t?"P-256":"secp384r1"===t||"NIST P-384"===t||"P-384"===t?"P-384":null},this.generateKeyPairHex=function(){var t=this.getBigRandom(this.ecparams.n),n=this.ecparams.G.multiply(t),i=n.getX().toBigInteger(),r=n.getY().toBigInteger(),e=this.ecparams.keylen/4,s=("0000000000"+t.toString(16)).slice(-e),o="04"+("0000000000"+i.toString(16)).slice(-e)+("0000000000"+r.toString(16)).slice(-e);return this.setPrivateKeyHex(s),this.setPublicKeyHex(o),{ecprvhex:s,ecpubhex:o}},this.signWithMessageHash=function(t){return this.signHex(t,this.prvKeyHex)},this.signHex=function(t,n){var i=new Zr(n,16),r=this.ecparams.n,e=new Zr(t,16);do{var s=this.getBigRandom(r),o=this.ecparams.G.multiply(s).getX().toBigInteger().mod(r)}while(o.compareTo(Zr.ZERO)<=0);var h=s.modInverse(r).multiply(e.add(i.multiply(o))).mod(r);return Ie.crypto.ECDSA.biRSSigToASN1Sig(o,h)},this.sign=function(t,n){var i=n,r=this.ecparams.n,e=Zr.fromByteArrayUnsigned(t);do{var s=this.getBigRandom(r),o=this.ecparams.G.multiply(s).getX().toBigInteger().mod(r)}while(o.compareTo(Zr.ZERO)<=0);var h=s.modInverse(r).multiply(e.add(i.multiply(o))).mod(r);return this.serializeSig(o,h)},this.verifyWithMessageHash=function(t,n){return this.verifyHex(t,n,this.pubKeyHex)},this.verifyHex=function(t,n,i){var r,e,s,o=Ie.crypto.ECDSA.parseSigHex(n);r=o.r,e=o.s,s=Te.decodeFromHex(this.ecparams.curve,i);var h=new Zr(t,16);return this.verifyRaw(h,r,e,s)},this.verify=function(t,n,i){var r,e,s;if(Bitcoin.Util.isArray(n)){var o=this.parseSig(n);r=o.r,e=o.s}else{if("object"!=typeof n||!n.r||!n.s)throw"Invalid value for signature";r=n.r,e=n.s}if(i instanceof Te)s=i;else{if(!Bitcoin.Util.isArray(i))throw"Invalid format for pubkey value, must be byte array or ECPointFp";s=Te.decodeFrom(this.ecparams.curve,i)}var h=Zr.fromByteArrayUnsigned(t);return this.verifyRaw(h,r,e,s)},this.verifyRaw=function(t,n,i,r){var e=this.ecparams.n,s=this.ecparams.G;if(n.compareTo(Zr.ONE)<0||n.compareTo(e)>=0)return!1;if(i.compareTo(Zr.ONE)<0||i.compareTo(e)>=0)return!1;var o=i.modInverse(e),h=t.multiply(o).mod(e),a=n.multiply(o).mod(e);return s.multiply(h).add(r.multiply(a)).getX().toBigInteger().mod(e).equals(n)},this.serializeSig=function(t,n){var i=t.toByteArraySigned(),r=n.toByteArraySigned(),e=[];return e.push(2),e.push(i.length),(e=e.concat(i)).push(2),e.push(r.length),(e=e.concat(r)).unshift(e.length),e.unshift(48),e},this.parseSig=function(t){var n;if(48!=t[0])throw new Error("Signature not a valid DERSequence");if(2!=t[n=2])throw new Error("First element in signature must be a DERInteger");var i=t.slice(n+2,n+2+t[n+1]);if(2!=t[n+=2+t[n+1]])throw new Error("Second element in signature must be a DERInteger");var r=t.slice(n+2,n+2+t[n+1]);return n+=2+t[n+1],{r:Zr.fromByteArrayUnsigned(i),s:Zr.fromByteArrayUnsigned(r)}},this.parseSigCompact=function(t){if(65!==t.length)throw"Signature has the wrong length";var n=t[0]-27;if(n<0||n>7)throw"Invalid signature type";var i=this.ecparams.n;return{r:Zr.fromByteArrayUnsigned(t.slice(1,33)).mod(i),s:Zr.fromByteArrayUnsigned(t.slice(33,65)).mod(i),i:n}},this.readPKCS5PrvKeyHex=function(t){var n,i,r,e=Ie.crypto.ECDSA.getName,s=je.getVbyList;if(!1===je.isASN1HEX(t))throw"not ASN.1 hex string";try{n=s(t,0,[2,0],"06"),i=s(t,0,[1],"04");try{r=s(t,0,[3,0],"03").substr(2)}catch(t){}}catch(t){throw"malformed PKCS#1/5 plain ECC private key"}if(this.curveName=e(n),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(i),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(t){var n,i,r,e=Ie.crypto.ECDSA.getName,s=je.getVbyList;if(!1===je.isASN1HEX(t))throw"not ASN.1 hex string";try{s(t,0,[1,0],"06"),n=s(t,0,[1,1],"06"),i=s(t,0,[2,0,1],"04");try{r=s(t,0,[2,0,2,0],"03").substr(2)}catch(t){}}catch(t){throw"malformed PKCS#8 plain ECC private key"}if(this.curveName=e(n),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(i),this.isPublic=!1},this.readPKCS8PubKeyHex=function(t){var n,i,r=Ie.crypto.ECDSA.getName,e=je.getVbyList;if(!1===je.isASN1HEX(t))throw"not ASN.1 hex string";try{e(t,0,[0,0],"06"),n=e(t,0,[0,1],"06"),i=e(t,0,[1],"03").substr(2)}catch(t){throw"malformed PKCS#8 ECC public key"}if(this.curveName=r(n),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},this.readCertPubKeyHex=function(t,n){5!==n&&(n=6);var i,r,e=Ie.crypto.ECDSA.getName,s=je.getVbyList;if(!1===je.isASN1HEX(t))throw"not ASN.1 hex string";try{i=s(t,0,[0,n,0,1],"06"),r=s(t,0,[0,n,1],"03").substr(2)}catch(t){throw"malformed X.509 certificate ECC public key"}if(this.curveName=e(i),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},void 0!==t&&void 0!==t.curve&&(this.curveName=t.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==t&&(void 0!==t.prv&&this.setPrivateKeyHex(t.prv),void 0!==t.pub&&this.setPublicKeyHex(t.pub))},Ie.crypto.ECDSA.parseSigHex=function(t){var n=Ie.crypto.ECDSA.parseSigHexInHexRS(t);return{r:new Zr(n.r,16),s:new Zr(n.s,16)}},Ie.crypto.ECDSA.parseSigHexInHexRS=function(t){var n=je.getChildIdx,i=je.getV;if("30"!=t.substr(0,2))throw"signature is not a ASN.1 sequence";var r=n(t,0);if(2!=r.length)throw"number of signature ASN.1 sequence elements seem wrong";var e=r[0],s=r[1];if("02"!=t.substr(e,2))throw"1st item of sequene of signature is not ASN.1 integer";if("02"!=t.substr(s,2))throw"2nd item of sequene of signature is not ASN.1 integer";return{r:i(t,e),s:i(t,s)}},Ie.crypto.ECDSA.asn1SigToConcatSig=function(t){var n=Ie.crypto.ECDSA.parseSigHexInHexRS(t),i=n.r,r=n.s;if("00"==i.substr(0,2)&&i.length%32==2&&(i=i.substr(2)),"00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),i.length%32==30&&(i="00"+i),r.length%32==30&&(r="00"+r),i.length%32!=0)throw"unknown ECDSA sig r length error";if(r.length%32!=0)throw"unknown ECDSA sig s length error";return i+r},Ie.crypto.ECDSA.concatSigToASN1Sig=function(t){if(t.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var n=t.substr(0,t.length/2),i=t.substr(t.length/2);return Ie.crypto.ECDSA.hexRSSigToASN1Sig(n,i)},Ie.crypto.ECDSA.hexRSSigToASN1Sig=function(t,n){var i=new Zr(t,16),r=new Zr(n,16);return Ie.crypto.ECDSA.biRSSigToASN1Sig(i,r)},Ie.crypto.ECDSA.biRSSigToASN1Sig=function(t,n){var i=Ie.asn1,r=new i.DERInteger({bigint:t}),e=new i.DERInteger({bigint:n});return new i.DERSequence({array:[r,e]}).getEncodedHex()},Ie.crypto.ECDSA.getName=function(t){return"2a8648ce3d030107"===t?"secp256r1":"2b8104000a"===t?"secp256k1":"2b81040022"===t?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(t)?"secp256r1":-1!=="|secp256k1|".indexOf(t)?"secp256k1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(t)?"secp384r1":null},void 0!==Ie&&Ie||(Ie={}),void 0!==Ie.crypto&&Ie.crypto||(Ie.crypto={}),Ie.crypto.ECParameterDB=new function(){var t={},n={};function i(t){return new Zr(t,16)}this.getByName=function(i){var r=i;if(void 0!==n[r]&&(r=n[i]),void 0!==t[r])return t[r];throw"unregistered EC curve name: "+r},this.regist=function(r,e,s,o,h,a,u,c,f,l,d,v){t[r]={};var w=i(s),p=i(o),g=i(h),C=i(a),m=i(u),F=new xe(w,p,g),y=F.decodePointHex("04"+c+f);t[r].name=r,t[r].keylen=e,t[r].curve=F,t[r].G=y,t[r].n=C,t[r].h=m,t[r].oid=d,t[r].info=v;for(var b=0;b<l.length;b++)n[l[b]]=r}},Ie.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),Ie.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),Ie.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),Ie.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),Ie.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),Ie.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),Ie.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),Ie.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),Ie.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),Ie.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==Ie&&Ie||(Ie={}),void 0!==Ie.crypto&&Ie.crypto||(Ie.crypto={}),Ie.crypto.DSA=function(){this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(t,n,i,r,e){this.isPrivate=!0,this.p=t,this.q=n,this.g=i,this.y=r,this.x=e},this.setPrivateHex=function(t,n,i,r,e){var s,o,h,a,u;s=new Zr(t,16),o=new Zr(n,16),h=new Zr(i,16),a="string"==typeof r&&r.length>1?new Zr(r,16):null,u=new Zr(e,16),this.setPrivate(s,o,h,a,u)},this.setPublic=function(t,n,i,r){this.isPublic=!0,this.p=t,this.q=n,this.g=i,this.y=r,this.x=null},this.setPublicHex=function(t,n,i,r){var e,s,o,h;e=new Zr(t,16),s=new Zr(n,16),o=new Zr(i,16),h=new Zr(r,16),this.setPublic(e,s,o,h)},this.signWithMessageHash=function(t){var n=this.p,i=this.q,r=this.g,e=this.x,s=Ie.crypto.Util.getRandomBigIntegerMinToMax(Zr.ONE.add(Zr.ONE),i.subtract(Zr.ONE)),o=new Zr(t.substr(0,i.bitLength()/4),16),h=r.modPow(s,n).mod(i),a=s.modInverse(i).multiply(o.add(e.multiply(h))).mod(i);return Ie.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:h}},{int:{bigint:a}}]})},this.verifyWithMessageHash=function(t,n){var i=this.p,r=this.q,e=this.g,s=this.y,o=this.parseASN1Signature(n),h=o[0],a=o[1],u=new Zr(t.substr(0,r.bitLength()/4),16);if(Zr.ZERO.compareTo(h)>0||h.compareTo(r)>0)throw"invalid DSA signature";if(Zr.ZERO.compareTo(a)>=0||a.compareTo(r)>0)throw"invalid DSA signature";var c=a.modInverse(r),f=u.multiply(c).mod(r),l=h.multiply(c).mod(r);return 0==e.modPow(f,i).multiply(s.modPow(l,i)).mod(i).mod(r).compareTo(h)},this.parseASN1Signature=function(t){try{return[new Zr(je.getVbyList(t,0,[0],"02"),16),new Zr(je.getVbyList(t,0,[1],"02"),16)]}catch(t){throw"malformed ASN.1 DSA signature"}},this.readPKCS5PrvKeyHex=function(t){var n,i,r,e,s,o=je.getVbyList;if(!1===je.isASN1HEX(t))throw"not ASN.1 hex string";try{n=o(t,0,[1],"02"),i=o(t,0,[2],"02"),r=o(t,0,[3],"02"),e=o(t,0,[4],"02"),s=o(t,0,[5],"02")}catch(t){throw console.log("EXCEPTION:"+t),"malformed PKCS#1/5 plain DSA private key"}this.setPrivateHex(n,i,r,e,s)},this.readPKCS8PrvKeyHex=function(t){var n,i,r,e,s=je.getVbyList;if(!1===je.isASN1HEX(t))throw"not ASN.1 hex string";try{n=s(t,0,[1,1,0],"02"),i=s(t,0,[1,1,1],"02"),r=s(t,0,[1,1,2],"02"),e=s(t,0,[2,0],"02")}catch(t){throw console.log("EXCEPTION:"+t),"malformed PKCS#8 plain DSA private key"}this.setPrivateHex(n,i,r,null,e)},this.readPKCS8PubKeyHex=function(t){var n,i,r,e,s=je.getVbyList;if(!1===je.isASN1HEX(t))throw"not ASN.1 hex string";try{n=s(t,0,[0,1,0],"02"),i=s(t,0,[0,1,1],"02"),r=s(t,0,[0,1,2],"02"),e=s(t,0,[1,0],"02")}catch(t){throw console.log("EXCEPTION:"+t),"malformed PKCS#8 DSA public key"}this.setPublicHex(n,i,r,e)},this.readCertPubKeyHex=function(t,n){var i,r,e,s;5!==n&&(n=6);var o=je.getVbyList;if(!1===je.isASN1HEX(t))throw"not ASN.1 hex string";try{i=o(t,0,[0,n,0,1,0],"02"),r=o(t,0,[0,n,0,1,1],"02"),e=o(t,0,[0,n,0,1,2],"02"),s=o(t,0,[0,n,1,0],"02")}catch(t){throw console.log("EXCEPTION:"+t),"malformed X.509 certificate DSA public key"}this.setPublicHex(i,r,e,s)}};var as=function(){var t=function(t,i,r){return n(Pr.AES,t,i,r)},n=function(t,n,i,r){var e=Pr.enc.Hex.parse(n),s=Pr.enc.Hex.parse(i),o=Pr.enc.Hex.parse(r),h={};h.key=s,h.iv=o,h.ciphertext=e;var a=t.decrypt(h,s,{iv:o});return Pr.enc.Hex.stringify(a)},i=function(t,n,i){return r(Pr.AES,t,n,i)},r=function(t,n,i,r){var e=Pr.enc.Hex.parse(n),s=Pr.enc.Hex.parse(i),o=Pr.enc.Hex.parse(r),h=t.encrypt(e,s,{iv:o}),a=Pr.enc.Hex.parse(h.toString());return Pr.enc.Base64.stringify(a)},e={"AES-256-CBC":{proc:t,eproc:i,keylen:32,ivlen:16},"AES-192-CBC":{proc:t,eproc:i,keylen:24,ivlen:16},"AES-128-CBC":{proc:t,eproc:i,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(t,i,r){return n(Pr.TripleDES,t,i,r)},eproc:function(t,n,i){return r(Pr.TripleDES,t,n,i)},keylen:24,ivlen:8},"DES-CBC":{proc:function(t,i,r){return n(Pr.DES,t,i,r)},eproc:function(t,n,i){return r(Pr.DES,t,n,i)},keylen:8,ivlen:8}},s=function(t){var n={},i=t.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));i&&(n.cipher=i[1],n.ivsalt=i[2]);var r=t.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(n.type=r[1]);var e=-1,s=0;-1!=t.indexOf("\r\n\r\n")&&(e=t.indexOf("\r\n\r\n"),s=2),-1!=t.indexOf("\n\n")&&(e=t.indexOf("\n\n"),s=1);var o=t.indexOf("-----END");if(-1!=e&&-1!=o){var h=t.substring(e+2*s,o-s);h=h.replace(/\s+/g,""),n.data=h}return n},o=function(t,n,i){for(var r=i.substring(0,16),s=Pr.enc.Hex.parse(r),o=Pr.enc.Utf8.parse(n),h=e[t].keylen+e[t].ivlen,a="",u=null;;){var c=Pr.algo.MD5.create();if(null!=u&&c.update(u),c.update(o),c.update(s),u=c.finalize(),(a+=Pr.enc.Hex.stringify(u)).length>=2*h)break}var f={};return f.keyhex=a.substr(0,2*e[t].keylen),f.ivhex=a.substr(2*e[t].keylen,2*e[t].ivlen),f},h=function(t,n,i,r){var s=Pr.enc.Base64.parse(t),o=Pr.enc.Hex.stringify(s);return(0,e[n].proc)(o,i,r)};return{version:"1.0.0",parsePKCS5PEM:function(t){return s(t)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(t,n,i){return o(t,n,i)},decryptKeyB64:function(t,n,i,r){return h(t,n,i,r)},getDecryptedKeyHex:function(t,n){var i=s(t),r=i.cipher,e=i.ivsalt,a=i.data,u=o(r,n,e);return h(a,r,u.keyhex,e)},getEncryptedPKCS5PEMFromPrvKeyHex:function(t,n,i,r,s){var h="";if(void 0!==r&&null!=r||(r="AES-256-CBC"),void 0===e[r])throw"KEYUTIL unsupported algorithm: "+r;void 0!==s&&null!=s||(s=function(t){var n=Pr.lib.WordArray.random(t);return Pr.enc.Hex.stringify(n)}(e[r].ivlen).toUpperCase());var a=function(t,n,i,r){return(0,e[n].eproc)(t,i,r)}(n,r,o(r,i,s).keyhex,s);return h="-----BEGIN "+t+" PRIVATE KEY-----\r\n",h+="Proc-Type: 4,ENCRYPTED\r\n",h+="DEK-Info: "+r+","+s+"\r\n",h+="\r\n",(h+=a.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+t+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(t){var n=je.getChildIdx,i=je.getV,r={},e=n(t,0);if(2!=e.length)throw"malformed format: SEQUENCE(0).items != 2: "+e.length;r.ciphertext=i(t,e[1]);var s=n(t,e[0]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+s.length;if("2a864886f70d01050d"!=i(t,s[0]))throw"this only supports pkcs5PBES2";var o=n(t,s[1]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+o.length;var h=n(t,o[1]);if(2!=h.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+h.length;if("2a864886f70d0307"!=i(t,h[0]))throw"this only supports TripleDES";r.encryptionSchemeAlg="TripleDES",r.encryptionSchemeIV=i(t,h[1]);var a=n(t,o[0]);if(2!=a.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+a.length;if("2a864886f70d01050c"!=i(t,a[0]))throw"this only supports pkcs5PBKDF2";var u=n(t,a[1]);if(u.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+u.length;r.pbkdf2Salt=i(t,u[0]);var c=i(t,u[1]);try{r.pbkdf2Iter=parseInt(c,16)}catch(t){throw"malformed format pbkdf2Iter: "+c}return r},getPBKDF2KeyHexFromParam:function(t,n){var i=Pr.enc.Hex.parse(t.pbkdf2Salt),r=Pr.PBKDF2(n,i,{keySize:6,iterations:t.pbkdf2Iter});return Pr.enc.Hex.stringify(r)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(t,n){var i=Ge(t,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(i),e=as.getPBKDF2KeyHexFromParam(r,n),s={};s.ciphertext=Pr.enc.Hex.parse(r.ciphertext);var o=Pr.enc.Hex.parse(e),h=Pr.enc.Hex.parse(r.encryptionSchemeIV),a=Pr.TripleDES.decrypt(s,o,{iv:h});return Pr.enc.Hex.stringify(a)},getKeyFromEncryptedPKCS8PEM:function(t,n){var i=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(t,n);return this.getKeyFromPlainPrivatePKCS8Hex(i)},parsePlainPrivatePKCS8Hex:function(t){var n=je,i=n.getChildIdx,r=n.getV,e={algparam:null};if("30"!=t.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var s=i(t,0);if(3!=s.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=t.substr(s[1],2))throw"malformed PKCS8 private key(code:003)";var o=i(t,s[1]);if(2!=o.length)throw"malformed PKCS8 private key(code:004)";if("06"!=t.substr(o[0],2))throw"malformed PKCS8 private key(code:005)";if(e.algoid=r(t,o[0]),"06"==t.substr(o[1],2)&&(e.algparam=r(t,o[1])),"04"!=t.substr(s[2],2))throw"malformed PKCS8 private key(code:006)";return e.keyidx=n.getVidx(t,s[2]),e},getKeyFromPlainPrivatePKCS8PEM:function(t){var n=Ge(t,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(n)},getKeyFromPlainPrivatePKCS8Hex:function(t){var n,i=this.parsePlainPrivatePKCS8Hex(t);if("2a864886f70d010101"==i.algoid)n=new Se;else if("2a8648ce380401"==i.algoid)n=new Ie.crypto.DSA;else{if("2a8648ce3d0201"!=i.algoid)throw"unsupported private key algorithm";n=new Ie.crypto.ECDSA}return n.readPKCS8PrvKeyHex(t),n},_getKeyFromPublicPKCS8Hex:function(t){var n,i=je.getVbyList(t,0,[0,0],"06");if("2a864886f70d010101"===i)n=new Se;else if("2a8648ce380401"===i)n=new Ie.crypto.DSA;else{if("2a8648ce3d0201"!==i)throw"unsupported PKCS#8 public key hex";n=new Ie.crypto.ECDSA}return n.readPKCS8PubKeyHex(t),n},parsePublicRawRSAKeyHex:function(t){var n=je.getChildIdx,i=je.getV,r={};if("30"!=t.substr(0,2))throw"malformed RSA key(code:001)";var e=n(t,0);if(2!=e.length)throw"malformed RSA key(code:002)";if("02"!=t.substr(e[0],2))throw"malformed RSA key(code:003)";if(r.n=i(t,e[0]),"02"!=t.substr(e[1],2))throw"malformed RSA key(code:004)";return r.e=i(t,e[1]),r},parsePublicPKCS8Hex:function(t){var n=je,i=n.getChildIdx,r=n.getV,e={algparam:null},s=i(t,0);if(2!=s.length)throw"outer DERSequence shall have 2 elements: "+s.length;var o=s[0];if("30"!=t.substr(o,2))throw"malformed PKCS8 public key(code:001)";var h=i(t,o);if(2!=h.length)throw"malformed PKCS8 public key(code:002)";if("06"!=t.substr(h[0],2))throw"malformed PKCS8 public key(code:003)";if(e.algoid=r(t,h[0]),"06"==t.substr(h[1],2)?e.algparam=r(t,h[1]):"30"==t.substr(h[1],2)&&(e.algparam={},e.algparam.p=n.getVbyList(t,h[1],[0],"02"),e.algparam.q=n.getVbyList(t,h[1],[1],"02"),e.algparam.g=n.getVbyList(t,h[1],[2],"02")),"03"!=t.substr(s[1],2))throw"malformed PKCS8 public key(code:004)";return e.key=r(t,s[1]).substr(2),e}}}();as.getKey=function(t,n,i){var r,e=(m=je).getChildIdx,s=m.getVbyList,o=Ie.crypto,h=o.ECDSA,a=o.DSA,u=Se,c=Ge,f=as;if(void 0!==u&&t instanceof u)return t;if(void 0!==h&&t instanceof h)return t;if(void 0!==a&&t instanceof a)return t;if(void 0!==t.curve&&void 0!==t.xy&&void 0===t.d)return new h({pub:t.xy,curve:t.curve});if(void 0!==t.curve&&void 0!==t.d)return new h({prv:t.d,curve:t.curve});if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(R=new u).setPublic(t.n,t.e),R;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.co&&void 0===t.qi)return(R=new u).setPrivateEx(t.n,t.e,t.d,t.p,t.q,t.dp,t.dq,t.co),R;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0===t.p)return(R=new u).setPrivate(t.n,t.e,t.d),R;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0===t.x)return(R=new a).setPublic(t.p,t.q,t.g,t.y),R;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0!==t.x)return(R=new a).setPrivate(t.p,t.q,t.g,t.y,t.x),R;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(R=new u).setPublic(ze(t.n),ze(t.e)),R;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.qi)return(R=new u).setPrivateEx(ze(t.n),ze(t.e),ze(t.d),ze(t.p),ze(t.q),ze(t.dp),ze(t.dq),ze(t.qi)),R;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d)return(R=new u).setPrivate(ze(t.n),ze(t.e),ze(t.d)),R;if("EC"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0===t.d){var l=(x=new h({curve:t.crv})).ecparams.keylen/4,d=("0000000000"+ze(t.x)).slice(-l),v=("0000000000"+ze(t.y)).slice(-l);return x.setPublicKeyHex(w="04"+d+v),x}if("EC"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0!==t.d){l=(x=new h({curve:t.crv})).ecparams.keylen/4;var w="04"+(d=("0000000000"+ze(t.x)).slice(-l))+(v=("0000000000"+ze(t.y)).slice(-l)),p=("0000000000"+ze(t.d)).slice(-l);return x.setPublicKeyHex(w),x.setPrivateKeyHex(p),x}if("pkcs5prv"===i){var g,C=t,m=je;if(9===(g=e(C,0)).length)(R=new u).readPKCS5PrvKeyHex(C);else if(6===g.length)(R=new a).readPKCS5PrvKeyHex(C);else{if(!(g.length>2&&"04"===C.substr(g[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(R=new h).readPKCS5PrvKeyHex(C)}return R}if("pkcs8prv"===i)return f.getKeyFromPlainPrivatePKCS8Hex(t);if("pkcs8pub"===i)return f._getKeyFromPublicPKCS8Hex(t);if("x509pub"===i)return ds.getPublicKeyFromCertHex(t);if(-1!=t.indexOf("-END CERTIFICATE-",0)||-1!=t.indexOf("-END X509 CERTIFICATE-",0)||-1!=t.indexOf("-END TRUSTED CERTIFICATE-",0))return ds.getPublicKeyFromCertPEM(t);if(-1!=t.indexOf("-END PUBLIC KEY-")){var F=Ge(t,"PUBLIC KEY");return f._getKeyFromPublicPKCS8Hex(F)}if(-1!=t.indexOf("-END RSA PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){var y=c(t,"RSA PRIVATE KEY");return f.getKey(y,null,"pkcs5prv")}if(-1!=t.indexOf("-END DSA PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){var b=s(r=c(t,"DSA PRIVATE KEY"),0,[1],"02"),E=s(r,0,[2],"02"),L=s(r,0,[3],"02"),S=s(r,0,[4],"02"),A=s(r,0,[5],"02");return(R=new a).setPrivate(new Zr(b,16),new Zr(E,16),new Zr(L,16),new Zr(S,16),new Zr(A,16)),R}if(-1!=t.indexOf("-END PRIVATE KEY-"))return f.getKeyFromPlainPrivatePKCS8PEM(t);if(-1!=t.indexOf("-END RSA PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var k=f.getDecryptedKeyHex(t,n),T=new Se;return T.readPKCS5PrvKeyHex(k),T}if(-1!=t.indexOf("-END EC PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var x,R=s(r=f.getDecryptedKeyHex(t,n),0,[1],"04"),I=s(r,0,[2,0],"06"),M=s(r,0,[3,0],"03").substr(2);if(void 0===Ie.crypto.OID.oidhex2name[I])throw"undefined OID(hex) in KJUR.crypto.OID: "+I;return(x=new h({curve:Ie.crypto.OID.oidhex2name[I]})).setPublicKeyHex(M),x.setPrivateKeyHex(R),x.isPublic=!1,x}if(-1!=t.indexOf("-END DSA PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED"))return b=s(r=f.getDecryptedKeyHex(t,n),0,[1],"02"),E=s(r,0,[2],"02"),L=s(r,0,[3],"02"),S=s(r,0,[4],"02"),A=s(r,0,[5],"02"),(R=new a).setPrivate(new Zr(b,16),new Zr(E,16),new Zr(L,16),new Zr(S,16),new Zr(A,16)),R;if(-1!=t.indexOf("-END ENCRYPTED PRIVATE KEY-"))return f.getKeyFromEncryptedPKCS8PEM(t,n);throw"not supported argument"},as.generateKeypair=function(t,n){if("RSA"==t){var i=n;(o=new Se).generate(i,"10001"),o.isPrivate=!0,o.isPublic=!0;var r=new Se,e=o.n.toString(16),s=o.e.toString(16);return r.setPublic(e,s),r.isPrivate=!1,r.isPublic=!0,(h={}).prvKeyObj=o,h.pubKeyObj=r,h}if("EC"==t){var o,h,a=n,u=new Ie.crypto.ECDSA({curve:a}).generateKeyPairHex();return(o=new Ie.crypto.ECDSA({curve:a})).setPublicKeyHex(u.ecpubhex),o.setPrivateKeyHex(u.ecprvhex),o.isPrivate=!0,o.isPublic=!1,(r=new Ie.crypto.ECDSA({curve:a})).setPublicKeyHex(u.ecpubhex),r.isPrivate=!1,r.isPublic=!0,(h={}).prvKeyObj=o,h.pubKeyObj=r,h}throw"unknown algorithm: "+t},as.getPEM=function(t,n,i,r,e,s){var o=Ie.asn1,h=o.DERObjectIdentifier,a=o.DERInteger,u=o.ASN1Util.newObject,c=Ie.crypto,f=c.DSA,l=c.ECDSA,d=Se;function v(t){return u({seq:[{int:0},{int:{bigint:t.n}},{int:t.e},{int:{bigint:t.d}},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.dmp1}},{int:{bigint:t.dmq1}},{int:{bigint:t.coeff}}]})}function w(t){return u({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:["a0",!0,{oid:{name:t.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]}]})}function p(t){return u({seq:[{int:0},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}},{int:{bigint:t.y}},{int:{bigint:t.x}}]})}if((void 0!==d&&t instanceof d||void 0!==f&&t instanceof f||void 0!==l&&t instanceof l)&&1==t.isPublic&&(void 0===n||"PKCS8PUB"==n))return Je(F=new(0,o.x509.SubjectPublicKeyInfo)(t).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==n&&void 0!==d&&t instanceof d&&(void 0===i||null==i)&&1==t.isPrivate)return Je(F=v(t).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==n&&void 0!==l&&t instanceof l&&(void 0===i||null==i)&&1==t.isPrivate){var g=new h({name:t.curveName}).getEncodedHex(),C=w(t).getEncodedHex(),m="";return(m+=Je(g,"EC PARAMETERS"))+Je(C,"EC PRIVATE KEY")}if("PKCS1PRV"==n&&void 0!==f&&t instanceof f&&(void 0===i||null==i)&&1==t.isPrivate)return Je(F=p(t).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==n&&void 0!==d&&t instanceof d&&void 0!==i&&null!=i&&1==t.isPrivate){var F=v(t).getEncodedHex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",F,i,r,s)}if("PKCS5PRV"==n&&void 0!==l&&t instanceof l&&void 0!==i&&null!=i&&1==t.isPrivate)return F=w(t).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",F,i,r,s);if("PKCS5PRV"==n&&void 0!==f&&t instanceof f&&void 0!==i&&null!=i&&1==t.isPrivate)return F=p(t).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",F,i,r,s);var y=function(t,n){var i=b(t,n);return new u({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:i.pbkdf2Salt}},{int:i.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:i.encryptionSchemeIV}}]}]}]},{octstr:{hex:i.ciphertext}}]}).getEncodedHex()},b=function(t,n){var i=Pr.lib.WordArray.random(8),r=Pr.lib.WordArray.random(8),e=Pr.PBKDF2(n,i,{keySize:6,iterations:100}),s=Pr.enc.Hex.parse(t),o=Pr.TripleDES.encrypt(s,e,{iv:r})+"",h={};return h.ciphertext=o,h.pbkdf2Salt=Pr.enc.Hex.stringify(i),h.pbkdf2Iter=100,h.encryptionSchemeAlg="DES-EDE3-CBC",h.encryptionSchemeIV=Pr.enc.Hex.stringify(r),h};if("PKCS8PRV"==n&&null!=d&&t instanceof d&&1==t.isPrivate){var E=v(t).getEncodedHex();return F=u({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:E}}]}).getEncodedHex(),void 0===i||null==i?Je(F,"PRIVATE KEY"):Je(C=y(F,i),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==n&&void 0!==l&&t instanceof l&&1==t.isPrivate)return E=new u({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]}]}).getEncodedHex(),F=u({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:t.curveName}}]},{octstr:{hex:E}}]}).getEncodedHex(),void 0===i||null==i?Je(F,"PRIVATE KEY"):Je(C=y(F,i),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==n&&void 0!==f&&t instanceof f&&1==t.isPrivate)return E=new a({bigint:t.x}).getEncodedHex(),F=u({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]}]},{octstr:{hex:E}}]}).getEncodedHex(),void 0===i||null==i?Je(F,"PRIVATE KEY"):Je(C=y(F,i),"ENCRYPTED PRIVATE KEY");throw"unsupported object nor format"},as.getKeyFromCSRPEM=function(t){var n=Ge(t,"CERTIFICATE REQUEST");return as.getKeyFromCSRHex(n)},as.getKeyFromCSRHex=function(t){var n=as.parseCSRHex(t);return as.getKey(n.p8pubkeyhex,null,"pkcs8pub")},as.parseCSRHex=function(t){var n=je.getChildIdx,i=je.getTLV,r={},e=t;if("30"!=e.substr(0,2))throw"malformed CSR(code:001)";var s=n(e,0);if(s.length<1)throw"malformed CSR(code:002)";if("30"!=e.substr(s[0],2))throw"malformed CSR(code:003)";var o=n(e,s[0]);if(o.length<3)throw"malformed CSR(code:004)";return r.p8pubkeyhex=i(e,o[2]),r},as.getJWKFromKey=function(t){var n={};if(t instanceof Se&&t.isPrivate)return n.kty="RSA",n.n=He(t.n.toString(16)),n.e=He(t.e.toString(16)),n.d=He(t.d.toString(16)),n.p=He(t.p.toString(16)),n.q=He(t.q.toString(16)),n.dp=He(t.dmp1.toString(16)),n.dq=He(t.dmq1.toString(16)),n.qi=He(t.coeff.toString(16)),n;if(t instanceof Se&&t.isPublic)return n.kty="RSA",n.n=He(t.n.toString(16)),n.e=He(t.e.toString(16)),n;if(t instanceof Ie.crypto.ECDSA&&t.isPrivate){if("P-256"!==(r=t.getShortNISTPCurveName())&&"P-384"!==r)throw"unsupported curve name for JWT: "+r;var i=t.getPublicKeyXYHex();return n.kty="EC",n.crv=r,n.x=He(i.x),n.y=He(i.y),n.d=He(t.prvKeyHex),n}if(t instanceof Ie.crypto.ECDSA&&t.isPublic){var r;if("P-256"!==(r=t.getShortNISTPCurveName())&&"P-384"!==r)throw"unsupported curve name for JWT: "+r;return i=t.getPublicKeyXYHex(),n.kty="EC",n.crv=r,n.x=He(i.x),n.y=He(i.y),n}throw"not supported key object"},Se.getPosArrayOfChildrenFromHex=function(t){return je.getChildIdx(t,0)},Se.getHexValueArrayOfChildrenFromHex=function(t){var n,i=je.getV,r=i(t,(n=Se.getPosArrayOfChildrenFromHex(t))[0]),e=i(t,n[1]),s=i(t,n[2]),o=i(t,n[3]),h=i(t,n[4]),a=i(t,n[5]),u=i(t,n[6]),c=i(t,n[7]),f=i(t,n[8]);return(n=new Array).push(r,e,s,o,h,a,u,c,f),n},Se.prototype.readPrivateKeyFromPEMString=function(t){var n=Ge(t),i=Se.getHexValueArrayOfChildrenFromHex(n);this.setPrivateEx(i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8])},Se.prototype.readPKCS5PrvKeyHex=function(t){var n=Se.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},Se.prototype.readPKCS8PrvKeyHex=function(t){var n,i,r,e,s,o,h,a,u=je.getVbyList;if(!1===je.isASN1HEX(t))throw"not ASN.1 hex string";try{n=u(t,0,[2,0,1],"02"),i=u(t,0,[2,0,2],"02"),r=u(t,0,[2,0,3],"02"),e=u(t,0,[2,0,4],"02"),s=u(t,0,[2,0,5],"02"),o=u(t,0,[2,0,6],"02"),h=u(t,0,[2,0,7],"02"),a=u(t,0,[2,0,8],"02")}catch(t){throw"malformed PKCS#8 plain RSA private key"}this.setPrivateEx(n,i,r,e,s,o,h,a)},Se.prototype.readPKCS5PubKeyHex=function(t){var n=je,i=n.getV;if(!1===n.isASN1HEX(t))throw"keyHex is not ASN.1 hex string";var r=n.getChildIdx(t,0);if(2!==r.length||"02"!==t.substr(r[0],2)||"02"!==t.substr(r[1],2))throw"wrong hex for PKCS#5 public key";var e=i(t,r[0]),s=i(t,r[1]);this.setPublic(e,s)},Se.prototype.readPKCS8PubKeyHex=function(t){var n=je;if(!1===n.isASN1HEX(t))throw"not ASN.1 hex string";if("06092a864886f70d010101"!==n.getTLVbyList(t,0,[0,0]))throw"not PKCS8 RSA public key";var i=n.getTLVbyList(t,0,[1,0]);this.readPKCS5PubKeyHex(i)},Se.prototype.readCertPubKeyHex=function(t){var n,i;(n=new ds).readCertHex(t),i=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(i)};var us=new RegExp("");function cs(t,n){for(var i="",r=n/4-t.length,e=0;e<r;e++)i+="0";return i+t}function fs(t,n,i){for(var r="",e=0;r.length<n;)r+=Ke(i(qe(t+String.fromCharCode.apply(String,[(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])))),e+=1;return r}function ls(t){for(var n in Ie.crypto.Util.DIGESTINFOHEAD){var i=Ie.crypto.Util.DIGESTINFOHEAD[n],r=i.length;if(t.substring(0,r)==i)return[n,t.substring(r)]}return[]}function ds(){var t=je,n=t.getChildIdx,i=t.getV,r=t.getTLV,e=t.getVbyList,s=t.getTLVbyList,o=t.getIdxbyList,h=t.getVidx,a=t.oidname,u=ds,c=Ge;this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==s(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return e(this.hex,0,[0,1+this.foffset],"02")},this.getSignatureAlgorithmField=function(){return a(e(this.hex,0,[0,2+this.foffset,0],"06"))},this.getIssuerHex=function(){return s(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return u.hex2dn(this.getIssuerHex())},this.getSubjectHex=function(){return s(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return u.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var t=e(this.hex,0,[0,4+this.foffset,0]);return t=t.replace(/(..)/g,"%$1"),decodeURIComponent(t)},this.getNotAfter=function(){var t=e(this.hex,0,[0,4+this.foffset,1]);return t=t.replace(/(..)/g,"%$1"),decodeURIComponent(t)},this.getPublicKeyHex=function(){return t.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return o(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var t=this.getPublicKeyIdx();return o(this.hex,t,[1,0],"30")},this.getPublicKey=function(){return as.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){return a(e(this.hex,0,[1,0],"06"))},this.getSignatureValueHex=function(){return e(this.hex,0,[2],"03",!0)},this.verifySignature=function(t){var n=this.getSignatureAlgorithmName(),i=this.getSignatureValueHex(),r=s(this.hex,0,[0],"30"),e=new Ie.crypto.Signature({alg:n});return e.init(t),e.updateHex(r),e.verify(i)},this.parseExt=function(){if(3!==this.version)return-1;var i=o(this.hex,0,[0,7,0],"30"),r=n(this.hex,i);this.aExtInfo=new Array;for(var s=0;s<r.length;s++){var a={critical:!1},u=0;3===n(this.hex,r[s]).length&&(a.critical=!0,u=1),a.oid=t.hextooidstr(e(this.hex,r[s],[0],"06"));var c=o(this.hex,r[s],[1+u]);a.vidx=h(this.hex,c),this.aExtInfo.push(a)}},this.getExtInfo=function(t){var n=this.aExtInfo,i=t;if(t.match(/^[0-9.]+$/)||(i=Ie.asn1.x509.OID.name2oid(t)),""!==i)for(var r=0;r<n.length;r++)if(n[r].oid===i)return n[r]},this.getExtBasicConstraints=function(){var t=this.getExtInfo("basicConstraints");if(void 0===t)return t;var n=i(this.hex,t.vidx);if(""===n)return{};if("0101ff"===n)return{cA:!0};if("0101ff02"===n.substr(0,8)){var r=i(n,6);return{cA:!0,pathLen:parseInt(r,16)}}throw"basicConstraints parse error"},this.getExtKeyUsageBin=function(){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";var n=i(this.hex,t.vidx);if(n.length%2!=0||n.length<=2)throw"malformed key usage value";var r=parseInt(n.substr(0,2)),e=parseInt(n.substr(2),16).toString(2);return e.substr(0,e.length-r)},this.getExtKeyUsageString=function(){for(var t=this.getExtKeyUsageBin(),n=new Array,i=0;i<t.length;i++)"1"==t.substr(i,1)&&n.push(ds.KEYUSAGE_NAME[i]);return n.join(",")},this.getExtSubjectKeyIdentifier=function(){var t=this.getExtInfo("subjectKeyIdentifier");return void 0===t?t:i(this.hex,t.vidx)},this.getExtAuthorityKeyIdentifier=function(){var t=this.getExtInfo("authorityKeyIdentifier");if(void 0===t)return t;for(var e={},s=r(this.hex,t.vidx),o=n(s,0),h=0;h<o.length;h++)"80"===s.substr(o[h],2)&&(e.kid=i(s,o[h]));return e},this.getExtExtKeyUsageName=function(){var t=this.getExtInfo("extKeyUsage");if(void 0===t)return t;var e=new Array,s=r(this.hex,t.vidx);if(""===s)return e;for(var o=n(s,0),h=0;h<o.length;h++)e.push(a(i(s,o[h])));return e},this.getExtSubjectAltName=function(){for(var t=this.getExtSubjectAltName2(),n=new Array,i=0;i<t.length;i++)"DNS"===t[i][0]&&n.push(t[i][1]);return n},this.getExtSubjectAltName2=function(){var t,e,s,o=this.getExtInfo("subjectAltName");if(void 0===o)return o;for(var h=new Array,a=r(this.hex,o.vidx),u=n(a,0),c=0;c<u.length;c++)s=a.substr(u[c],2),t=i(a,u[c]),"81"===s&&(e=$e(t),h.push(["MAIL",e])),"82"===s&&(e=$e(t),h.push(["DNS",e])),"84"===s&&(e=ds.hex2dn(t,0),h.push(["DN",e])),"86"===s&&(e=$e(t),h.push(["URI",e])),"87"===s&&(e=es(t),h.push(["IP",e]));return h},this.getExtCRLDistributionPointsURI=function(){var t=this.getExtInfo("cRLDistributionPoints");if(void 0===t)return t;for(var i=new Array,r=n(this.hex,t.vidx),s=0;s<r.length;s++)try{var o=$e(e(this.hex,r[s],[0,0,0],"86"));i.push(o)}catch(t){}return i},this.getExtAIAInfo=function(){var t=this.getExtInfo("authorityInfoAccess");if(void 0===t)return t;for(var i={ocsp:[],caissuer:[]},r=n(this.hex,t.vidx),s=0;s<r.length;s++){var o=e(this.hex,r[s],[0],"06"),h=e(this.hex,r[s],[1],"86");"2b06010505073001"===o&&i.ocsp.push($e(h)),"2b06010505073002"===o&&i.caissuer.push($e(h))}return i},this.getExtCertificatePolicies=function(){var t=this.getExtInfo("certificatePolicies");if(void 0===t)return t;for(var s=r(this.hex,t.vidx),o=[],h=n(s,0),u=0;u<h.length;u++){var c={},f=n(s,h[u]);if(c.id=a(i(s,f[0])),2===f.length)for(var l=n(s,f[1]),d=0;d<l.length;d++){var v=e(s,l[d],[0],"06");"2b06010505070201"===v?c.cps=$e(e(s,l[d],[1])):"2b06010505070202"===v&&(c.unotice=$e(e(s,l[d],[1,0])))}o.push(c)}return o},this.readCertPEM=function(t){this.readCertHex(c(t))},this.readCertHex=function(t){this.hex=t,this.getVersion();try{o(this.hex,0,[0,7],"a3"),this.parseExt()}catch(t){}},this.getInfo=function(){var t,n,i;if(t="Basic Fields\n",t+="  serial number: "+this.getSerialNumberHex()+"\n",t+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",t+="  issuer: "+this.getIssuerString()+"\n",t+="  notBefore: "+this.getNotBefore()+"\n",t+="  notAfter: "+this.getNotAfter()+"\n",t+="  subject: "+this.getSubjectString()+"\n",t+="  subject public key info: \n",t+="    key algorithm: "+(n=this.getPublicKey()).type+"\n","RSA"===n.type&&(t+="    n="+os(n.n.toString(16)).substr(0,16)+"...\n",t+="    e="+os(n.e.toString(16))+"\n"),null!=(i=this.aExtInfo)){t+="X509v3 Extensions:\n";for(var r=0;r<i.length;r++){var e=i[r],s=Ie.asn1.x509.OID.oid2name(e.oid);""===s&&(s=e.oid);var o="";if(!0===e.critical&&(o="CRITICAL"),t+="  "+s+" "+o+":\n","basicConstraints"===s){var h=this.getExtBasicConstraints();void 0===h.cA?t+="    {}\n":(t+="    cA=true",void 0!==h.pathLen&&(t+=", pathLen="+h.pathLen),t+="\n")}else if("keyUsage"===s)t+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===s)t+="    "+this.getExtSubjectKeyIdentifier()+"\n";else if("authorityKeyIdentifier"===s){var a=this.getExtAuthorityKeyIdentifier();void 0!==a.kid&&(t+="    kid="+a.kid+"\n")}else if("extKeyUsage"===s)t+="    "+this.getExtExtKeyUsageName().join(", ")+"\n";else if("subjectAltName"===s)t+="    "+this.getExtSubjectAltName2()+"\n";else if("cRLDistributionPoints"===s)t+="    "+this.getExtCRLDistributionPointsURI()+"\n";else if("authorityInfoAccess"===s){var u=this.getExtAIAInfo();void 0!==u.ocsp&&(t+="    ocsp: "+u.ocsp.join(",")+"\n"),void 0!==u.caissuer&&(t+="    caissuer: "+u.caissuer.join(",")+"\n")}else if("certificatePolicies"===s)for(var c=this.getExtCertificatePolicies(),f=0;f<c.length;f++)void 0!==c[f].id&&(t+="    policy oid: "+c[f].id+"\n"),void 0!==c[f].cps&&(t+="    cps: "+c[f].cps+"\n")}}return(t+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"}}us.compile("[^0-9a-f]","gi"),Se.prototype.sign=function(t,n){var i=Ie.crypto.Util.hashString(t,n);return this.signWithMessageHash(i,n)},Se.prototype.signWithMessageHash=function(t,n){var i=Ee(Ie.crypto.Util.getPaddedDigestInfoHex(t,n,this.n.bitLength()),16);return cs(this.doPrivate(i).toString(16),this.n.bitLength())},Se.prototype.signPSS=function(t,n,i){var r,e=(r=qe(t),Ie.crypto.Util.hashHex(r,n));return void 0===i&&(i=-1),this.signWithMessageHashPSS(e,n,i)},Se.prototype.signWithMessageHashPSS=function(t,n,i){var r,e=Ke(t),s=e.length,o=this.n.bitLength()-1,h=Math.ceil(o/8),a=function(t){return Ie.crypto.Util.hashHex(t,n)};if(-1===i||void 0===i)i=s;else if(-2===i)i=h-s-2;else if(i<-2)throw"invalid salt length";if(h<s+i+2)throw"data too long";var u="";i>0&&(u=new Array(i),(new be).nextBytes(u),u=String.fromCharCode.apply(String,u));var c=Ke(a(qe("\0\0\0\0\0\0\0\0"+e+u))),f=[];for(r=0;r<h-i-s-2;r+=1)f[r]=0;var l=String.fromCharCode.apply(String,f)+""+u,d=fs(c,l.length,a),v=[];for(r=0;r<l.length;r+=1)v[r]=l.charCodeAt(r)^d.charCodeAt(r);for(v[0]&=~(65280>>8*h-o&255),r=0;r<s;r++)v.push(c.charCodeAt(r));return v.push(188),cs(this.doPrivate(new Zr(v)).toString(16),this.n.bitLength())},Se.prototype.verify=function(t,n){var i=Ee(n=(n=n.replace(us,"")).replace(/[ \n]+/g,""),16);if(i.bitLength()>this.n.bitLength())return 0;var r=ls(this.doPublic(i).toString(16).replace(/^1f+00/,""));if(0==r.length)return!1;var e=r[0];return r[1]==function(t){return Ie.crypto.Util.hashString(t,e)}(t)},Se.prototype.verifyWithMessageHash=function(t,n){var i=Ee(n=(n=n.replace(us,"")).replace(/[ \n]+/g,""),16);if(i.bitLength()>this.n.bitLength())return 0;var r=ls(this.doPublic(i).toString(16).replace(/^1f+00/,""));return 0!=r.length&&r[1]==t},Se.prototype.verifyPSS=function(t,n,i,r){var e,s=(e=qe(t),Ie.crypto.Util.hashHex(e,i));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(s,n,i,r)},Se.prototype.verifyWithMessageHashPSS=function(t,n,i,r){var e=new Zr(n,16);if(e.bitLength()>this.n.bitLength())return!1;var s,o=function(t){return Ie.crypto.Util.hashHex(t,i)},h=Ke(t),a=h.length,u=this.n.bitLength()-1,c=Math.ceil(u/8);if(-1===r||void 0===r)r=a;else if(-2===r)r=c-a-2;else if(r<-2)throw"invalid salt length";if(c<a+r+2)throw"data too long";var f=this.doPublic(e).toByteArray();for(s=0;s<f.length;s+=1)f[s]&=255;for(;f.length<c;)f.unshift(0);if(188!==f[c-1])throw"encoded message does not end in 0xbc";var l=(f=String.fromCharCode.apply(String,f)).substr(0,c-a-1),d=f.substr(l.length,a),v=65280>>8*c-u&255;if(0!=(l.charCodeAt(0)&v))throw"bits beyond keysize not zero";var w=fs(d,l.length,o),p=[];for(s=0;s<l.length;s+=1)p[s]=l.charCodeAt(s)^w.charCodeAt(s);p[0]&=~v;var g=c-a-r-2;for(s=0;s<g;s+=1)if(0!==p[s])throw"leftmost octets not zero";if(1!==p[g])throw"0x01 marker not found";return d===Ke(o(qe("\0\0\0\0\0\0\0\0"+h+String.fromCharCode.apply(String,p.slice(-r)))))},Se.SALT_LEN_HLEN=-1,Se.SALT_LEN_MAX=-2,Se.SALT_LEN_RECOVER=-2,ds.hex2dn=function(t,n){if(void 0===n&&(n=0),"30"!==t.substr(n,2))throw"malformed DN";for(var i=new Array,r=je.getChildIdx(t,n),e=0;e<r.length;e++)i.push(ds.hex2rdn(t,r[e]));return"/"+(i=i.map((function(t){return t.replace("/","\\/")}))).join("/")},ds.hex2rdn=function(t,n){if(void 0===n&&(n=0),"31"!==t.substr(n,2))throw"malformed RDN";for(var i=new Array,r=je.getChildIdx(t,n),e=0;e<r.length;e++)i.push(ds.hex2attrTypeValue(t,r[e]));return(i=i.map((function(t){return t.replace("+","\\+")}))).join("+")},ds.hex2attrTypeValue=function(t,n){var i=je,r=i.getV;if(void 0===n&&(n=0),"30"!==t.substr(n,2))throw"malformed attribute type and value";var e=i.getChildIdx(t,n);2!==e.length||t.substr(e[0],2);var s=r(t,e[0]),o=Ie.asn1.ASN1Util.oidHexToInt(s);return Ie.asn1.x509.OID.oid2atype(o)+"="+Ke(r(t,e[1]))},ds.getPublicKeyFromCertHex=function(t){var n=new ds;return n.readCertHex(t),n.getPublicKey()},ds.getPublicKeyFromCertPEM=function(t){var n=new ds;return n.readCertPEM(t),n.getPublicKey()},ds.getPublicKeyInfoPropOfCertPEM=function(t){var n,i,r=je.getVbyList,e={algparam:null};return(n=new ds).readCertPEM(t),i=n.getPublicKeyHex(),e.keyhex=r(i,0,[1],"03").substr(2),e.algoid=r(i,0,[0,0],"06"),"2a8648ce3d0201"===e.algoid&&(e.algparam=r(i,0,[0,1],"06")),e},ds.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==Ie&&Ie||(Ie={}),void 0!==Ie.jws&&Ie.jws||(Ie.jws={}),Ie.jws.JWS=function(){var t=Ie.jws.JWS.isSafeJSONString;this.parseJWS=function(n,i){if(void 0===this.parsedJWS||!i&&void 0===this.parsedJWS.sigvalH){var r=n.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var e=r[1],s=r[2],o=r[3],h=e+"."+s;if(this.parsedJWS={},this.parsedJWS.headB64U=e,this.parsedJWS.payloadB64U=s,this.parsedJWS.sigvalB64U=o,this.parsedJWS.si=h,!i){var a=ze(o),u=Ee(a,16);this.parsedJWS.sigvalH=a,this.parsedJWS.sigvalBI=u}var c=De(e),f=De(s);if(this.parsedJWS.headS=c,this.parsedJWS.payloadS=f,!t(c,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+c}}},Ie.jws.JWS.sign=function(t,n,i,r,e){var s,o,h,a=Ie.jws.JWS,u=a.readSafeJSONString,c=a.isSafeJSONString,f=Ie.crypto,l=f.Mac,d=f.Signature,v=JSON;if("string"!=typeof n&&"object"!=typeof n)throw"spHeader must be JSON string or object: "+n;if("object"==typeof n&&(s=v.stringify(o=n)),"string"==typeof n){if(!c(s=n))throw"JWS Head is not safe JSON string: "+s;o=u(s)}if(h=i,"object"==typeof i&&(h=v.stringify(i)),""!=t&&null!=t||void 0===o.alg||(t=o.alg),""!=t&&null!=t&&void 0===o.alg&&(o.alg=t,s=v.stringify(o)),t!==o.alg)throw"alg and sHeader.alg doesn't match: "+t+"!="+o.alg;var w=null;if(void 0===a.jwsalg2sigalg[t])throw"unsupported alg name: "+t;w=a.jwsalg2sigalg[t];var p=Me(s)+"."+Me(h),g="";if("Hmac"==w.substr(0,4)){if(void 0===r)throw"mac key shall be specified for HS* alg";var C=new l({alg:w,prov:"cryptojs",pass:r});C.updateString(p),g=C.doFinal()}else{var m;-1!=w.indexOf("withECDSA")?((m=new d({alg:w})).init(r,e),m.updateString(p),hASN1Sig=m.sign(),g=Ie.crypto.ECDSA.asn1SigToConcatSig(hASN1Sig)):"none"!=w&&((m=new d({alg:w})).init(r,e),m.updateString(p),g=m.sign())}return p+"."+He(g)},Ie.jws.JWS.verify=function(t,n,i){var r,e=Ie.jws.JWS,s=e.readSafeJSONString,o=Ie.crypto,h=o.ECDSA,a=o.Mac,u=o.Signature;r=Se;var c=t.split(".");if(3!==c.length)return!1;var f,l=c[0]+"."+c[1],d=ze(c[2]),v=s(De(c[0])),w=null;if(void 0===v.alg)throw"algorithm not specified in header";if(f=(w=v.alg).substr(0,2),null!=i&&"[object Array]"===Object.prototype.toString.call(i)&&i.length>0&&-1==(":"+i.join(":")+":").indexOf(":"+w+":"))throw"algorithm '"+w+"' not accepted in the list";if("none"!=w&&null===n)throw"key shall be specified to verify.";if("string"==typeof n&&-1!=n.indexOf("-----BEGIN ")&&(n=as.getKey(n)),!("RS"!=f&&"PS"!=f||n instanceof r))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==f&&!(n instanceof h))throw"key shall be a ECDSA obj for ES* algs";var p=null;if(void 0===e.jwsalg2sigalg[v.alg])throw"unsupported alg name: "+w;if("none"==(p=e.jwsalg2sigalg[w]))throw"not supported";if("Hmac"==p.substr(0,4)){if(void 0===n)throw"hexadecimal key shall be specified for HMAC";var g=new a({alg:p,pass:n});return g.updateString(l),d==g.doFinal()}if(-1!=p.indexOf("withECDSA")){var C,m=null;try{m=h.concatSigToASN1Sig(d)}catch(t){return!1}return(C=new u({alg:p})).init(n),C.updateString(l),C.verify(m)}return(C=new u({alg:p})).init(n),C.updateString(l),C.verify(d)},Ie.jws.JWS.parse=function(t){var n,i,r=t.split("."),e={};if(2!=r.length&&3!=r.length)throw"malformed sJWS: wrong number of '.' splitted elements";return n=r[1],3==r.length&&(i=r[2]),e.headerObj=Ie.jws.JWS.readSafeJSONString(De(r[0])),e.payloadObj=Ie.jws.JWS.readSafeJSONString(De(n)),e.headerPP=JSON.stringify(e.headerObj,null,"  "),e.payloadPP=null==e.payloadObj?De(n):JSON.stringify(e.payloadObj,null,"  "),void 0!==i&&(e.sigHex=ze(i)),e},Ie.jws.JWS.verifyJWT=function(t,n,i){var r=Ie.jws,e=r.JWS,s=e.readSafeJSONString,o=e.inArray,h=e.includedArray,a=t.split("."),u=a[0],c=a[1],f=(ze(a[2]),s(De(u))),l=s(De(c));if(void 0===f.alg)return!1;if(void 0===i.alg)throw"acceptField.alg shall be specified";if(!o(f.alg,i.alg))return!1;if(void 0!==l.iss&&"object"==typeof i.iss&&!o(l.iss,i.iss))return!1;if(void 0!==l.sub&&"object"==typeof i.sub&&!o(l.sub,i.sub))return!1;if(void 0!==l.aud&&"object"==typeof i.aud)if("string"==typeof l.aud){if(!o(l.aud,i.aud))return!1}else if("object"==typeof l.aud&&!h(l.aud,i.aud))return!1;var d=r.IntDate.getNow();return void 0!==i.verifyAt&&"number"==typeof i.verifyAt&&(d=i.verifyAt),void 0!==i.gracePeriod&&"number"==typeof i.gracePeriod||(i.gracePeriod=0),!(void 0!==l.exp&&"number"==typeof l.exp&&l.exp+i.gracePeriod<d||void 0!==l.nbf&&"number"==typeof l.nbf&&d<l.nbf-i.gracePeriod||void 0!==l.iat&&"number"==typeof l.iat&&d<l.iat-i.gracePeriod||void 0!==l.jti&&void 0!==i.jti&&l.jti!==i.jti||!e.verify(t,n,i.alg))},Ie.jws.JWS.includedArray=function(t,n){var i=Ie.jws.JWS.inArray;if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var r=0;r<t.length;r++)if(!i(t[r],n))return!1;return!0},Ie.jws.JWS.inArray=function(t,n){if(null===n)return!1;if("object"!=typeof n)return!1;if("number"!=typeof n.length)return!1;for(var i=0;i<n.length;i++)if(n[i]==t)return!0;return!1},Ie.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},Ie.jws.JWS.isSafeJSONString=function(t,n,i){var r=null;try{return"object"!=typeof(r=Re(t))?0:r.constructor===Array?0:(n&&(n[i]=r),1)}catch(t){return 0}},Ie.jws.JWS.readSafeJSONString=function(t){var n=null;try{return"object"!=typeof(n=Re(t))?null:n.constructor===Array?null:n}catch(t){return null}},Ie.jws.JWS.getEncodedSignatureValueFromJWS=function(t){var n=t.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==n)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return n[1]},Ie.jws.JWS.getJWKthumbprint=function(t){if("RSA"!==t.kty&&"EC"!==t.kty&&"oct"!==t.kty)throw"unsupported algorithm for JWK Thumprint";var n="{";if("RSA"===t.kty){if("string"!=typeof t.n||"string"!=typeof t.e)throw"wrong n and e value for RSA key";n+='"e":"'+t.e+'",',n+='"kty":"'+t.kty+'",',n+='"n":"'+t.n+'"}'}else if("EC"===t.kty){if("string"!=typeof t.crv||"string"!=typeof t.x||"string"!=typeof t.y)throw"wrong crv, x and y value for EC key";n+='"crv":"'+t.crv+'",',n+='"kty":"'+t.kty+'",',n+='"x":"'+t.x+'",',n+='"y":"'+t.y+'"}'}else if("oct"===t.kty){if("string"!=typeof t.k)throw"wrong k value for oct(symmetric) key";n+='"kty":"'+t.kty+'",',n+='"k":"'+t.k+'"}'}var i=qe(n);return He(Ie.crypto.Util.hashHex(i,"sha256"))},Ie.jws.IntDate={},Ie.jws.IntDate.get=function(t){var n=Ie.jws.IntDate,i=n.getNow,r=n.getZulu;if("now"==t)return i();if("now + 1hour"==t)return i()+3600;if("now + 1day"==t)return i()+86400;if("now + 1month"==t)return i()+2592e3;if("now + 1year"==t)return i()+31536e3;if(t.match(/Z$/))return r(t);if(t.match(/^[0-9]+$/))return parseInt(t);throw"unsupported format: "+t},Ie.jws.IntDate.getZulu=function(t){return Qe(t)},Ie.jws.IntDate.getNow=function(){return~~(new Date/1e3)},Ie.jws.IntDate.intDate2UTCString=function(t){return new Date(1e3*t).toUTCString()},Ie.jws.IntDate.intDate2Zulu=function(t){var n=new Date(1e3*t);return("0000"+n.getUTCFullYear()).slice(-4)+("00"+(n.getUTCMonth()+1)).slice(-2)+("00"+n.getUTCDate()).slice(-2)+("00"+n.getUTCHours()).slice(-2)+("00"+n.getUTCMinutes()).slice(-2)+("00"+n.getUTCSeconds()).slice(-2)+"Z"},void 0!==Ie&&Ie||(Ie={}),void 0!==Ie.jws&&Ie.jws||(Ie.jws={}),Ie.jws.JWSJS=function(){var t=Ie.jws.JWS,n=t.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(t){this.init();var n=t.split(".");if(3!=n.length)throw"malformed input JWS";this.aHeader.push(n[0]),this.sPayload=n[1],this.aSignature.push(n[2])},this.addSignature=function(t,n,i,r){if(null==this.sPayload)throw"there's no JSON-JS signature to add.";var e=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var s=Ie.jws.JWS.sign(t,n,this.sPayload,i,r).split(".");this.aHeader.push(s[0]),this.aSignature.push(s[2])}catch(t){throw this.aHeader.length>e&&this.aHeader.pop(),this.aSignature.length>e&&this.aSignature.pop(),"addSignature failed: "+t}},this.verifyAll=function(t){if(this.aHeader.length!==t.length||this.aSignature.length!==t.length)return!1;for(var n=0;n<t.length;n++){var i=t[n];if(2!==i.length)return!1;if(!1===this.verifyNth(n,i[0],i[1]))return!1}return!0},this.verifyNth=function(n,i,r){if(this.aHeader.length<=n||this.aSignature.length<=n)return!1;var e=this.aHeader[n]+"."+this.sPayload+"."+this.aSignature[n],s=!1;try{s=t.verify(e,i,r)}catch(t){return!1}return s},this.readJWSJS=function(t){if("string"==typeof t){var i=n(t);if(null==i)throw"argument is not safe JSON object string";this.aHeader=i.headers,this.sPayload=i.payload,this.aSignature=i.signatures}else try{if(!(t.headers.length>0))throw"malformed header";if(this.aHeader=t.headers,"string"!=typeof t.payload)throw"malformed signatures";if(this.sPayload=t.payload,!(t.signatures.length>0))throw"malformed signatures";this.aSignatures=t.signatures}catch(t){throw"malformed JWS-JS JSON object: "+t}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}};var vs,ws={SecureRandom:be,rng_seed_time:ge,BigInteger:Zr,RSAKey:Se,ECDSA:Ie.crypto.ECDSA,DSA:Ie.crypto.DSA,Signature:Ie.crypto.Signature,MessageDigest:Ie.crypto.MessageDigest,Mac:Ie.crypto.Mac,Cipher:Ie.crypto.Cipher,KEYUTIL:as,ASN1HEX:je,X509:ds,CryptoJS:Pr,b64tohex:Hr,b64toBA:zr,stoBA:Be,BAtos:_e,BAtohex:Pe,stohex:Ne,stob64:function(t){return Ur(Ne(t))},stob64u:function(t){return Oe(Ur(Ne(t)))},b64utos:function(t){return _e(zr(Ue(t)))},b64tob64u:Oe,b64utob64:Ue,hex2b64:Ur,hextob64u:He,b64utohex:ze,utf8tob64u:Me,b64utoutf8:De,utf8tob64:function(t){return Ur(ts(ss(t)))},b64toutf8:function(t){return decodeURIComponent(ns(Hr(t)))},utf8tohex:Ze,hextoutf8:$e,hextorstr:Ke,rstrtohex:qe,hextob64:Ve,hextob64nl:We,b64nltohex:Ye,hextopem:Je,pemtohex:Ge,hextoArrayBuffer:function(t){if(t.length%2!=0)throw"input is not even length";if(null==t.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var n=new ArrayBuffer(t.length/2),i=new DataView(n),r=0;r<t.length/2;r++)i.setUint8(r,parseInt(t.substr(2*r,2),16));return n},ArrayBuffertohex:function(t){for(var n="",i=new DataView(t),r=0;r<t.byteLength;r++)n+=("00"+i.getUint8(r).toString(16)).slice(-2);return n},zulutomsec:Xe,zulutosec:Qe,zulutodate:function(t){return new Date(Xe(t))},datetozulu:function(t,n,i){var r,e=t.getUTCFullYear();if(n){if(e<1950||2049<e)throw"not proper year for UTCTime: "+e;r=(""+e).slice(-2)}else r=("000"+e).slice(-4);if(r+=("0"+(t.getUTCMonth()+1)).slice(-2),r+=("0"+t.getUTCDate()).slice(-2),r+=("0"+t.getUTCHours()).slice(-2),r+=("0"+t.getUTCMinutes()).slice(-2),r+=("0"+t.getUTCSeconds()).slice(-2),i){var s=t.getUTCMilliseconds();0!==s&&(r+="."+(s=(s=("00"+s).slice(-3)).replace(/0+$/g,"")))}return r+"Z"},uricmptohex:ts,hextouricmp:ns,ipv6tohex:is,hextoipv6:rs,hextoip:es,iptohex:function(t){var n="malformed IP address";if(!(t=t.toLowerCase(t)).match(/^[0-9.]+$/)){if(t.match(/^[0-9a-f:]+$/)&&-1!==t.indexOf(":"))return is(t);throw n}var i=t.split(".");if(4!==i.length)throw n;var r="";try{for(var e=0;e<4;e++)r+=("0"+parseInt(i[e]).toString(16)).slice(-2);return r}catch(t){throw n}},encodeURIComponentAll:ss,newline_toUnix:function(t){return t.replace(/\r\n/gm,"\n")},newline_toDos:function(t){return(t=t.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},hextoposhex:os,intarystrtohex:hs,strdiffidx:function(t,n){var i=t.length;t.length>n.length&&(i=n.length);for(var r=0;r<i;r++)if(t.charCodeAt(r)!=n.charCodeAt(r))return r;return t.length!=n.length?i:-1},KJUR:Ie,crypto:Ie.crypto,asn1:Ie.asn1,jws:Ie.jws,lang:Ie.lang};!function(t){function n(t,n){kr.set(t,n,{expires:24,path:"/",domain:".crossroads.net"})}t.getCookie=function(t){return kr.get(t)},t.deleteCookie=function(t){return kr.remove(t,{path:"/",domain:".crossroads.net"})},t.setCookie=n,t.setNetlifyJWT=function(){const t=JSON.stringify({alg:"HS256",typ:"JWT"});var i=new Date;i.setHours(i.getHours()+24);const r=JSON.stringify({app_metadata:{authorization:{roles:["user"]}},exp:Math.floor(i.getTime()/1e3)});n("nf_jwt",ws.jws.JWS.sign("HS256",t,r,"netlifySecretThatsNotASecret"))}}(vs||(vs={}));function ps(t){this.message=t}(ps.prototype=new Error).name="InvalidCharacterError";var gs="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(t){var n=String(t).replace(/=+$/,"");if(n.length%4==1)throw new ps("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,r,e=0,s=0,o="";r=n.charAt(s++);~r&&(i=e%4?64*i+r:r,e++%4)?o+=String.fromCharCode(255&i>>(-2*e&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return o};function Cs(t){this.message=t}(Cs.prototype=new Error).name="InvalidTokenError";var ms=function(t,n){if("string"!=typeof t)throw new Cs("Invalid token specified");var i=!0===(n=n||{}).header?0:1;try{return JSON.parse(function(t){var n=t.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(gs(t).replace(/(.)/g,(function(t,n){var i=n.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i})))}(n)}catch(t){return gs(n)}}(t.split(".")[i]))}catch(t){throw new Cs("Invalid token specified: "+t.message)}};ms.InvalidTokenError=Cs;class Fs{constructor(t,n,i){this.accessTokenCookie=t,this.refreshTokenCookie=n,this.issuer=i}authenticated(){let t=vs.getCookie(this.accessTokenCookie),n=vs.getCookie(this.refreshTokenCookie);if(t){var i=ms(t);return Date.now()<=1e3*i.exp?Oi(Ar.From({access_token:{accessToken:t},refresh_token:n})):nr(this.authenticate(t,n))}return Oi(null)}async authenticate(t,n){try{var i=await J.get(this.issuer,{headers:{Authorization:t,RefreshToken:n}});return(t=i.headers.sessionid)?(vs.setCookie(this.refreshTokenCookie,n=i.headers.refreshtoken),vs.setCookie(this.accessTokenCookie,t),Ar.From({access_token:{accessToken:t},refresh_token:n})):null}catch(t){return null}}signOut(){return vs.getCookie(this.accessTokenCookie)?(vs.deleteCookie(this.accessTokenCookie),vs.deleteCookie(this.refreshTokenCookie),Oi(!0)):Oi(!1)}}class ys{constructor(t){this.on=t}Error(t,n){this.on&&(null!=n?console.error(`CRDS-OKTA-AUTH: ${t}`,n):console.error(`CRDS-OKTA-AUTH: ${t}`))}Warn(t,n){this.on&&(null!=n?console.warn(`CRDS-OKTA-AUTH: ${t}`,n):console.warn(`CRDS-OKTA-AUTH: ${t}`))}Info(t,n){this.on&&(null!=n?console.info(`CRDS-OKTA-AUTH: ${t}`,n):console.info(`CRDS-OKTA-AUTH: ${t}`))}Log(t,n){this.on&&(null!=n?console.log(`CRDS-OKTA-AUTH: ${t}`,n):console.log(`CRDS-OKTA-AUTH: ${t}`))}}var bs=o((function(t,n){var i=function(t){function n(){this.fetch=!1,this.DOMException=t.DOMException}return n.prototype=t,new n}("undefined"!=typeof self?self:u);!function(t){!function(n){var i={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(i.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],e=ArrayBuffer.isView||function(t){return t&&r.indexOf(Object.prototype.toString.call(t))>-1};function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function o(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return i.iterable&&(n[Symbol.iterator]=function(){return n}),n}function a(t){this.map={},t instanceof a?t.forEach((function(t,n){this.append(n,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(n){this.append(n,t[n])}),this)}function u(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function c(t){return new Promise((function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}}))}function f(t){var n=new FileReader,i=c(n);return n.readAsArrayBuffer(t),i}function l(t){if(t.slice)return t.slice(0);var n=new Uint8Array(t.byteLength);return n.set(new Uint8Array(t)),n.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(t){var n;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:i.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():i.arrayBuffer&&i.blob&&(n=t)&&DataView.prototype.isPrototypeOf(n)?(this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||e(t))?this._bodyArrayBuffer=l(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var t,n,i,r=u(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,i=c(n=new FileReader),n.readAsText(t),i;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var n=new Uint8Array(t),i=new Array(n.length),r=0;r<n.length;r++)i[r]=String.fromCharCode(n[r]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}a.prototype.append=function(t,n){t=s(t),n=o(n);var i=this.map[t];this.map[t]=i?i+", "+n:n},a.prototype.delete=function(t){delete this.map[s(t)]},a.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},a.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},a.prototype.set=function(t,n){this.map[s(t)]=o(n)},a.prototype.forEach=function(t,n){for(var i in this.map)this.map.hasOwnProperty(i)&&t.call(n,this.map[i],i,this)},a.prototype.keys=function(){var t=[];return this.forEach((function(n,i){t.push(i)})),h(t)},a.prototype.values=function(){var t=[];return this.forEach((function(n){t.push(n)})),h(t)},a.prototype.entries=function(){var t=[];return this.forEach((function(n,i){t.push([i,n])})),h(t)},i.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,n){var i,r,e=(n=n||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,n.headers||(this.headers=new a(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,e||null==t._bodyInit||(e=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=n.credentials||this.credentials||"same-origin",!n.headers&&this.headers||(this.headers=new a(n.headers)),this.method=(r=(i=n.method||this.method||"GET").toUpperCase(),v.indexOf(r)>-1?r:i),this.mode=n.mode||this.mode||null,this.signal=n.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&e)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(e)}function p(t){var n=new FormData;return t.trim().split("&").forEach((function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}})),n}function g(t,n){n||(n={}),this.type="default",this.status=void 0===n.status?200:n.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in n?n.statusText:"OK",this.headers=new a(n.headers),this.url=n.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},d.call(w.prototype),d.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var C=[301,302,303,307,308];g.redirect=function(t,n){if(-1===C.indexOf(n))throw new RangeError("Invalid status code");return new g(null,{status:n,headers:{location:t}})},n.DOMException=t.DOMException;try{new n.DOMException}catch(t){n.DOMException=function(t,n){this.message=t,this.name=n;var i=Error(t);this.stack=i.stack},n.DOMException.prototype=Object.create(Error.prototype),n.DOMException.prototype.constructor=n.DOMException}function m(t,r){return new Promise((function(e,s){var o=new w(t,r);if(o.signal&&o.signal.aborted)return s(new n.DOMException("Aborted","AbortError"));var h=new XMLHttpRequest;function u(){h.abort()}h.onload=function(){var t,n,i={status:h.status,statusText:h.statusText,headers:(t=h.getAllResponseHeaders()||"",n=new a,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}})),n)};i.url="responseURL"in h?h.responseURL:i.headers.get("X-Request-URL"),e(new g("response"in h?h.response:h.responseText,i))},h.onerror=function(){s(new TypeError("Network request failed"))},h.ontimeout=function(){s(new TypeError("Network request failed"))},h.onabort=function(){s(new n.DOMException("Aborted","AbortError"))},h.open(o.method,o.url,!0),"include"===o.credentials?h.withCredentials=!0:"omit"===o.credentials&&(h.withCredentials=!1),"responseType"in h&&i.blob&&(h.responseType="blob"),o.headers.forEach((function(t,n){h.setRequestHeader(n,t)})),o.signal&&(o.signal.addEventListener("abort",u),h.onreadystatechange=function(){4===h.readyState&&o.signal.removeEventListener("abort",u)}),h.send(void 0===o._bodyInit?null:o._bodyInit)}))}m.polyfill=!0,t.fetch||(t.fetch=m,t.Headers=a,t.Request=w,t.Response=g),n.Headers=a,n.Request=w,n.Response=g,n.fetch=m}({})}(i),delete i.fetch.polyfill,(n=i.fetch).default=i.fetch,n.fetch=i.fetch,n.Headers=i.Headers,n.Request=i.Request,n.Response=i.Response,t.exports=n})),Es=o((function(t){t.exports=function(){function t(){for(var t=0,n={};t<arguments.length;t++){var i=arguments[t];for(var r in i)n[r]=i[r]}return n}return function n(i){function r(n,e,s){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(s=t({path:"/"},r.defaults,s)).expires){var h=new Date;h.setMilliseconds(h.getMilliseconds()+864e5*s.expires),s.expires=h}s.expires=s.expires?s.expires.toUTCString():"";try{o=JSON.stringify(e),/^[\{\[]/.test(o)&&(e=o)}catch(t){}e=i.write?i.write(e,n):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=(n=(n=encodeURIComponent(String(n))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var a="";for(var u in s)s[u]&&(a+="; "+u,!0!==s[u]&&(a+="="+s[u]));return document.cookie=n+"="+e+a}n||(o={});for(var c=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,l=0;l<c.length;l++){var d=c[l].split("="),v=d.slice(1).join("=");this.json||'"'!==v.charAt(0)||(v=v.slice(1,-1));try{var w=d[0].replace(f,decodeURIComponent);if(v=i.read?i.read(v,w):i(v,w)||v.replace(f,decodeURIComponent),this.json)try{v=JSON.parse(v)}catch(t){}if(n===w){o=v;break}n||(o[w]=v)}catch(t){}}return o}}return r.set=r,r.get=function(t){return r.call(r,t)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(n,i){r(n,"",t(i,{expires:-1}))},r.withConverter=n,r}((function(){}))}()}));function Ls(t,n){this.name="AuthSdkError",this.message=t,this.errorCode="INTERNAL",this.errorSummary=t,this.errorLink="INTERNAL",this.errorId="INTERNAL",this.errorCauses=[],n&&(this.xhr=n)}Ls.prototype=new Error;var Ss=Ls,As=function(t,n){if("string"!=typeof n||!n.length)throw new Ss('"storageName" is required');function i(){var i=t.getItem(n);i=i||"{}";try{return JSON.parse(i)}catch(t){throw new Ss("Unable to parse storage string: "+n)}}function r(i){try{var r=JSON.stringify(i);t.setItem(n,r)}catch(t){throw new Ss("Unable to set storage: "+n)}}return{getStorage:i,setStorage:r,clearStorage:function(t){t||r({});var n=i();delete n[t],r(n)},updateStorage:function(t,n){var e=i();e[t]=n,r(e)}}},ks={STATE_TOKEN_KEY_NAME:"oktaStateToken",DEFAULT_POLLING_DELAY:500,DEFAULT_MAX_CLOCK_SKEW:300,DEFAULT_CACHE_DURATION:86400,FRAME_ID:"okta-oauth-helper-frame",REDIRECT_OAUTH_PARAMS_COOKIE_NAME:"okta-oauth-redirect-params",REDIRECT_STATE_COOKIE_NAME:"okta-oauth-state",REDIRECT_NONCE_COOKIE_NAME:"okta-oauth-nonce",TOKEN_STORAGE_NAME:"okta-token-storage",CACHE_STORAGE_NAME:"okta-cache-storage",PKCE_STORAGE_NAME:"okta-pkce-storage",SDK_VERSION:"2.8.0"},Ts={browserHasLocalStorage:function(){try{var t=Ts.getLocalStorage();return Ts.testStorage(t)}catch(t){return!1}},browserHasSessionStorage:function(){try{var t=Ts.getSessionStorage();return Ts.testStorage(t)}catch(t){return!1}},getPKCEStorage:function(){return Ts.browserHasLocalStorage()?As(Ts.getLocalStorage(),ks.PKCE_STORAGE_NAME):Ts.browserHasSessionStorage()?As(Ts.getSessionStorage(),ks.PKCE_STORAGE_NAME):As(Ts.getCookieStorage(),ks.PKCE_STORAGE_NAME)},getHttpCache:function(){return Ts.browserHasLocalStorage()?As(Ts.getLocalStorage(),ks.CACHE_STORAGE_NAME):Ts.browserHasSessionStorage()?As(Ts.getSessionStorage(),ks.CACHE_STORAGE_NAME):As(Ts.getCookieStorage(),ks.CACHE_STORAGE_NAME)},getLocalStorage:function(){return localStorage},getSessionStorage:function(){return sessionStorage},getCookieStorage:function(t){return t=t||{},{getItem:Ts.storage.get,setItem:function(n,i){Ts.storage.set(n,i,"2200-01-01T00:00:00.000Z",t.secure)}}},testStorage:function(t){var n="okta-test-storage";try{return t.setItem(n,n),t.removeItem(n),!0}catch(t){return!1}}};Ts.storage={set:function(t,n,i,r){var e={path:"/",secure:r};return Date.parse(i)&&(e.expires=new Date(i)),Es.set(t,n,e),Ts.storage.get(t)},get:function(t){return Es.get(t)},delete:function(t){return Es.remove(t,{path:"/"})}};var xs=Ts;o((function(t,n){!function(){var t=n,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(t){this.message=t}(r.prototype=new Error).name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var n,e,s=String(t),o=0,h=i,a="";s.charAt(0|o)||(h="=",o%1);a+=h.charAt(63&n>>8-o%1*8)){if((e=s.charCodeAt(o+=.75))>255)throw new r("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|e}return a}),t.atob||(t.atob=function(t){var n=String(t).replace(/=+$/,"");if(n.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,s,o=0,h=0,a="";s=n.charAt(h++);~s&&(e=o%4?64*e+s:s,o++%4)?a+=String.fromCharCode(255&e>>(-2*o&6)):0)s=i.indexOf(s);return a})}()})),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,n){var i;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),e=r.length>>>0;if(0===e)return-1;var s=+n||0;if(Math.abs(s)===1/0&&(s=0),s>=e)return-1;for(i=Math.max(s>=0?s:e-Math.abs(s),0);i<e;){if(i in r&&r[i]===t)return i;i++}return-1}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var Rs=o((function(t){var n=t.exports;n.stringToBase64Url=function(t){var i=btoa(t);return n.base64ToBase64Url(i)},n.base64ToBase64Url=function(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},n.base64UrlToBase64=function(t){return t.replace(/-/g,"+").replace(/_/g,"/")},n.base64UrlToString=function(t){var i=n.base64UrlToBase64(t);switch(i.length%4){case 0:break;case 2:i+="==";break;case 3:i+="=";break;default:throw"Not a valid Base64Url"}var r=atob(i);try{return decodeURIComponent(escape(r))}catch(t){return r}},n.stringToBuffer=function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n},n.base64UrlDecode=function(t){return atob(n.base64UrlToBase64(t))},n.bind=function(t,n){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return r=i.concat(r),t.apply(n,r)}},n.isAbsoluteUrl=function(t){return/^(?:[a-z]+:)?\/\//i.test(t)},n.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},n.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},n.isNumber=function(t){return"[object Number]"===Object.prototype.toString.call(t)},n.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},n.isoToUTCString=function(t){var n=t.match(/\d+/g),i=Date.UTC(n[0],n[1]-1,n[2],n[3],n[4],n[5]);return new Date(i).toUTCString()},n.toQueryParams=function(t){var n=[];if(null!==t)for(var i in t)t.hasOwnProperty(i)&&null!=t[i]&&n.push(i+"="+encodeURIComponent(t[i]));return n.length?"?"+n.join("&"):""},n.genRandomString=function(t){for(var n="abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",i="",r=0,e=n.length;r<t;++r)i+=n[Math.floor(Math.random()*e)];return i},n.extend=function(){var t=arguments[0],n=[].slice.call(arguments,1);return n.forEach((function(n){for(var i in n)n.hasOwnProperty(i)&&void 0!==n[i]&&(t[i]=n[i])})),t},n.removeNils=function(t){var n={};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];null!=r&&(n[i]=r)}return n},n.clone=function(t){if(t){var n=JSON.stringify(t);if(n)return JSON.parse(n)}return t},n.omit=function(t){var i=Array.prototype.slice.call(arguments,1),r={};for(var e in t)t.hasOwnProperty(e)&&-1==i.indexOf(e)&&(r[e]=t[e]);return n.clone(r)},n.find=function(t,n){for(var i=t.length;i--;){var r=t[i],e=!0;for(var s in n)if(n.hasOwnProperty(s)&&r[s]!==n[s]){e=!1;break}if(e)return r}},n.getLink=function(t,i,r){if(t&&t._links){var e=n.clone(t._links[i]);return e&&e.name&&r?e.name===r?e:void 0:e}},n.getNativeConsole=function(){return"undefined"!=typeof window?window.console:"undefined"!=typeof console?console:void 0},n.getConsole=function(){var t=n.getNativeConsole();return t&&t.log?t:{log:function(){}}},n.warn=function(t){n.getConsole().log("[okta-auth-sdk] WARN: "+t)},n.deprecate=function(t){n.getConsole().log("[okta-auth-sdk] DEPRECATION: "+t)},n.deprecateWrap=function(t,i){return function(){return n.deprecate(t),i.apply(null,arguments)}},n.removeTrailingSlash=function(t){if(t){var n=t.replace(/^\s+|\s+$/gm,"");return"/"===n.slice(-1)?n.slice(0,-1):n}},n.isIE11OrLess=function(){return!!document.documentMode&&document.documentMode<=11},n.isFunction=function(t){return!!t&&"[object Function]"==={}.toString.call(t)}})),Is=o((function(t){var n;n=function(){var t=!1;try{throw new Error}catch(n){t=!!n.stack}var n,i=E(),r=function(){},e=function(){var t={task:void 0,next:null},n=t,i=!1,r=void 0,o=!1,h=[];function a(){for(var n,r;t.next;)n=(t=t.next).task,t.task=void 0,(r=t.domain)&&(t.domain=void 0,r.enter()),u(n,r);for(;h.length;)u(n=h.pop());i=!1}function u(t,n){try{t()}catch(t){if(o)throw n&&n.exit(),setTimeout(a,0),n&&n.enter(),t;setTimeout((function(){throw t}),0)}n&&n.exit()}if(e=function(t){n=n.next={task:t,domain:o&&s.domain,next:null},i||(i=!0,r())},"object"==typeof s&&"[object process]"===s.toString()&&c)o=!0,r=function(){c(a)};else if("function"==typeof setImmediate)r="undefined"!=typeof window?setImmediate.bind(window,a):function(){setImmediate(a)};else if("undefined"!=typeof MessageChannel){var f=new MessageChannel;f.port1.onmessage=function(){r=l,f.port1.onmessage=a,a()};var l=function(){f.port2.postMessage(0)};r=function(){setTimeout(a,0),l()}}else r=function(){setTimeout(a,0)};return e.runAfter=function(t){h.push(t),i||(i=!0,r())},e}(),o=Function.call;function h(t){return function(){return o.apply(t,arguments)}}var a,u=h(Array.prototype.slice),f=h(Array.prototype.reduce||function(t,n){var i=0,r=this.length;if(1===arguments.length)for(;;){if(i in this){n=this[i++];break}if(++i>=r)throw new TypeError}for(;i<r;i++)i in this&&(n=t(n,this[i],i));return n}),l=h(Array.prototype.indexOf||function(t){for(var n=0;n<this.length;n++)if(this[n]===t)return n;return-1}),d=h(Array.prototype.map||function(t,n){var i=this,r=[];return f(i,(function(e,s,o){r.push(t.call(n,s,o,i))}),void 0),r}),v=Object.create||function(t){function n(){}return n.prototype=t,new n},w=h(Object.prototype.hasOwnProperty),p=Object.keys||function(t){var n=[];for(var i in t)w(t,i)&&n.push(i);return n},g=h(Object.prototype.toString);function C(t){return"[object StopIteration]"===g(t)||t instanceof a}a="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var m="From previous event:";function F(n,i){if(t&&i.stack&&"object"==typeof n&&null!==n&&n.stack&&-1===n.stack.indexOf(m)){for(var r=[],e=i;e;e=e.source)e.stack&&r.unshift(e.stack);r.unshift(n.stack);var s=r.join("\n"+m+"\n");n.stack=function(t){for(var n=t.split("\n"),i=[],r=0;r<n.length;++r){var e=n[r];!b(e)&&-1===(s=e).indexOf("(module.js:")&&-1===s.indexOf("(node.js:")&&e&&i.push(e)}var s;return i.join("\n")}(s)}}function y(t){var n=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(n)return[n[1],Number(n[2])];var i=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(i)return[i[1],Number(i[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function b(t){var r=y(t);if(!r)return!1;var e=r[1];return r[0]===n&&e>=i&&e<=q}function E(){if(t)try{throw new Error}catch(t){var i=t.stack.split("\n"),r=y(i[0].indexOf("@")>0?i[1]:i[2]);if(!r)return;return n=r[0],r[1]}}function L(t){return t instanceof T?t:M(t)?function(t){var n=S();return L.nextTick((function(){try{t.then(n.resolve,n.reject,n.notify)}catch(t){n.reject(t)}})),n.promise}(t):U(t)}function S(){var n,i=[],r=[],e=v(S.prototype),s=v(T.prototype);if(s.promiseDispatch=function(t,e,s){var o=u(arguments);i?(i.push(o),"when"===e&&s[1]&&r.push(s[1])):L.nextTick((function(){n.promiseDispatch.apply(n,o)}))},s.valueOf=function(){if(i)return s;var t=R(n);return I(t)&&(n=t),t},s.inspect=function(){return n?n.inspect():{state:"pending"}},L.longStackSupport&&t)try{throw new Error}catch(t){s.stack=t.stack.substring(t.stack.indexOf("\n")+1)}function o(t){n=t,s.source=t,f(i,(function(n,i){L.nextTick((function(){t.promiseDispatch.apply(t,i)}))}),void 0),i=void 0,r=void 0}return e.promise=s,e.resolve=function(t){n||o(L(t))},e.fulfill=function(t){n||o(U(t))},e.reject=function(t){n||o(O(t))},e.notify=function(t){n||f(r,(function(n,i){L.nextTick((function(){i(t)}))}),void 0)},e}function A(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var n=S();try{t(n.resolve,n.reject,n.notify)}catch(t){n.reject(t)}return n.promise}function k(t){return A((function(n,i){for(var r=0,e=t.length;r<e;r++)L(t[r]).then(n,i)}))}function T(t,n,i){void 0===n&&(n=function(t){return O(new Error("Promise does not support operation: "+t))}),void 0===i&&(i=function(){return{state:"unknown"}});var r=v(T.prototype);if(r.promiseDispatch=function(i,e,s){var o;try{o=t[e]?t[e].apply(r,s):n.call(r,e,s)}catch(t){o=O(t)}i&&i(o)},r.inspect=i,i){var e=i();"rejected"===e.state&&(r.exception=e.reason),r.valueOf=function(){var t=i();return"pending"===t.state||"rejected"===t.state?r:t.value}}return r}function x(t,n,i,r){return L(t).then(n,i,r)}function R(t){if(I(t)){var n=t.inspect();if("fulfilled"===n.state)return n.value}return t}function I(t){return t instanceof T}function M(t){return(n=t)===Object(n)&&"function"==typeof t.then;var n}L.resolve=L,L.nextTick=e,L.longStackSupport=!1,"object"==typeof s&&s&&s.env&&s.env.Q_DEBUG&&(L.longStackSupport=!0),L.defer=S,S.prototype.makeNodeResolver=function(){var t=this;return function(n,i){n?t.reject(n):t.resolve(arguments.length>2?u(arguments,1):i)}},L.Promise=A,L.promise=A,A.race=k,A.all=Z,A.reject=O,A.resolve=L,L.passByCopy=function(t){return t},T.prototype.passByCopy=function(){return this},L.join=function(t,n){return L(t).join(n)},T.prototype.join=function(t){return L([this,t]).spread((function(t,n){if(t===n)return t;throw new Error("Can't join: not the same: "+t+" "+n)}))},L.race=k,T.prototype.race=function(){return this.then(L.race)},L.makePromise=T,T.prototype.toString=function(){return"[object Promise]"},T.prototype.then=function(t,n,i){var r=this,e=S(),s=!1;return L.nextTick((function(){r.promiseDispatch((function(n){s||(s=!0,e.resolve(function(n){try{return"function"==typeof t?t(n):n}catch(t){return O(t)}}(n)))}),"when",[function(t){s||(s=!0,e.resolve(function(t){if("function"==typeof n){F(t,r);try{return n(t)}catch(t){return O(t)}}return O(t)}(t)))}])})),r.promiseDispatch(void 0,"when",[void 0,function(t){var n,r=!1;try{n=function(t){return"function"==typeof i?i(t):t}(t)}catch(t){if(r=!0,!L.onerror)throw t;L.onerror(t)}r||e.notify(n)}]),e.promise},L.tap=function(t,n){return L(t).tap(n)},T.prototype.tap=function(t){return t=L(t),this.then((function(n){return t.fcall(n).thenResolve(n)}))},L.when=x,T.prototype.thenResolve=function(t){return this.then((function(){return t}))},L.thenResolve=function(t,n){return L(t).thenResolve(n)},T.prototype.thenReject=function(t){return this.then((function(){throw t}))},L.thenReject=function(t,n){return L(t).thenReject(n)},L.nearer=R,L.isPromise=I,L.isPromiseAlike=M,L.isPending=function(t){return I(t)&&"pending"===t.inspect().state},T.prototype.isPending=function(){return"pending"===this.inspect().state},L.isFulfilled=function(t){return!I(t)||"fulfilled"===t.inspect().state},T.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},L.isRejected=function(t){return I(t)&&"rejected"===t.inspect().state},T.prototype.isRejected=function(){return"rejected"===this.inspect().state};var D,j=[],B=[],_=[],P=!0;function N(){j.length=0,B.length=0,P||(P=!0)}function O(t){var n=T({when:function(n){return n&&function(t){if(P){var n=l(B,t);-1!==n&&("object"==typeof s&&"function"==typeof s.emit&&L.nextTick.runAfter((function(){var i=l(_,t);-1!==i&&(s.emit("rejectionHandled",j[n],t),_.splice(i,1))})),B.splice(n,1),j.splice(n,1))}}(this),n?n(t):this}},(function(){return this}),(function(){return{state:"rejected",reason:t}}));return function(t,n){P&&("object"==typeof s&&"function"==typeof s.emit&&L.nextTick.runAfter((function(){-1!==l(B,t)&&(s.emit("unhandledRejection",n,t),_.push(t))})),B.push(t),j.push(n&&void 0!==n.stack?n.stack:"(no stack) "+n))}(n,t),n}function U(t){return T({when:function(){return t},get:function(n){return t[n]},set:function(n,i){t[n]=i},delete:function(n){delete t[n]},post:function(n,i){return null==n?t.apply(void 0,i):t[n].apply(t,i)},apply:function(n,i){return t.apply(n,i)},keys:function(){return p(t)}},void 0,(function(){return{state:"fulfilled",value:t}}))}function H(t,n,i){return L(t).spread(n,i)}function z(t,n,i){return L(t).dispatch(n,i)}function Z(t){return x(t,(function(t){var n=0,i=S();return f(t,(function(r,e,s){var o;I(e)&&"fulfilled"===(o=e.inspect()).state?t[s]=o.value:(++n,x(e,(function(r){t[s]=r,0==--n&&i.resolve(t)}),i.reject,(function(t){i.notify({index:s,value:t})})))}),void 0),0===n&&i.resolve(t),i.promise}))}function $(t){if(0===t.length)return L.resolve();var n=L.defer(),i=0;return f(t,(function(r,e,s){i++,x(t[s],(function(t){n.resolve(t)}),(function(){0==--i&&n.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}),(function(t){n.notify({index:s,value:t})}))}),void 0),n.promise}function K(t){return x(t,(function(t){return t=d(t,L),x(Z(d(t,(function(t){return x(t,r,r)}))),(function(){return t}))}))}L.resetUnhandledRejections=N,L.getUnhandledReasons=function(){return j.slice()},L.stopUnhandledRejectionTracking=function(){N(),P=!1},N(),L.reject=O,L.fulfill=U,L.master=function(t){return T({isDef:function(){}},(function(n,i){return z(t,n,i)}),(function(){return L(t).inspect()}))},L.spread=H,T.prototype.spread=function(t,n){return this.all().then((function(n){return t.apply(void 0,n)}),n)},L.async=function(t){return function(){function n(t,n){var s;if("undefined"==typeof StopIteration){try{s=i[t](n)}catch(t){return O(t)}return s.done?L(s.value):x(s.value,r,e)}try{s=i[t](n)}catch(t){return C(t)?L(t.value):O(t)}return x(s,r,e)}var i=t.apply(this,arguments),r=n.bind(n,"next"),e=n.bind(n,"throw");return r()}},L.spawn=function(t){L.done(L.async(t)())},L.return=function(t){throw new a(t)},L.promised=function(t){return function(){return H([this,Z(arguments)],(function(n,i){return t.apply(n,i)}))}},L.dispatch=z,T.prototype.dispatch=function(t,n){var i=this,r=S();return L.nextTick((function(){i.promiseDispatch(r.resolve,t,n)})),r.promise},L.get=function(t,n){return L(t).dispatch("get",[n])},T.prototype.get=function(t){return this.dispatch("get",[t])},L.set=function(t,n,i){return L(t).dispatch("set",[n,i])},T.prototype.set=function(t,n){return this.dispatch("set",[t,n])},L.del=L.delete=function(t,n){return L(t).dispatch("delete",[n])},T.prototype.del=T.prototype.delete=function(t){return this.dispatch("delete",[t])},L.mapply=L.post=function(t,n,i){return L(t).dispatch("post",[n,i])},T.prototype.mapply=T.prototype.post=function(t,n){return this.dispatch("post",[t,n])},L.send=L.mcall=L.invoke=function(t,n){return L(t).dispatch("post",[n,u(arguments,2)])},T.prototype.send=T.prototype.mcall=T.prototype.invoke=function(t){return this.dispatch("post",[t,u(arguments,1)])},L.fapply=function(t,n){return L(t).dispatch("apply",[void 0,n])},T.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},L.try=L.fcall=function(t){return L(t).dispatch("apply",[void 0,u(arguments,1)])},T.prototype.fcall=function(){return this.dispatch("apply",[void 0,u(arguments)])},L.fbind=function(t){var n=L(t),i=u(arguments,1);return function(){return n.dispatch("apply",[this,i.concat(u(arguments))])}},T.prototype.fbind=function(){var t=this,n=u(arguments);return function(){return t.dispatch("apply",[this,n.concat(u(arguments))])}},L.keys=function(t){return L(t).dispatch("keys",[])},T.prototype.keys=function(){return this.dispatch("keys",[])},L.all=Z,T.prototype.all=function(){return Z(this)},L.any=$,T.prototype.any=function(){return $(this)},L.allResolved=(D=K,"allResolved","allSettled",function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("allResolved is deprecated, use allSettled instead.",new Error("").stack),D.apply(D,arguments)}),T.prototype.allResolved=function(){return K(this)},L.allSettled=function(t){return L(t).allSettled()},T.prototype.allSettled=function(){return this.then((function(t){return Z(d(t,(function(t){function n(){return t.inspect()}return(t=L(t)).then(n,n)})))}))},L.fail=L.catch=function(t,n){return L(t).then(void 0,n)},T.prototype.fail=T.prototype.catch=function(t){return this.then(void 0,t)},L.progress=function(t,n){return L(t).then(void 0,void 0,n)},T.prototype.progress=function(t){return this.then(void 0,void 0,t)},L.fin=L.finally=function(t,n){return L(t).finally(n)},T.prototype.fin=T.prototype.finally=function(t){return t=L(t),this.then((function(n){return t.fcall().then((function(){return n}))}),(function(n){return t.fcall().then((function(){throw n}))}))},L.done=function(t,n,i,r){return L(t).done(n,i,r)},T.prototype.done=function(t,n,i){var r=function(t){L.nextTick((function(){if(F(t,e),!L.onerror)throw t;L.onerror(t)}))},e=t||n||i?this.then(t,n,i):this;"object"==typeof s&&s&&s.domain&&(r=s.domain.bind(r)),e.then(void 0,r)},L.timeout=function(t,n,i){return L(t).timeout(n,i)},T.prototype.timeout=function(t,n){var i=S(),r=setTimeout((function(){n&&"string"!=typeof n||((n=new Error(n||"Timed out after "+t+" ms")).code="ETIMEDOUT"),i.reject(n)}),t);return this.then((function(t){clearTimeout(r),i.resolve(t)}),(function(t){clearTimeout(r),i.reject(t)}),i.notify),i.promise},L.delay=function(t,n){return void 0===n&&(n=t,t=void 0),L(t).delay(n)},T.prototype.delay=function(t){return this.then((function(n){var i=S();return setTimeout((function(){i.resolve(n)}),t),i.promise}))},L.nfapply=function(t,n){return L(t).nfapply(n)},T.prototype.nfapply=function(t){var n=S(),i=u(t);return i.push(n.makeNodeResolver()),this.fapply(i).fail(n.reject),n.promise},L.nfcall=function(t){var n=u(arguments,1);return L(t).nfapply(n)},T.prototype.nfcall=function(){var t=u(arguments),n=S();return t.push(n.makeNodeResolver()),this.fapply(t).fail(n.reject),n.promise},L.nfbind=L.denodeify=function(t){var n=u(arguments,1);return function(){var i=n.concat(u(arguments)),r=S();return i.push(r.makeNodeResolver()),L(t).fapply(i).fail(r.reject),r.promise}},T.prototype.nfbind=T.prototype.denodeify=function(){var t=u(arguments);return t.unshift(this),L.denodeify.apply(void 0,t)},L.nbind=function(t,n){var i=u(arguments,2);return function(){var r=i.concat(u(arguments)),e=S();function s(){return t.apply(n,arguments)}return r.push(e.makeNodeResolver()),L(s).fapply(r).fail(e.reject),e.promise}},T.prototype.nbind=function(){var t=u(arguments,0);return t.unshift(this),L.nbind.apply(void 0,t)},L.nmapply=L.npost=function(t,n,i){return L(t).npost(n,i)},T.prototype.nmapply=T.prototype.npost=function(t,n){var i=u(n||[]),r=S();return i.push(r.makeNodeResolver()),this.dispatch("post",[t,i]).fail(r.reject),r.promise},L.nsend=L.nmcall=L.ninvoke=function(t,n){var i=u(arguments,2),r=S();return i.push(r.makeNodeResolver()),L(t).dispatch("post",[n,i]).fail(r.reject),r.promise},T.prototype.nsend=T.prototype.nmcall=T.prototype.ninvoke=function(t){var n=u(arguments,1),i=S();return n.push(i.makeNodeResolver()),this.dispatch("post",[t,n]).fail(i.reject),i.promise},L.nodeify=function(t,n){return L(t).nodeify(n)},T.prototype.nodeify=function(t){if(!t)return this;this.then((function(n){L.nextTick((function(){t(null,n)}))}),(function(n){L.nextTick((function(){t(n)}))}))},L.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var q=E();return L},"function"==typeof bootstrap?bootstrap("promise",n):t.exports=n()}));function Ms(t,n){this.name="AuthApiError",this.message=t.errorSummary,this.errorSummary=t.errorSummary,this.errorCode=t.errorCode,this.errorLink=t.errorLink,this.errorId=t.errorId,this.errorCauses=t.errorCauses,n&&(this.xhr=n)}Ms.prototype=new Error;var Ds=Ms;function js(t,n){var i=(n=n||{}).url,r=n.method,e=n.args,s=n.saveAuthnState,o=n.accessToken,h=!1!==n.withCredentials,a=t.options.storageUtil,u=a.storage,c=a.getHttpCache();if(n.cacheResponse){var f=c.getStorage()[i];if(f&&Date.now()/1e3<f.expiresAt)return Is.resolve(f.response)}var l,d,v={Accept:"application/json","Content-Type":"application/json","X-Okta-User-Agent-Extended":t.userAgent};return Rs.extend(v,t.options.headers,n.headers),o&&Rs.isString(o)&&(v.Authorization="Bearer "+o),new Is(t.options.httpRequestClient(r,i,{headers:v,data:e||void 0,withCredentials:h})).then((function(t){return(d=t.responseText)&&Rs.isString(d)&&(d=JSON.parse(d)),s&&(d.stateToken||u.delete(ks.STATE_TOKEN_KEY_NAME)),d&&d.stateToken&&d.expiresAt&&u.set(ks.STATE_TOKEN_KEY_NAME,d.stateToken,d.expiresAt),d&&n.cacheResponse&&c.updateStorage(i,{expiresAt:Math.floor(Date.now()/1e3)+ks.DEFAULT_CACHE_DURATION,response:d}),d})).fail((function(n){var i=n.responseText||{};if(Rs.isString(i))try{i=JSON.parse(i)}catch(t){i={errorSummary:"Unknown error"}}throw n.status>=500&&(i.errorSummary="Unknown error"),t.options.transformErrorXHR&&(n=t.options.transformErrorXHR(Rs.clone(n))),"E0000011"===(l=new Ds(i,n)).errorCode&&u.delete(ks.STATE_TOKEN_KEY_NAME),l}))}var Bs={get:function(t,n,i){var r={url:n=Rs.isAbsoluteUrl(n)?n:t.options.url+n,method:"GET"};return Rs.extend(r,i),js(t,r)},post:function(t,n,i,r){var e={url:n=Rs.isAbsoluteUrl(n)?n:t.options.url+n,method:"POST",args:i,saveAuthnState:!0};return Rs.extend(e,r),js(t,e)},httpRequest:js};function _s(){this.name="AuthPollStopError",this.message="The poll was stopped by the sdk"}_s.prototype=new Error;var Ps=_s;function Ns(t,n){var i={};return Rs.extend(i,n),!i.stateToken&&t.stateToken&&(i.stateToken=t.stateToken),i}function Os(t,n,i,r){return Bs.post(t,n,i,r).then((function(n){return new zs(t,n)}))}function Us(t,n,i){return function(r){var e,s,o;Rs.isNumber(r)?e=r:Rs.isObject(r)&&(e=r.delay,s=r.rememberDevice,o=r.autoPush),e||0===e||(e=ks.DEFAULT_POLLING_DELAY);var h=Rs.getLink(n,"next","poll");i.isPolling=!0;var a=0,u=function(){return i.isPolling?function(){var i={};if("function"==typeof o)try{i.autoPush=!!o()}catch(t){return Is.reject(new Ss("AutoPush resulted in an error."))}else null!=o&&(i.autoPush=!!o);if("function"==typeof s)try{i.rememberDevice=!!s()}catch(t){return Is.reject(new Ss("RememberDevice resulted in an error."))}else null!=s&&(i.rememberDevice=!!s);var r=h.href+Rs.toQueryParams(i);return Bs.post(t,r,function(t){return Ns(t)}(n),{saveAuthnState:!1})}().then((function(n){if(a=0,n.factorResult&&"WAITING"===n.factorResult){if(!i.isPolling)throw new Ps;return Is.delay(e).then(u)}return i.isPolling=!1,new zs(t,n)})).fail((function(t){if(t.xhr&&(0===t.xhr.status||429===t.xhr.status)&&a<=4){var n=1e3*Math.pow(2,a);return a++,Is.delay(n).then(u)}throw t})):Is.reject(new Ps)};return u().fail((function(t){throw i.isPolling=!1,t}))}}function Hs(t,n,i,r,e){if(Array.isArray(r))return function(s,o){if(!s)throw new Ss("Must provide a link name");var h=Rs.find(r,{name:s});if(!h)throw new Ss("No link found for that name");return Hs(t,n,i,h,e)(o)};if(r.hints&&r.hints.allow&&1===r.hints.allow.length)switch(r.hints.allow[0]){case"GET":return function(){return Bs.get(t,r.href)};case"POST":return function(s){e&&e.isPolling&&(e.isPolling=!1);var o=Ns(n,s);"MFA_ENROLL"!==n.status&&"FACTOR_ENROLL"!==n.status||Rs.extend(o,{factorType:i.factorType,provider:i.provider});var h={},a=o.autoPush;if(void 0!==a){if("function"==typeof a)try{h.autoPush=!!a()}catch(t){return Is.reject(new Ss("AutoPush resulted in an error."))}else null!==a&&(h.autoPush=!!a);o=Rs.omit(o,"autoPush")}var u=o.rememberDevice;if(void 0!==u){if("function"==typeof u)try{h.rememberDevice=!!u()}catch(t){return Is.reject(new Ss("RememberDevice resulted in an error."))}else null!==u&&(h.rememberDevice=!!u);o=Rs.omit(o,"rememberDevice")}else o.profile&&void 0!==o.profile.updatePhone&&(o.profile.updatePhone&&(h.updatePhone=!0),o.profile=Rs.omit(o.profile,"updatePhone"));var c=r.href+Rs.toQueryParams(h);return Os(t,c,o)}}}function zs(t,n){n&&(this.data=n,Rs.extend(this,function t(n,i,r,e){if(r=Rs.clone(r=r||i),Array.isArray(r)){for(var s=[],o=0,h=r.length;o<h;o++)s.push(t(n,i,r[o],e));return s}var a=r._embedded||{};for(var u in a)a.hasOwnProperty(u)&&(Rs.isObject(a[u])||Array.isArray(a[u]))&&(a[u]=t(n,i,a[u],e));var c=function(t,n,i,r){var e={};for(var s in i._links)if(i._links.hasOwnProperty(s)){var o=i._links[s];if("next"===s&&(s=o.name),o.type)e[s]=o;else switch(s){case"poll":e.poll=Us(t,n,r);break;default:var h=Hs(t,n,i,o,r);h&&(e[s]=h)}}return e}(n,i,r,e);return Rs.extend(a,c),r=Rs.omit(r,"_embedded","_links"),Rs.extend(r,a),r}(t,n,n,{})),delete this.stateToken,"RECOVERY_CHALLENGE"!==n.status||n._links||(this.cancel=function(){return new Is(new zs(t))}))}var Zs={transactionStatus:function(t,n){return n=Ns(t,n),Bs.post(t,t.options.url+"/api/v1/authn",n)},resumeTransaction:function(t,n){if(!n||!n.stateToken){var i=t.tx.exists._get(ks.STATE_TOKEN_KEY_NAME);if(!i)return Is.reject(new Ss("No transaction to resume"));n={stateToken:i}}return t.tx.status(n).then((function(n){return new zs(t,n)}))},transactionExists:function(t){return!!t.tx.exists._get(ks.STATE_TOKEN_KEY_NAME)},postToTransaction:Os,introspect:function(t,n){if(!n||!n.stateToken){var i=t.tx.exists._get(ks.STATE_TOKEN_KEY_NAME);if(!i)return Is.reject(new Ss("No transaction to evaluate"));n={stateToken:i}}return function(t,n){return n=Ns(t,n),Bs.post(t,t.options.url+"/idp/idx/introspect",n)}(t,n).then((function(n){return new zs(t,n)}))}},$s={addSharedPrototypes:function(t){t.forgotPassword=function(t){return Zs.postToTransaction(this,"/api/v1/authn/recovery/password",t)},t.unlockAccount=function(t){return Zs.postToTransaction(this,"/api/v1/authn/recovery/unlock",t)},t.verifyRecoveryToken=function(t){return Zs.postToTransaction(this,"/api/v1/authn/recovery/token",t)}},buildOktaAuth:function(t){return function(n,i){function r(e){if(!(this instanceof r))return new r(e);e&&(e.storageUtil=n,e.ajaxRequest?(Rs.deprecate("ajaxRequest is being deprecated, use httpRequestClient attribute instead."),e.httpRequestClient=e.ajaxRequest):e.httpRequestClient||(e.httpRequestClient=i)),Rs.bind(t,this)(e)}return(r.prototype=t.prototype).constructor=r,r.features=t.prototype.features,r}},getValidUrl:function(t){if(!t)throw new Ss("No arguments passed to constructor. Required usage: new OktaAuth(args)");var n=t.url;if(!n){var i=new RegExp("^http?s?://.+");if(!t.issuer||!i.test(t.issuer))throw new Ss('No url passed to constructor. Required usage: new OktaAuth({url: "https://{yourOktaDomain}.com"})');n=t.issuer.split("/oauth2/")[0]}if(-1!==n.indexOf("-admin."))throw new Ss('URL passed to constructor contains "-admin" in subdomain. Required usage: new OktaAuth({url: "https://{yourOktaDomain}.com})');return n}},Ks=xs.getHttpCache();function qs(t,n){return Bs.get(t,(n||t.options.url)+"/.well-known/openid-configuration",{cacheResponse:!0})}var Vs={generateState:function(){return Rs.genRandomString(64)},generateNonce:function(){return Rs.genRandomString(64)},getWellKnown:qs,getKey:function(t,n,i){return qs(t,n).then((function(n){var r=n.jwks_uri,e=Ks.getStorage()[r];if(e&&Date.now()/1e3<e.expiresAt){var s=Rs.find(e.response.keys,{kid:i});if(s)return s}return Ks.clearStorage(r),Bs.get(t,r,{cacheResponse:!0}).then((function(t){var n=Rs.find(t.keys,{kid:i});if(n)return n;throw new Ss("The key id, "+i+", was not found in the server's keys")}))}))},validateClaims:function(t,n,i){var r=i.clientId,e=i.issuer,s=i.nonce;if(!n||!e||!r)throw new Ss("The jwt, iss, and aud arguments are all required");if(s&&n.nonce!==s)throw new Ss("OAuth flow response nonce doesn't match request nonce");var o=Math.floor(Date.now()/1e3);if(n.iss!==e)throw new Ss("The issuer ["+n.iss+"] does not match ["+e+"]");if(n.aud!==r)throw new Ss("The audience ["+n.aud+"] does not match ["+r+"]");if(n.iat>n.exp)throw new Ss("The JWT expired before it was issued");if(o-t.options.maxClockSkew>n.exp)throw new Ss("The JWT expired and is no longer valid");if(n.iat>o+t.options.maxClockSkew)throw new Ss("The JWT was issued in the future")},getOAuthUrls:function(t,n,i){var r=Rs.removeTrailingSlash((i=i||{}).authorizeUrl)||t.options.authorizeUrl,e=Rs.removeTrailingSlash(i.issuer)||t.options.issuer,s=Rs.removeTrailingSlash(i.userinfoUrl)||t.options.userinfoUrl,o=Rs.removeTrailingSlash(i.tokenUrl)||t.options.tokenUrl;if(e&&!/^https?:/.test(e)&&(e=t.options.url+"/oauth2/"+e),!e&&r&&-1!==n.responseType.indexOf("id_token"))throw new Ss("Cannot request idToken with an authorizeUrl without an issuer");if(!e&&-1!==n.responseType.indexOf("token")){if(r&&!s)throw new Ss("Cannot request accessToken with an authorizeUrl without an issuer or userinfoUrl");if(s&&!r)throw new Ss("Cannot request token with an userinfoUrl without an issuer or authorizeUrl")}return new RegExp("^https?://.*?/oauth2/.+").test(e=e||t.options.url)?(r=r||e+"/v1/authorize",s=s||e+"/v1/userinfo",o=o||e+"/v1/token"):(r=r||e+"/oauth2/v1/authorize",s=s||e+"/oauth2/v1/userinfo",o=o||e+"/oauth2/v1/token"),{issuer:e,authorizeUrl:r,userinfoUrl:s,tokenUrl:o}},loadFrame:function(t){var n=document.createElement("iframe");return n.style.display="none",n.src=t,document.body.appendChild(n)},loadPopup:function(t,n){var i=n.popupTitle||"External Identity Provider User Authentication",r="toolbar=no, scrollbars=yes, resizable=yes, top=100, left=500, width=600, height=600";if(Rs.isIE11OrLess()){var e=window.open("/",i,r);return e.location.href=t,e}return window.open(t,i,r)},hashToObject:function(t){for(var n,i=/\+/g,r=/([^&=]+)=?([^&]*)/g,e=t.substring(1),s={};n=r.exec(e);){var o=n[1],h=n[2];s[o]="id_token"===o||"access_token"===o||"code"===o?h:decodeURIComponent(h.replace(i," "))}return s},isToken:function(t){return!(!t||!t.accessToken&&!t.idToken||!Array.isArray(t.scopes))},addListener:function(t,n,i){t.addEventListener?t.addEventListener(n,i):t.attachEvent("on"+n,i)},removeListener:function(t,n,i){t.removeEventListener?t.removeEventListener(n,i):t.detachEvent("on"+n,i)}},Ws={sessionExists:function(t){return t.session.get().then((function(t){return"ACTIVE"===t.status})).fail((function(){return!1}))},getSession:function(t){return Bs.get(t,"/api/v1/sessions/me").then((function(n){var i=Rs.omit(n,"_links");return i.refresh=function(){return Bs.post(t,Rs.getLink(n,"refresh").href)},i.user=function(){return Bs.get(t,Rs.getLink(n,"user").href)},i})).fail((function(){return{status:"INACTIVE"}}))},closeSession:function(t){return Bs.httpRequest(t,{url:t.options.url+"/api/v1/sessions/me",method:"DELETE"})},refreshSession:function(t){return Bs.post(t,"/api/v1/sessions/me/lifecycle/refresh")},setCookieAndRedirect:function(t,n,i){i=i||window.location.href,window.location=t.options.url+"/login/sessionCookieRedirect"+Rs.toQueryParams({checkAccountSetupComplete:!0,token:n,redirectUrl:i})}},Ys={verifyToken:function(t,n){n=Rs.clone(n);var i={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};return delete n.use,crypto.subtle.importKey("jwk",n,i,!0,["verify"]).then((function(n){var r=t.split("."),e=Rs.stringToBuffer(r[0]+"."+r[1]),s=Rs.base64UrlDecode(r[2]),o=Rs.stringToBuffer(s);return crypto.subtle.verify(i,n,o,e)}))}};function Js(t,n){this.name="OAuthError",this.message=n,this.errorCode=t,this.errorSummary=n}Js.prototype=new Error;var Gs=Js;function Xs(t){return("0"+t.toString(16)).substr(-2)}var Qs={DEFAULT_CODE_CHALLENGE_METHOD:"S256",generateVerifier:function(t){var n,i,r=t||"";return r.length<43&&(r+=(n=43-r.length,i=new Uint8Array(Math.ceil(n/2)),crypto.getRandomValues(i),Array.from(i,Xs).join("").slice(0,n))),encodeURIComponent(r).slice(0,128)},clearMeta:function(t){t.options.storageUtil.getPKCEStorage().clearStorage()},saveMeta:function(t,n){t.options.storageUtil.getPKCEStorage().setStorage(n)},loadMeta:function(t){return t.options.storageUtil.getPKCEStorage().getStorage()},computeChallenge:function(t){var n=(new TextEncoder).encode(t);return crypto.subtle.digest("SHA-256",n).then((function(t){var n=String.fromCharCode.apply(null,new Uint8Array(t));return Rs.stringToBase64Url(n)}))},getToken:function(t,n,i){!function(t){if(!t.clientId)throw new Ss("A clientId must be specified in the OktaAuth constructor to get a token");if(!t.redirectUri)throw new Ss("The redirectUri passed to /authorize must also be passed to /token");if(!t.authorizationCode)throw new Ss("An authorization code (returned from /authorize) must be passed to /token");if(!t.codeVerifier)throw new Ss('The "codeVerifier" (generated and saved by your app) must be passed to /token')}(n);var r,e,s=(e=Rs.removeNils({client_id:(r=n).clientId,redirect_uri:r.redirectUri,grant_type:"authorization_code",code:r.authorizationCode,code_verifier:r.codeVerifier}),Rs.toQueryParams(e).slice(1));return Bs.httpRequest(t,{url:i.tokenUrl,method:"POST",args:s,withCredentials:!1,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}},to=xs.storage;function no(t){var n,i=t.split(".");try{n={header:JSON.parse(Rs.base64UrlToString(i[0])),payload:JSON.parse(Rs.base64UrlToString(i[1])),signature:i[2]}}catch(t){throw new Ss("Malformed token")}return n}function io(t,n,i){return(new Is).then((function(){if(!n||!n.idToken)throw new Ss("Only idTokens may be verified");var r=no(n.idToken),e={clientId:t.options.clientId,issuer:t.options.issuer||t.options.url,ignoreSignature:t.options.ignoreSignature};return Rs.extend(e,i),Vs.validateClaims(t,r.payload,e),1!=e.ignoreSignature&&t.features.isTokenVerifySupported()?Vs.getKey(t,n.issuer,r.header.kid).then((function(t){return Ys.verifyToken(n.idToken,t)})).then((function(t){if(!t)throw new Ss("The token signature is not valid");return n})):n}))}function ro(t,n,i){var r=Is.defer();function e(n){!n.data||n.origin!==t.options.url||n.data&&Rs.isString(i)&&n.data.state!==i||r.resolve(n.data)}return Vs.addListener(window,"message",e),r.promise.timeout(n||12e4,new Ss("OAuth flow timed out")).fin((function(){Vs.removeListener(window,"message",e)}))}function eo(t,n){if(t.error||t.error_description)throw new Gs(t.error,t.error_description);if(t.state!==n.state)throw new Ss("OAuth flow response state doesn't match request state")}function so(t,n,i,r){r=r||{};var e=n.responseType,s=Rs.clone(n.scopes),o=n.clientId||t.options.clientId;return(new Is).then((function(){return eo(i,n),i.code?(e=["token","id_token"],function(t,n,i,r){var e=Qs.loadMeta(t),s={clientId:n.clientId,authorizationCode:i,codeVerifier:e.codeVerifier,redirectUri:e.redirectUri};return Qs.getToken(t,s,r).then((function(t){return eo(t,s),t})).fin((function(){Qs.clearMeta(t)}))}(t,n,i.code,r)):i})).then((function(i){var e={};if(i.access_token&&(e.token={accessToken:i.access_token,expiresAt:Number(i.expires_in)+Math.floor(Date.now()/1e3),tokenType:i.token_type,scopes:s,authorizeUrl:r.authorizeUrl,userinfoUrl:r.userinfoUrl}),i.id_token){var h=t.token.decode(i.id_token),a={idToken:i.id_token,claims:h.payload,expiresAt:h.payload.exp,scopes:s,authorizeUrl:r.authorizeUrl,issuer:r.issuer,clientId:o},u={clientId:o,issuer:r.issuer,nonce:n.nonce};return void 0!==n.ignoreSignature&&(u.ignoreSignature=n.ignoreSignature),io(t,a,u).then((function(){return e.id_token=a,e}))}return e})).then((function(t){return Array.isArray(e)?(["token","id_token"].filter((function(t){return-1!==e.indexOf(t)})).forEach((function(n){if(!t[n])throw new Ss("Unable to parse OAuth flow response: "+n+" was not returned.")})),e.map((function(n){return t[n]}))):t[e]}))}function oo(t){var n=function(t){if(!t.clientId)throw new Ss("A clientId must be specified in the OktaAuth constructor to get a token");if(Rs.isString(t.responseType)&&-1!==t.responseType.indexOf(" "))throw new Ss("Multiple OAuth responseTypes must be defined as an array");var n=Rs.removeNils({client_id:t.clientId,code_challenge:t.codeChallenge,code_challenge_method:t.codeChallengeMethod,display:t.display,idp:t.idp,idp_scope:t.idpScope,login_hint:t.loginHint,max_age:t.maxAge,nonce:t.nonce,prompt:t.prompt,redirect_uri:t.redirectUri,response_mode:t.responseMode,response_type:t.responseType,sessionToken:t.sessionToken,state:t.state});if(["idp_scope","response_type"].forEach((function(t){Array.isArray(n[t])&&(n[t]=n[t].join(" "))})),-1!==t.responseType.indexOf("id_token")&&-1===t.scopes.indexOf("openid"))throw new Ss("openid scope must be specified in the scopes argument when requesting an id_token");return n.scope=t.scopes.join(" "),n}(t);return Rs.toQueryParams(n)}function ho(t,n,i){return i=i||{},ao(t,n=n||{}).then((function(r){var e,s;n.sessionToken?Rs.extend(r,{prompt:"none",responseMode:"okta_post_message",display:null}):n.idp&&Rs.extend(r,{display:"popup"});try{s=Vs.getOAuthUrls(t,r,i),e=(n.codeVerifier?s.tokenUrl:s.authorizeUrl)+oo(r)}catch(t){return Is.reject(t)}function o(t){return/^(https?\:\/\/)?([^:\/?#]*(?:\:[0-9]+)?)/.exec(t)[0]}switch(r.sessionToken||null===r.display?"IFRAME":"popup"===r.display?"POPUP":"IMPLICIT"){case"IFRAME":var h=ro(t,i.timeout,r.state),a=Vs.loadFrame(e);return h.then((function(n){return so(t,r,n,s)})).fin((function(){document.body.contains(a)&&a.parentElement.removeChild(a)}));case"POPUP":var u;if("okta_post_message"===r.responseMode){if(!t.features.isPopupPostMessageSupported())return Is.reject(new Ss("This browser doesn't have full postMessage support"));u=ro(t,i.timeout,r.state)}var c=Vs.loadPopup(e,{popupTitle:i.popupTitle});if("fragment"===r.responseMode){var f=o(t.idToken.authorize._getLocationHref()),l=o(r.redirectUri);if(f!==l)return Is.reject(new Ss("Using fragment, the redirectUri origin ("+l+") must match the origin of this page ("+f+")"));u=function(t,n,i){var r=Is.defer();return function t(){try{n&&n.location&&n.location.hash?r.resolve(Vs.hashToObject(n.location.hash)):n&&!n.closed&&setTimeout(t,500)}catch(n){setTimeout(t,500)}}(),r.promise.timeout(i||12e4,new Ss("OAuth flow timed out"))}(0,c,i.timeout)}var d=Is.defer(),v=setInterval((function(){c.closed&&d.reject(new Ss("Unable to parse OAuth flow response"))}),500);return u.then((function(t){d.resolve(t)})).fail((function(t){d.reject(t)})),d.promise.then((function(n){return so(t,r,n,s)})).fin((function(){c.closed||(clearInterval(v),c.close())}));default:return Is.reject(new Ss("The full page redirect flow is not supported"))}}))}function ao(t,n){"authorization_code"===(n=Rs.clone(n)||{}).grantType&&(n.pkce=!0);var i=function(t){return{pkce:t.options.pkce||!1,clientId:t.options.clientId,redirectUri:t.options.redirectUri||window.location.href,responseType:"id_token",responseMode:"okta_post_message",state:Vs.generateState(),nonce:Vs.generateNonce(),scopes:["openid","email"],ignoreSignature:t.options.ignoreSignature}}(t);return Rs.extend(i,n),!0!==i.pkce?Is.resolve(i):t.features.isPKCESupported()?(i.codeChallengeMethod||(i.codeChallengeMethod=Qs.DEFAULT_CODE_CHALLENGE_METHOD),i.responseType="code",Vs.getWellKnown(t,null).then((function(t){if(-1===(t.code_challenge_methods_supported||[]).indexOf(i.codeChallengeMethod))throw new Ss("Invalid code_challenge_method")})).then((function(){var n=Qs.generateVerifier(i.codeVerifier);return Qs.saveMeta(t,{codeVerifier:n,redirectUri:i.redirectUri}),Qs.computeChallenge(n)})).then((function(t){var n=Rs.clone(i)||{};return Rs.extend(n,i,{codeChallenge:t}),n}))):Is.reject(new Ss("This browser doesn't support PKCE"))}var uo={getToken:ho,getWithoutPrompt:function(t,n,i){var r=Rs.clone(n)||{};return Rs.extend(r,{prompt:"none",responseMode:"okta_post_message",display:null}),ho(t,r,i)},getWithPopup:function(t,n,i){var r=Rs.clone(n)||{};return Rs.extend(r,{display:"popup",responseMode:"okta_post_message"}),ho(t,r,i)},getWithRedirect:function(t,n,i){return n=Rs.clone(n)||{},ao(t,n).then((function(r){n.responseMode||(r.responseMode=r.responseType.includes("code")&&!r.pkce?"query":"fragment");var e=Vs.getOAuthUrls(t,r,i),s=e.authorizeUrl+oo(r);to.set(ks.REDIRECT_OAUTH_PARAMS_COOKIE_NAME,JSON.stringify({responseType:r.responseType,state:r.state,nonce:r.nonce,scopes:r.scopes,clientId:r.clientId,urls:e,ignoreSignature:r.ignoreSignature})),to.set(ks.REDIRECT_NONCE_COOKIE_NAME,r.nonce),to.set(ks.REDIRECT_STATE_COOKIE_NAME,r.state),t.token.getWithRedirect._setLocation(s)}))},parseFromUrl:function(t,n){var i=t.token.parseFromUrl._getLocation().hash;if(n&&(i=n.substring(n.indexOf("#"))),!i)return Is.reject(new Ss("Unable to parse a token from the url"));var r=to.get(ks.REDIRECT_OAUTH_PARAMS_COOKIE_NAME);if(!r)return Is.reject(new Ss("Unable to retrieve OAuth redirect params cookie"));try{var e=JSON.parse(r),s=e.urls;delete e.urls,to.delete(ks.REDIRECT_OAUTH_PARAMS_COOKIE_NAME)}catch(t){return Is.reject(new Ss("Unable to parse the "+ks.REDIRECT_OAUTH_PARAMS_COOKIE_NAME+" cookie: "+t.message))}return Is.resolve(Vs.hashToObject(i)).then((function(i){return n||function(t){var n=t.token.parseFromUrl._getHistory(),i=t.token.parseFromUrl._getDocument(),r=t.token.parseFromUrl._getLocation();n&&n.replaceState?n.replaceState(null,i.title,r.pathname+r.search):r.hash=""}(t),so(t,e,i,s)}))},decodeToken:no,renewToken:function(t,n){return Vs.isToken(n)?t.token.getWithoutPrompt({responseType:t.options.pkce?"code":n.accessToken?"token":"id_token",scopes:n.scopes},{authorizeUrl:n.authorizeUrl,userinfoUrl:n.userinfoUrl,issuer:n.issuer}):Is.reject(new Ss("Renew must be passed a token with an array of scopes and an accessToken or idToken"))},getUserInfo:function(t,n){return n&&(Vs.isToken(n)||n.accessToken||n.userinfoUrl)?Bs.httpRequest(t,{url:n.userinfoUrl,method:"GET",accessToken:n.accessToken}).fail((function(t){var n;if(t.xhr&&(401===t.xhr.status||403===t.xhr.status)&&(t.xhr.headers&&Rs.isFunction(t.xhr.headers.get)&&t.xhr.headers.get("WWW-Authenticate")?n=t.xhr.headers.get("WWW-Authenticate"):Rs.isFunction(t.xhr.getResponseHeader)&&(n=t.xhr.getResponseHeader("WWW-Authenticate")),n)){var i=n.match(/error="(.*?)"/)||[],r=n.match(/error_description="(.*?)"/)||[],e=i[1],s=r[1];e&&s&&(t=new Gs(e,s))}throw t})):Is.reject(new Ss("getUserInfo requires an access token object"))},verifyToken:io,handleOAuthResponse:so,prepareOauthParams:ao};function co(){}co.prototype={on:function(t,n,i){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:n,ctx:i}),this},once:function(t,n,i){var r=this;function e(){r.off(t,e),n.apply(i,arguments)}return e._=n,this.on(t,e,i)},emit:function(t){for(var n=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),r=0,e=i.length;r<e;r++)i[r].fn.apply(i[r].ctx,n);return this},off:function(t,n){var i=this.e||(this.e={}),r=i[t],e=[];if(r&&n)for(var s=0,o=r.length;s<o;s++)r[s].fn!==n&&r[s].fn._!==n&&e.push(r[s]);return e.length?i[t]=e:delete i[t],this}};var fo=co;function lo(t){this.localOffset=parseInt(t||0)}Rs.extend(lo.prototype,{now:function(){return(Date.now()+this.localOffset)/1e3}}),lo.create=function(){return new lo(0)};var vo=lo,wo={autoRenew:!0,storage:"localStorage",expireEarlySeconds:30};function po(t,n){return n.expiresAt-t.options.expireEarlySeconds}function go(t,n){t.emitter.emit("error",n)}function Co(t,n){clearTimeout(t.expireTimeouts[n]),delete t.expireTimeouts[n],delete t.renewPromise[n]}function mo(t,n,i,r){var e=po(n,r),s=1e3*Math.max(e-n.clock.now(),0);Co(n,i);var o=setTimeout((function(){!function(t,n,i){t.emitter.emit("expired",n,i)}(n,i,r)}),s);n.expireTimeouts[i]=o}function Fo(t,n,i,r,e){var s=i.getStorage();if(!Rs.isObject(e)||!e.scopes||!e.expiresAt&&0!==e.expiresAt||!e.idToken&&!e.accessToken)throw new Ss("Token must be an Object with scopes, expiresAt, and an idToken or accessToken properties");s[r]=e,i.setStorage(s),mo(0,n,r,e)}function yo(t,n){return t.getStorage()[n]}function bo(t,n,i,r){return Is.Promise((function(e){var s=yo(i,r);return s&&function(t,n){return po(t,n)<=t.clock.now()}(n,s)?e(n.options.autoRenew?Lo(t,n,i,r):Eo(n,i,r)):e(s)}))}function Eo(t,n,i){Co(t,i);var r=n.getStorage();delete r[i],n.setStorage(r)}function Lo(t,n,i,r){try{var e=yo(i,r);if(!e)throw new Ss("The tokenManager has no token for the key: "+r)}catch(t){return Is.reject(t)}return Co(n,r),n.renewPromise[r]||(n.renewPromise[r]=t.token.renew(e).then((function(t){var s=t;t instanceof Array&&(s=t.find((function(t){return t.idToken&&e.idToken||t.accessToken&&e.accessToken})));var o=yo(i,r);if(o)return Fo(0,n,i,r,s),n.emitter.emit("renewed",r,s,o),delete n.renewPromise[r],s})).fail((function(t){throw"OAuthError"===t.name&&(Eo(n,i,r),go(n,t)),t}))),n.renewPromise[r]}function So(t,n){!function(t){var n=t.expireTimeouts;for(var i in n)n.hasOwnProperty(i)&&Co(t,i)}(t),n.clearStorage()}var Ao=function(t,n){var i;switch("localStorage"!==(n=Rs.extend({},wo,Rs.removeNils(n))).storage||xs.browserHasLocalStorage()||(Rs.warn("This browser doesn't support localStorage. Switching to sessionStorage."),n.storage="sessionStorage"),"sessionStorage"!==n.storage||xs.browserHasSessionStorage()||(Rs.warn("This browser doesn't support sessionStorage. Switching to cookie-based storage."),n.storage="cookie"),n.storage){case"localStorage":i=As(localStorage,ks.TOKEN_STORAGE_NAME);break;case"sessionStorage":i=As(sessionStorage,ks.TOKEN_STORAGE_NAME);break;case"cookie":i=As(xs.getCookieStorage(n),ks.TOKEN_STORAGE_NAME);break;default:throw new Ss("Unrecognized storage option")}var r={clock:vo.create(t,n),options:n,emitter:new fo,expireTimeouts:{},renewPromise:{}};this.add=Rs.bind(Fo,this,t,r,i),this.get=Rs.bind(bo,this,t,r,i),this.remove=Rs.bind(Eo,this,r,i),this.clear=Rs.bind(So,this,r,i),this.renew=Rs.bind(Lo,this,t,r,i),this.on=Rs.bind(r.emitter.on,r.emitter),this.off=Rs.bind(r.emitter.off,r.emitter),function(t,n,i){try{var r=i.getStorage()}catch(t){return void go(n,t)}for(var e in r)r.hasOwnProperty(e)&&mo(0,n,e,r[e])}(0,r,i)},ko=xs.storage;function To(t){var n=this,i=$s.getValidUrl(t),r=t.pkce||"authorization_code"===t.grantType;if(this.options={url:Rs.removeTrailingSlash(i),clientId:t.clientId,issuer:Rs.removeTrailingSlash(t.issuer),authorizeUrl:Rs.removeTrailingSlash(t.authorizeUrl),userinfoUrl:Rs.removeTrailingSlash(t.userinfoUrl),tokenUrl:Rs.removeTrailingSlash(t.tokenUrl),pkce:r,redirectUri:t.redirectUri,httpRequestClient:t.httpRequestClient,storageUtil:t.storageUtil,transformErrorXHR:t.transformErrorXHR,headers:t.headers},this.options.pkce&&!n.features.isPKCESupported())throw new Ss("This browser doesn't support PKCE");this.userAgent="okta-auth-js-"+ks.SDK_VERSION,this.options.maxClockSkew=t.maxClockSkew||0===t.maxClockSkew?t.maxClockSkew:ks.DEFAULT_MAX_CLOCK_SKEW,this.options.ignoreSignature=!!t.ignoreSignature,n.session={close:Rs.bind(Ws.closeSession,null,n),exists:Rs.bind(Ws.sessionExists,null,n),get:Rs.bind(Ws.getSession,null,n),refresh:Rs.bind(Ws.refreshSession,null,n),setCookieAndRedirect:Rs.bind(Ws.setCookieAndRedirect,null,n)},n.tx={status:Rs.bind(Zs.transactionStatus,null,n),resume:Rs.bind(Zs.resumeTransaction,null,n),exists:Rs.bind(Zs.transactionExists,null,n),introspect:Rs.bind(Zs.introspect,null,n)},n.tx.exists._get=function(t){return ko.get(t)},n.idToken={authorize:{_getLocationHref:function(){return window.location.href}}},n.token={getWithoutPrompt:Rs.bind(uo.getWithoutPrompt,null,n),getWithPopup:Rs.bind(uo.getWithPopup,null,n),getWithRedirect:Rs.bind(uo.getWithRedirect,null,n),parseFromUrl:Rs.bind(uo.parseFromUrl,null,n),decode:uo.decodeToken,renew:Rs.bind(uo.renewToken,null,n),getUserInfo:Rs.bind(uo.getUserInfo,null,n),verify:Rs.bind(uo.verifyToken,null,n)},n.token.getWithRedirect._setLocation=function(t){window.location=t},n.token.parseFromUrl._getHistory=function(){return window.history},n.token.parseFromUrl._getLocation=function(){return window.location},n.token.parseFromUrl._getDocument=function(){return window.document},n.fingerprint._getUserAgent=function(){return navigator.userAgent};var e=/windows phone|iemobile|wpdesktop/i;n.features.isFingerprintSupported=function(){var t=n.fingerprint._getUserAgent();return t&&!e.test(t)},n.tokenManager=new Ao(n,t.tokenManager)}var xo=To.prototype;xo.features={},xo.features.isPopupPostMessageSupported=function(){var t=document.documentMode&&document.documentMode<10;return!(!window.postMessage||t)},xo.features.isTokenVerifySupported=function(){return"undefined"!=typeof crypto&&crypto.subtle&&"undefined"!=typeof Uint8Array},xo.features.isPKCESupported=function(){return xo.features.isTokenVerifySupported()},xo.signIn=function(t){var n=this;function i(i){return delete t.sendFingerprint,Zs.postToTransaction(n,"/api/v1/authn",t,i)}return(t=Rs.clone(t||{})).sendFingerprint?n.fingerprint().then((function(t){return i({headers:{"X-Device-Fingerprint":t}})})):i()},xo.signOut=function(){return this.session.close()},$s.addSharedPrototypes(xo),xo.webfinger=function(t){var n="/.well-known/webfinger"+Rs.toQueryParams(t);return Bs.get(this,n,{headers:{Accept:"application/jrd+json"}})},xo.fingerprint=function(t){t=t||{};var n=this;if(!n.features.isFingerprintSupported())return Is.reject(new Ss("Fingerprinting is not supported on this device"));var i=Is.defer(),r=document.createElement("iframe");function e(t){if(t&&t.data&&t.origin===n.options.url){try{var r=JSON.parse(t.data)}catch(t){return i.reject(new Ss("Unable to parse iframe response"))}if(r)return"FingerprintAvailable"===r.type?i.resolve(r.fingerprint):void("FingerprintServiceReady"===r.type&&t.source.postMessage(JSON.stringify({type:"GetFingerprint"}),t.origin))}}r.style.display="none",Vs.addListener(window,"message",e),r.src=n.options.url+"/auth/services/devicefingerprint",document.body.appendChild(r);var s=setTimeout((function(){i.reject(new Ss("Fingerprinting timed out"))}),t.timeout||15e3);return i.promise.fin((function(){clearTimeout(s),Vs.removeListener(window,"message",e),document.body.contains(r)&&r.parentElement.removeChild(r)}))};var Ro=$s.buildOktaAuth(To)(xs,(function(t,n,i){var r=i.data,e=i.headers||{};return"application/json"===(e["Content-Type"]||e["content-type"]||"")&&r&&"string"!=typeof r&&(r=JSON.stringify(r)),bs(n,{method:t,headers:i.headers,body:r,credentials:!1===i.withCredentials?"omit":"include"}).then((function(t){var n=!t.ok,i=t.status,r=function(t){var r={responseText:t,status:i};if(n)throw r;return r};return t.headers.get("Content-Type")&&t.headers.get("Content-Type").toLowerCase().indexOf("application/json")>=0?t.json().then(r):t.text().then(r)}))}));class Io{constructor(t){this.crdsAuthConfig=t,this.providerServiceKVP={},this.authenticationStatus$=new _i(null),this.logService=new ys(t.logging);let n=new Ro(this.crdsAuthConfig.oktaConfig),i=new Sr(n,this.logService);i.subscribeToTokenExpiration(()=>{this.authenticate().pipe(gr()).subscribe()}),i.subscribeToTokenRenewed(()=>{this.logService.Info("Token Renewed")}),i.subscribeToTokenError(()=>{this.authenticationStatus$.next(null)});let r=this.getVisibilityChange();document.addEventListener(r,()=>{"visible"===document.visibilityState&&this.authenticate().pipe(gr()).subscribe()}),this.providerServiceKVP[sr.Okta]=i,this.providerServiceKVP[sr.Mp]=new Fs(t.mpConfig.accessTokenCookie,t.mpConfig.refreshTokenCookie,t.mpConfig.issuer)}getVisibilityChange(){let t;return void 0!==document.hidden?t="visibilitychange":void 0!==document.mozHidden?t="mozvisibilitychange":void 0!==document.msHidden?t="msvisibilitychange":void 0!==document.webkitHidden&&(t="webkitvisibilitychange"),t}authenticated(){return this.authenticationStatus$.value?this.authenticationStatus$.asObservable():this.authenticate().pipe(gr(),yr(t=>{this.authenticationStatus$.next(t)}),Cr(()=>this.authenticationStatus$.asObservable()))}authenticate(){return this.AuthenticateByProvider(0).pipe(gr(),yr(t=>{this.authenticationStatus$.next(t)}),Ki(t=>(t&&vs.setNetlifyJWT(),t)))}AuthenticateByProvider(t){return t>=Object.keys(this.providerServiceKVP).length?Oi(null):this.providerServiceKVP[this.crdsAuthConfig.providerPreference[t]].authenticated().pipe(gr(),Cr(n=>null!=n?Oi(n):this.AuthenticateByProvider(++t)))}signOut(){return this.SignOutByProvider(0)}SignOutByProvider(t){return t>=Object.keys(this.providerServiceKVP).length?Oi(!1):this.providerServiceKVP[this.crdsAuthConfig.providerPreference[t]].signOut().pipe(gr(),Cr(n=>n?(vs.deleteCookie("nf_jwt"),this.authenticationStatus$.next(null),Oi(n)):this.SignOutByProvider(++t)))}}class Mo{constructor(t={}){this.authenticated=!1,this.subdomainMap={prod:"www"},this.config=t,this.analytics=window.analytics||{};const n={clientId:t.okta_client_id,issuer:t.okta_issuer,tokenManager:{storage:"localStorage"}},i={accessTokenCookie:t.mp_access_token_cookie,refreshTokenCookie:t.mp_refresh_token_cookie,issuer:Mo.getMPIssuerEndpoint(this.config.env)};this.authService=new Io({oktaConfig:n,mpConfig:i,logging:t.logging||!1,providerPreference:[sr.Okta,sr.Mp]})}listen(t){this.authService.authenticated().subscribe(n=>{if(!n)return this.authenticated=!1;this.authenticated=!0,this.token=n,this.isMp=n.provider==sr.Mp,this.isOkta=n.provider==sr.Okta,this.updateCurrentUser(),t(this)})}signOut(t){this.authService.signOut().subscribe(n=>{n?(this.authenticated=!1,this.updateCurrentUser(),t(this)):console.log("log out failed")})}updateCurrentUser(){if(!this.authenticated)return this.currentUser=null;const t=this.getUserId(),n=this.getUser();return this.analytics&&this.analytics.identify(t,{name:n}),this.currentUser={id:t,name:n,avatarUrl:this.getUserImageUrl()}}getUserId(){return this.authenticated?this.isOkta?this.token.id_token.claims.mpContactId:this.isMp?X.getCookie("userId"):void 0:null}getUser(){return this.authenticated?this.isOkta?this.token.id_token.claims.name:this.isMp?X.getCookie("username"):void 0:null}getUserImageUrl(){if(!this.authenticated)return null;const t=this.getUserId();return t?`https://${X.getSubdomain(this.config.env)}.crossroads.net/proxy/gateway/api/image/profile/${t}`:null}static getMPIssuerEndpoint(t){return`https://gateway${"int"==t||"demo"==t?t:""}.crossroads.net/gateway/api/authenticated`}}var Do='<svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="times" class="svg-inline--fa fa-times fa-w-10" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="" d="M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"></path></svg>';const jo=class{constructor(n){t(this,n),this.data={},this.openNavName="",this.isAuthenticated=!1,this.auth={}}componentWillLoad(){this.data.config&&!this.auth.config&&(this.auth=new Mo(Object.assign(this.data.config,{env:this.env})),this.auth.listen(this.authChangeCallback.bind(this)))}componentDidLoad(){this.topOffset=this.element.getBoundingClientRect().top+window.scrollY}handleSignOut(){this.auth.signOut(this.authChangeCallback.bind(this))}authChangeCallback(){this.isAuthenticated=this.auth.authenticated,this.isAuthenticated||this.redirectToRoot()}redirectToRoot(){window.location.replace(this.rootURL())}isNavOpen(){return["main-nav","give-nav","profile-nav"].includes(this.openNavName)}toggleNav(t,n,i=!1){t.stopPropagation(),this.openNavName===n?(t.preventDefault(),this.openNavName=""):i?this.isAuthenticated&&(t.preventDefault(),this.openNavName=n):(t.preventDefault(),this.openNavName=n);const r=this.isNavOpen()?"overflow: hidden; position: absolute; width: 100vw;":"overflow: scroll;";document.body.setAttribute("style",r)}closeNav(t){this.isNavOpen()&&t.preventDefault(),this.openNavName="",document.body.setAttribute("style","overflow: scroll;")}rootURL(){return`https://${X.getSubdomain(this.env)}.crossroads.net`}authProfileIcon(){return`<div class="account-authenticated" style="background-image: url('${this.auth.currentUser&&this.auth.currentUser.avatarUrl||""}');"/>`}render(){return n(ft,null,n("header",{ref:t=>this.element=t,class:this.isNavOpen()?"nav-is-showing":"",style:{top:`${"profile-nav"===this.openNavName||"give-nav"===this.openNavName?this.topOffset:0}px`}},n("div",null,n("div",{class:"global-nav-items"},n("div",{class:"global-actions"},n("a",{class:`menu-container ${"main-nav"===this.openNavName?"nav-is-showing":""}`,onClick:t=>this.toggleNav(t,"main-nav"),"data-label":"menu","data-automation-id":"sh-menu"},n("div",{class:"menu",innerHTML:'<svg id="menu-thin" width="256" height="256" viewBox="0 0 256 256"><g><path d="M242.852679,47.6875 L14.1473214,47.6875 C12.4091038,47.6875 11,46.5915304 11,45.2395833 L11,35.4479167 C11,34.0959696 12.4091038,33 14.1473214,33 L242.852679,33 C244.590896,33 246,34.0959696 246,35.4479167 L246,45.2395833 C246,46.5915304 244.590896,47.6875 242.852679,47.6875 Z M242.852679,135.8125 L14.1473214,135.8125 C12.4091038,135.8125 11,134.71653 11,133.364583 L11,123.572917 C11,122.22097 12.4091038,121.125 14.1473214,121.125 L242.852679,121.125 C244.590896,121.125 246,122.22097 246,123.572917 L246,133.364583 C246,134.71653 244.590896,135.8125 242.852679,135.8125 Z M242.852679,223.9375 L14.1473214,223.9375 C12.4091038,223.9375 11,222.84153 11,221.489583 L11,211.697917 C11,210.34597 12.4091038,209.25 14.1473214,209.25 L242.852679,209.25 C244.590896,209.25 246,210.34597 246,211.697917 L246,221.489583 C246,222.84153 244.590896,223.9375 242.852679,223.9375 Z"/></g></svg>'}),n("div",{class:"close",innerHTML:Do})),n("a",{href:`${this.rootURL()}/search`,class:"search-container","data-automation-id":"sh-search","data-label":"search"},n("div",{class:"search",innerHTML:'<svg id="search-thin" width="256" height="256" viewBox="0 0 256 256"><g><path d="M244.375275,231.976661 L184.91724,172.518627 C183.857136,171.458523 182.474391,170.905425 180.999463,170.905425 L176.252038,170.905425 C192.061423,153.805478 201.740638,130.990186 201.740638,105.870319 C201.740638,52.911186 158.829452,10 105.870319,10 C52.911186,10 10,52.911186 10,105.870319 C10,158.829452 52.911186,201.740638 105.870319,201.740638 C130.990186,201.740638 153.805478,192.061423 170.905425,176.29813 L170.905425,180.999463 C170.905425,182.474391 171.504614,183.857136 172.518627,184.91724 L231.976661,244.375275 C234.142962,246.541575 237.645916,246.541575 239.812216,244.375275 L244.375275,239.812216 C246.541575,237.645916 246.541575,234.142962 244.375275,231.976661 Z M105.870319,186.991358 C61.0232899,186.991358 24.7492798,150.717348 24.7492798,105.870319 C24.7492798,61.0232899 61.0232899,24.7492798 105.870319,24.7492798 C150.717348,24.7492798 186.991358,61.0232899 186.991358,105.870319 C186.991358,150.717348 150.717348,186.991358 105.870319,186.991358 Z"/></g></svg>'}))),n("a",{href:this.rootURL(),"data-automation-id":"sh-logo",class:"logo",innerHTML:'<svg width="308" height="81" viewBox="0 0 308 81" xmlns="http://www.w3.org/2000/svg"><path id="crossroads-church-logo" d="M211.9 52.2h3.3v10.5h.1c1.1-2.4 3.9-3.4 6.3-3.4 5.2 0 6.8 3 6.8 7.3v13H225V66.2c0-2.4-1.5-4-4-4-4 0-5.9 2.6-5.9 6.2v11.2h-3.3V52.2h.1zm-7.2 14c-.5-2.5-2.2-4-4.9-4-4.7 0-6.2 3.7-6.2 7.8 0 3.6 1.7 7.3 5.8 7.3 3.1 0 5-1.8 5.4-4.8h3.3c-.7 4.8-3.8 7.7-8.7 7.7-6.1 0-9.3-4.2-9.3-10.1 0-5.9 3.1-10.6 9.4-10.6 4.5 0 8.1 2.1 8.6 6.8h-3.4v-.1zm49.5-6.4h3.1V64h.1c1.6-3.2 3.8-4.8 7.3-4.6v3.5c-5.3 0-7.2 3-7.2 8v8.8h-3.3V59.8zm-4.8 19.8h-3.1v-3.1h-.1c-1.4 2.5-3.6 3.6-6.4 3.6-5.2 0-6.8-3-6.8-7.3v-13h3.3v13.4c0 2.4 1.5 4 4 4 4 0 5.9-2.6 5.9-6.2V59.8h3.3v19.8h-.1zm38.2-27.4h3.3v10.5h.1c1.1-2.4 3.9-3.4 6.3-3.4 5.2 0 6.8 3 6.8 7.3v13h-3.3V66.2c0-2.4-1.5-4-4-4-4 0-5.9 2.6-5.9 6.2v11.2h-3.3V52.2zm-7.2 14c-.5-2.5-2.2-4-4.9-4-4.7 0-6.2 3.7-6.2 7.8 0 3.6 1.7 7.3 5.8 7.3 3.1 0 5-1.8 5.4-4.8h3.3c-.7 4.8-3.8 7.7-8.7 7.7-6.1 0-9.3-4.2-9.3-10.1 0-5.9 3.1-10.6 9.4-10.6 4.5 0 8.1 2.1 8.6 6.8h-3.4v-.1zm7.6-45.7c0-1.6 1.4-2.2 3.6-2.2 1 0 1.9.2 2.5.8.7.5 1.1 1.3 1.2 2.3h11.4c-.7-8.4-8.8-10-15.7-10-6 0-13.6 2-14.8 8.6V.5h-12.6v15c-2.7-3.1-5.4-4.1-9.4-4.1-6.5 0-11.7 5-13 13 0-7.5-1-13-15.9-13-12.5 0-17.3 3.9-17.3 10.6h12.1c.3-2.7 2.7-3.1 4.4-3.1 1.3 0 4.1.3 4.1 2.6 0 4.7-14.5 1.5-20.2 7.4v-1.2c0-9.8-6.9-16.4-18-16.4-6.5 0-11.7 2.3-14.8 6.5v-6.3c-.5-.1-1.1-.2-1.6-.2-4.9 0-8 2.4-9.7 7.3l-.1-6.4h-11.4v17.6c-3.9-7.3-19.1-5.6-19.1-9.4 0-1.6 1.4-2.2 3.6-2.2 1 0 1.9.2 2.5.8.7.5 1.1 1.3 1.2 2.3h11.4c-.7-8.4-8.8-10-15.7-10-6.6 0-14.9 2.4-14.9 10.4 0 12.3 19.4 8.2 19.4 13.3 0 2.2-2.1 2.8-4 2.8-1.2 0-2.3-.3-3.1-1-.8-.7-1.3-1.6-1.3-2.9H123v-.3c0-11.8-20-8.9-20-13.3 0-1.6 1.4-2.2 3.6-2.2 1 0 1.9.2 2.5.8.7.5 1.1 1.3 1.2 2.3h11.4c-.7-8.4-8.8-10-15.7-10-6.6 0-15 2.4-15 10.4v.3c-2.2-6.6-8.3-10.7-17.1-10.7-6.5 0-11.7 2.3-14.8 6.5v-6.3c-.5-.1-1.1-.2-1.6-.2-4.9 0-8 2.4-9.7 7.3l-.1-6.4H36.3v19.4H23.8c-.4 2.5-1.6 4.7-4.9 4.7-3.7 0-5.5-3.1-5.5-7.9 0-3.7.8-8.6 5.5-8.6 1.4 0 2.5.4 3.2 1.3.8.8 1.3 1.9 1.3 3.3h12.7c-.9-9.4-8.9-13-17.3-13-10.4 0-18 6.2-18 17 0 10.7 7.8 16.4 18 16.4 8.4 0 15.8-3.3 17.4-12v11.1h12.5V33c0-6.8 2.6-9.2 7.7-9.2-.3 1.5-.5 3-.5 4.7 0 10.8 7.8 16.3 18 16.3 7.4 0 13.6-2.9 16.4-9 1.5 7.1 8.9 9 15.6 9 8.7 0 14-2.5 16-6.6 2.5 5.1 8.9 6.6 14.8 6.6 8.9 0 14.1-2.6 16.1-6.8v5.9h12.6V33c0-6.8 2.6-9.2 7.7-9.2-.3 1.5-.5 3-.5 4.7 0 10.8 7.8 16.3 18 16.3 6.9 0 12.8-2.5 15.8-7.8.9 5.4 5.7 7.8 11.1 7.8 4.7 0 8.3-1 11.9-4.3l.6 3.4h13v-.6c-1.6-1.3-1.7-2.2-1.7-4v-6.5c1.3 7 6 12.1 14 12.1 4 0 6.7-1.3 9.7-5.1V44h11.3v-5.6c2.6 5 8.9 6.5 14.7 6.5 11.6 0 17-4.5 17-11 0-11.9-20-9-20-13.4zM74 36.4c-3.2 0-5.4-2.6-5.4-8.6 0-3.5 1.3-8 5.6-8 3.3-.2 5.3 3.3 5.3 8-.1 6-2.1 8.6-5.5 8.6zm32.5 1.6c-1.2 0-2.3-.3-3.1-1-.8-.7-1.3-1.6-1.3-2.9h-11c.6-1.8.9-3.9.9-6.3 0-.8-.1-1.5-.1-2.2 3.6 7.7 18.6 5.1 18.6 9.6-.1 2.1-2.1 2.8-4 2.8zm84.1-1.6c-3.2 0-5.4-2.6-5.4-8.6 0-3.5 1.3-8 5.5-8 3.3-.2 5.3 3.3 5.3 8 0 6-2 8.6-5.4 8.6zm32.6 1.3c-2.5 0-4-1.1-4-2.7 0-4.1 5.4-3.1 9.5-5.1.3 4.4-1.1 7.8-5.5 7.8zm35.2-1.9c-4.1 0-4.9-3.9-4.9-7.2 0-3.5 1.1-7.5 5.3-7.5 4.2 0 5.4 3.8 5.4 7.3-.1 3.7-1.4 7.4-5.8 7.4zm33.1 2.2c-1.2 0-2.3-.3-3.1-1-.9-.7-1.3-1.6-1.3-2.9h-10.8V23.8c1.9 9.9 19.2 6.6 19.2 11.4 0 2.1-2.1 2.8-4 2.8z" fill-rule="nonzero" fill=""/></svg>'}),n("div",{class:"user-actions"},n("a",{class:`give-container ${"give-nav"===this.openNavName?"nav-is-showing":""}`,onClick:t=>this.toggleNav(t,"give-nav"),"data-label":"give","data-automation-id":"sh-give"},n("div",{class:"donate",innerHTML:'<svg viewBox="0 0 244.36 244.36"><defs><mask id="a" x="-6" y="-6" width="256" height="256" maskUnits="userSpaceOnUse"><g transform="translate(-6 -6)"><rect width="256" height="256" style="fill:#fff"/></g></mask></defs><g style="mask:url(#a)"><path d="M113.39,109.09A27.82,27.82,0,0,1,100,100.74a25.23,25.23,0,0,1-6.2-14.08,24.08,24.08,0,0,1,6.44-19.09,24.39,24.39,0,0,1,18.85-8.12h1.44V48a4.09,4.09,0,0,1,3.81-3.82H132A4.11,4.11,0,0,1,135.82,48V59.45h.48a33.71,33.71,0,0,1,20.52,6.69,5.46,5.46,0,0,1,1.67,3.1,3.56,3.56,0,0,1-1.19,3.1l-5.25,5.25a4.29,4.29,0,0,1-2.39,1.19,2.6,2.6,0,0,1-2.39-.71,17.88,17.88,0,0,0-10.5-3.34H119.11A9.72,9.72,0,0,0,112,77.59,8.94,8.94,0,0,0,109.09,84,10.29,10.29,0,0,0,111,90.24a9.5,9.5,0,0,0,5.25,3.58l28.16,8.11a24.66,24.66,0,0,1,15.27,12.41,23.29,23.29,0,0,1,1.43,20,22.1,22.1,0,0,1-9.3,12.17,27.73,27.73,0,0,1-15.51,4.53h-.48v11.46a4.11,4.11,0,0,1-3.82,3.81h-7.64a4.09,4.09,0,0,1-3.81-3.81V151.09h-.48a32.24,32.24,0,0,1-20.52-7.16,3.64,3.64,0,0,1-1.68-2.62,3.58,3.58,0,0,1,1.2-3.11l5.25-5.25a4.29,4.29,0,0,1,2.38-1.19,2.58,2.58,0,0,1,2.39.72,18.71,18.71,0,0,0,11,3.34h17.18a9.72,9.72,0,0,0,7.16-2.87,8.87,8.87,0,0,0,2.86-6.44,10.2,10.2,0,0,0-1.91-6.2,9.45,9.45,0,0,0-5.25-3.58Zm121.7,34.36a15.49,15.49,0,0,1,15.27,15.28v76.36a15.47,15.47,0,0,1-15.27,15.27H21.27a14.71,14.71,0,0,1-10.74-4.53A14.68,14.68,0,0,1,6,235.09V158.73A14.68,14.68,0,0,1,10.53,148a14.72,14.72,0,0,1,10.74-4.54H36.55a97.2,97.2,0,0,1-7.64-38.18A96.4,96.4,0,0,1,42.27,55.4a100.25,100.25,0,0,1,36-36A96.4,96.4,0,0,1,128.18,6a96.43,96.43,0,0,1,49.88,13.36,100.3,100.3,0,0,1,36,36,96.4,96.4,0,0,1,13.36,49.87,97.37,97.37,0,0,1-7.63,38.18ZM128.18,21.27a83.6,83.6,0,0,0-84,84,83.57,83.57,0,0,0,84,84,83.57,83.57,0,0,0,84-84,83.6,83.6,0,0,0-84-84ZM235.09,235.09V158.73H211.7a99.76,99.76,0,0,1-30.54,30.54h19.57a4.11,4.11,0,0,1,3.81,3.82v7.64a4.09,4.09,0,0,1-3.81,3.81H55.64a4.09,4.09,0,0,1-3.82-3.81v-7.64a4.11,4.11,0,0,1,3.82-3.82h20a97.93,97.93,0,0,1-31-30.54H21.27v76.36Z" transform="translate(-6 -6)"/></g></svg>'}),n("div",{class:"close",innerHTML:Do})),n("a",{class:`profile-container ${"profile-nav"===this.openNavName?"nav-is-showing":""}`,onClick:t=>this.toggleNav(t,"profile-nav",!0),"data-label":this.isAuthenticated?"my account":"sign in",href:`${this.rootURL()}/signin`,"data-automation-id":"sh-profile"},n("div",{class:"account",innerHTML:this.isAuthenticated?this.authProfileIcon():'<svg id="account-thin" width="256" height="256" viewBox="0 0 256 256"><g><path d="M128,10 C62.8145161,10 10,62.8145161 10,128 C10,193.185484 62.8145161,246 128,246 C193.185484,246 246,193.185484 246,128 C246,62.8145161 193.185484,10 128,10 Z M188.903226,210.6 C171.821774,223.208871 150.791129,230.774194 128,230.774194 C105.208871,230.774194 84.1782258,223.208871 67.0967742,210.6 L67.0967742,204.129032 C67.0967742,187.333065 80.7524194,173.677419 97.5483871,173.677419 C102.829839,173.677419 110.633065,179.101613 128,179.101613 C145.414516,179.101613 153.122581,173.677419 158.451613,173.677419 C175.247581,173.677419 188.903226,187.333065 188.903226,204.129032 L188.903226,210.6 Z M203.462903,197.515323 C200.227419,175.437903 181.433065,158.451613 158.451613,158.451613 C148.697581,158.451613 143.987097,163.875806 128,163.875806 C112.012903,163.875806 107.35,158.451613 97.5483871,158.451613 C74.5669355,158.451613 55.7725806,175.437903 52.5370968,197.515323 C35.6459677,179.196774 25.2258065,154.835484 25.2258065,128 C25.2258065,71.3314516 71.3314516,25.2258065 128,25.2258065 C184.668548,25.2258065 230.774194,71.3314516 230.774194,128 C230.774194,154.835484 220.354032,179.196774 203.462903,197.515323 Z M128,63.2903226 C104.875806,63.2903226 86.1290323,82.0370968 86.1290323,105.16129 C86.1290323,128.285484 104.875806,147.032258 128,147.032258 C151.124194,147.032258 169.870968,128.285484 169.870968,105.16129 C169.870968,82.0370968 151.124194,63.2903226 128,63.2903226 Z M128,131.806452 C113.297581,131.806452 101.354839,119.86371 101.354839,105.16129 C101.354839,90.458871 113.297581,78.516129 128,78.516129 C142.702419,78.516129 154.645161,90.458871 154.645161,105.16129 C154.645161,119.86371 142.702419,131.806452 128,131.806452 Z"/></g></svg>'}),n("div",{class:"close",innerHTML:Do})))),n("give-nav",{isNavShowing:"give-nav"===this.openNavName,data:this.data.give}),n("profile-nav",{isNavShowing:"profile-nav"===this.openNavName&&this.isAuthenticated,handleSignOut:this.handleSignOut.bind(this),currentUser:this.auth.currentUser,data:this.data.profile}))),n("main-nav",{isNavShowing:"main-nav"===this.openNavName,data:this.data.nav,promoData:this.data.promos}),n("div",{class:`close-nav ${this.isNavOpen()?"is-showing":""}`},n("div",{class:"close-nav-icon",innerHTML:Do,onClick:this.closeNav.bind(this)})))}static get style(){return"header{background-color:#0095d9;position:relative;top:0;width:100%;z-index:2}\@supports ((position:-webkit-sticky) or (position:sticky)){header{position:-webkit-sticky;position:sticky}}header.nav-is-showing{position:fixed}\@supports ((position:-webkit-sticky) or (position:sticky)){header.nav-is-showing{position:-webkit-sticky;position:sticky}}header>div{margin:0 auto;max-width:1170px;padding:0 15px;position:relative}.global-nav-items{-ms-flex-pack:justify;justify-content:space-between;padding:2px}.global-actions,.global-nav-items,.user-actions{display:-ms-flexbox;display:flex}.global-actions a:first-of-type,.user-actions a:first-of-type{margin-right:18px}.logo{left:50%;margin:7px 0 0 -52px;position:absolute}.logo svg{fill:#fff;height:29px;width:111px}.account,.donate,.menu,.search{display:block;height:22px;padding:12px 0;width:22px}.account svg,.donate svg,.menu svg,.search svg{height:22px;width:22px}.account .account-authenticated{background-color:#fff;background-position:50%;background-repeat:no-repeat;background-size:22px;border:1.5px solid #fff;border-radius:50%;-webkit-box-sizing:border-box;box-sizing:border-box;height:22px;width:22px}\@media (hover){.account .account-authenticated:hover{-webkit-filter:brightness(90%);filter:brightness(90%)}}.close{display:block;padding:9px 0}.close,.close svg{height:26px;width:26px}.give-container,.menu-container,.profile-container,.search-container{color:#fff;display:-ms-flexbox;display:flex;text-decoration:none}\@media (min-width:768px){.give-container:after,.menu-container:after,.profile-container:after,.search-container:after{-ms-flex-item-align:center;align-self:center;bottom:2px;content:attr(data-label);display:inline-block;font-size:13px;margin-left:7px;position:relative;text-transform:capitalize}}.give-container svg,.menu-container svg,.profile-container svg,.search-container svg{fill:#fff}\@media (hover){.give-container:hover,.menu-container:hover,.profile-container:hover,.search-container:hover{color:#ccc}.give-container:hover svg,.menu-container:hover svg,.profile-container:hover svg,.search-container:hover svg{fill:#ccc}}.menu-container .close{display:none;margin-right:-4px}\@media (min-width:992px){.menu-container.nav-is-showing .menu{display:none}.menu-container.nav-is-showing .close{display:block}}.profile-container .close{display:none;margin-right:-4px}\@media (min-width:992px){.profile-container.nav-is-showing .account{display:none}.profile-container.nav-is-showing .close{display:block}}.give-container .close{display:none;margin-right:-4px}\@media (min-width:992px){.give-container.nav-is-showing .donate{display:none}.give-container.nav-is-showing .close{display:block}}.close-nav{background:-webkit-gradient(linear,left top,left bottom,from(transparent),to(rgba(0,0,0,.9)));background:linear-gradient(180deg,transparent,rgba(0,0,0,.9));bottom:0;display:none;height:125px;padding-left:22px;position:fixed;width:100%;z-index:3}\@media (max-width:992px){.close-nav.is-showing{display:block}}.close-nav-icon{background-color:#0095d9;border-radius:50%;bottom:22px;-webkit-box-shadow:0 5px 24px -5px rgba(0,0,0,.75);box-shadow:0 5px 24px -5px rgba(0,0,0,.75);cursor:pointer;height:64px;position:absolute;width:64px}.close-nav svg{fill:#fff;height:30px;left:50%;position:absolute;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:30px}"}},Bo=class{constructor(n){t(this,n),this.isNavShowing=!0,this.data=[]}handleBackClick(t){t.preventDefault(),this.activeSection=null}handleSectionClick(t,n){t.preventDefault(),this.activeSection=n}maybeRenderSections(){const t=this.data.map(t=>{const i=X.parameterize(t.title);return n("nav-section",{sectionName:i,handleClick:this.handleSectionClick.bind(this),isActive:this.activeSection===i},n("h2",null,t.title),n("p",null,t.description))});return t.length>0&&n("ul",null,t)}renderSubNavOrCtas(){return this.activeSection?n("div",{class:"subnavigation"},this.maybeRenderActiveSubNav()):n("nav-ctas",{data:this.promoData})}maybeRenderActiveSubNav(){const t=this.data.find(t=>(t.subNavName=X.parameterize(t.title),t.subNavName===this.activeSection));return t&&n("nav-section-subnav",{subNavName:t.subNavName,data:t,handleBackClick:this.handleBackClick.bind(this),isActive:!0})}getNavClass(){let t=[];return this.isNavShowing&&t.push("is-showing"),this.activeSection&&t.push(`section--${this.activeSection}`),t.join(" ")}render(){return this.isNavShowing&&Array.isArray(this.data)?n("nav",{class:this.getNavClass(),onClick:t=>t.stopPropagation()},n("div",{class:"content"},n("div",{class:"navigation"},this.maybeRenderSections()),this.renderSubNavOrCtas())):null}static get style(){return"nav{background-color:#000;background-repeat:no-repeat;background-size:cover;color:#fff;display:none;font-family:acumin-pro,helvetica,arial,sans-serif;height:calc(100% - 47px);overflow-x:hidden;overflow-y:scroll;position:fixed;top:47px;-webkit-transform:translateX(0);transform:translateX(0);width:100vw;z-index:2;background-image:url(https://crds-media.imgix.net/7B6MoNNiWMZOtdusfRpipl/651049926b72990ae4f510a725cc2b26/nav-section-default-mobile.jpg?auto=format%2Ccompress)}nav.is-showing{display:block}\@media (min-width:768px){nav{height:100vh}}\@media (min-width:992px){nav{background-size:100%;background-image:url(https://crds-media.imgix.net/1OTqm9FjFl6wtjCXAkA04V/d44f06765e1fe0cf6a33ac3222b29302/nav-section-default.jpg?auto=format%2Ccompress)}}nav.section--come-visit{background-image:url(https://crds-media.imgix.net/7tP5INZjs0NUsWUlUDRpKv/6af5b40c0caf555a52876d51037de2a2/nav-section-locations-mobile.jpg?auto=format%2Ccompress)}\@media (min-width:992px){nav.section--come-visit{background-image:url(https://crds-media.imgix.net/49tv3Wjdt28dPnim7TbR89/6e9931a3700a3894510faa32d6dcea0f/nav-section-locations.jpg?auto=format%2Ccompress)}}nav.section--find-community{background-image:url(https://crds-media.imgix.net/67LrfkAcGom2zu23JncnA0/6e3c9b52f38f455d69f8b441d0d60726/nav-section-community-mobile.jpg?auto=format%2Ccompress)}\@media (min-width:992px){nav.section--find-community{background-image:url(https://crds-media.imgix.net/zEx1Ajg3dIlh5SpvzQ1qI/981c79df660b3dc5b393338a7640b2a1/nav-section-community.jpg?auto=format%2Ccompress)}}nav.section--get-support{background-image:url(https://crds-media.imgix.net/Cx02UnQr9sbVzjpXIcuqY/92b73ec270bf84af99c590bbd0173c54/nav-section-support-mobile.jpg?auto=format%2Ccompress)}\@media (min-width:992px){nav.section--get-support{background-image:url(https://crds-media.imgix.net/7i7YFUv6uY8MpwztZwIZE0/d093954885a5af29757040281c3b7e4c/nav-section-support.jpg?auto=format%2Ccompress)}}nav.section--watch-listen-read{background-image:url(https://crds-media.imgix.net/5lMvnR6A9cavGG4aS0zzO8/bcff1c0f42284f027a411b22a85bfb55/nav-section-media-mobile.jpg?auto=format%2Ccompress)}\@media (min-width:992px){nav.section--watch-listen-read{background-image:url(https://crds-media.imgix.net/59liSAMGW8dBCeUza5NUvj/b43c1e158ac599fd6debc40b916997d9/nav-section-media.jpg?auto=format%2Ccompress)}}nav .content{position:relative;width:200vw;z-index:3;margin:0 auto;max-width:1170px}\@media (max-width:992px){nav .content{padding-bottom:125px;-webkit-transform:translateX(0);transform:translateX(0);-webkit-transition:-webkit-transform .2s linear;transition:-webkit-transform .2s linear;transition:transform .2s linear;transition:transform .2s linear,-webkit-transform .2s linear}}\@media (min-width:992px){nav .content{display:-ms-flexbox;display:flex;padding-bottom:0}}\@media (max-width:992px){nav[class*=section--] .content{-webkit-transform:translateX(-100vw);transform:translateX(-100vw);-webkit-transition:-webkit-transform .2s linear;transition:-webkit-transform .2s linear;transition:transform .2s linear;transition:transform .2s linear,-webkit-transform .2s linear}}\@media (min-width:992px){nav[class*=section--] .ctas{display:none}}.navigation{position:relative;width:100vw}\@media (min-width:992px){.navigation{margin-right:1.2%;width:50%}}.navigation ul{padding-left:0;margin:0;padding:30px 0 20px}.navigation ul li{list-style:none}\@media (min-width:992px){.navigation ul{padding:50px 20px 0;position:relative;z-index:1}}.navigation li{width:100%}.navigation:after{background-color:#d8d8d8;bottom:0;content:\"\";height:2px;left:20px;margin:0 auto;opacity:.2;position:absolute;width:calc(100vw - 40px)}\@media (min-width:992px){.navigation:after{background:-webkit-gradient(linear,left top,left bottom,from(#fff),to(hsla(0,0%,100%,0)));background:linear-gradient(180deg,#fff 0,hsla(0,0%,100%,0));height:100%;left:auto;right:56px;top:50px;width:2px}}\@media (max-width:992px){.subnavigation{left:100vw;padding-bottom:125px;position:absolute;top:0}}\@media (min-width:992px){.subnavigation{padding-top:47px;width:calc(50% - 40px)}}"}};var _o=function(t){return null!=t&&("object"==typeof t||"function"==typeof t)};function Po(t,n){for(var i in n)No(n,i)&&(t[i]=n[i])}function No(t,n){return Object.prototype.hasOwnProperty.call(t,n)}var Oo,Uo={},Ho={default:{"&quot;":'"',"&#34;":'"',"&apos;":"'","&#39;":"'","&amp;":"&","&#38;":"&","&gt;":">","&#62;":">","&lt;":"<","&#60;":"<"},extras:{"&cent;":"","&#162;":"","&copy;":"","&#169;":"","&euro;":"","&#8364;":"","&pound;":"","&#163;":"","&reg;":"","&#174;":"","&yen;":"","&#165;":""}};function zo(t,n){if(!function(t){return t&&"string"==typeof t}(t))return"";var i=Ho[n||"default"],r=function(t,n){if(Uo[t])return Uo[t];var i=Object.keys(n).join("|"),r=new RegExp("(?=("+i+"))\\1","g");return Uo[t]=r,r}(n,i);return t.replace(r,(function(t){return i[t]}))}Object.defineProperty(Ho,"all",{get:function(){return Oo||(Oo=function(t){_o(t)||(t={});for(var n=arguments.length,i=1;i<n;i++){var r=arguments[i];_o(r)&&Po(t,r)}return t}({},Ho.default,Ho.extras))}}),zo.chars=Ho.default,zo.extras=Ho.extras,Object.defineProperty(zo,"all",{get:function(){return Ho.all}});var Zo=zo;const $o=class{constructor(n){t(this,n)}decodedData(){return Zo(this.data||"")}render(){return n("div",{class:"ctas",innerHTML:this.decodedData()})}static get style(){return".ctas{font-family:acumin-pro,helvetica,arial,sans-serif!important;font-weight:300!important;padding:40px 20px 0}\@media (max-width:992px){.ctas{width:calc(100vw - 40px)}}\@media (min-width:992px){.ctas{padding:70px 0 0}}.ctas h3{font-size:11px;margin-top:0;opacity:.5;text-transform:uppercase}.cta{background-color:rgba(21,21,21,.8);display:-ms-flexbox;display:flex;margin-bottom:10px;text-decoration:none}.cta-image{height:75px}.cta-image img{height:75px;width:100px}.cta-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;padding:0 20px;width:100%}.cta-content h4{color:#fff;font-size:14px;font-weight:600;text-transform:uppercase}.cta-content h4,.cta-content p{margin:0}.cta-content p{color:#979797;font-size:12px;font-weight:300;line-height:18px}.cta:hover-content h4{color:#ccc}.more-updates{color:#0095d9;font-size:12px;text-decoration:none;text-transform:capitalize}"}},Ko=class{constructor(n){t(this,n),this.isActive=!1,this.debug=!0}componentWillLoad(){this.console=new G(this.debug),this.config=new Q}onClick(t){"function"==typeof this.handleClick?this.handleClick(t,this.sectionName):console.error("Function to handle nav-section click not provided")}render(){return n("li",null,n("a",{class:this.isActive?"is-active":"","data-automation-id":`sh-section-${this.sectionName}`,onClick:this.onClick.bind(this)},n("slot",null)))}static get style(){return"nav-section a{cursor:pointer;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin-bottom:10px;padding:15px 20px}\@media (min-width:992px){nav-section a{height:96px;-ms-flex-pack:center;justify-content:center;margin-bottom:0;position:relative;width:86%}}nav-section a:after{border-color:transparent transparent transparent #0095d9;border-style:solid;border-width:63px 0 63px 50px;content:\"\";height:0;left:0;position:absolute;top:0;visibility:hidden;width:0}nav-section a:before{background-color:#0095d9;content:\"\";display:inline-block;height:100%;left:0;position:absolute}\@media (min-width:992px){nav-section a:hover:before{width:4px}}\@media (min-width:992px){nav-section a.is-active:after{left:100%;-webkit-transition:left .4s ease;transition:left .4s ease;visibility:visible}nav-section a.is-active:before{-webkit-transition:width .4s ease;transition:width .4s ease;width:100%}}nav-section a h2{font-family:acumin-pro-extra-condensed,sans-serif!important;font-weight:500!important;display:-ms-flexbox;display:flex;font-size:48px;-ms-flex-pack:justify;justify-content:space-between;line-height:.6;margin:0;position:relative;text-transform:uppercase}\@media (max-width:992px){nav-section a h2:after{background-image:url(/assets/images/chevron-right-light.svg);background-size:12px 22px;content:\"\";display:-ms-flexbox;display:flex;height:22px;position:absolute;right:0;top:20%;width:12px}}nav-section a p{font-size:14px;margin:12px 0 0;opacity:.7}"}},qo=class{constructor(n){t(this,n),this.isActive=!1,this.data={},this.simpleNav=new ci,this.simpleNav.formatMenuEntry=t=>t}onClick(t){"function"==typeof this.handleBackClick?this.handleBackClick(t):console.error("Function to handle nav-section-subnav click not provided")}render(){return n("div",{class:this.isActive?"":"hidden"},n("a",{"data-automation-id":`sh-section-subnav-${this.subNavName}`,class:"back",href:"",onClick:t=>this.handleBackClick(t)},n("span",{innerHTML:'<svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="chevron-left" class="svg-inline--fa fa-chevron-left fa-w-8" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><path fill="currentColor" d="M238.475 475.535l7.071-7.07c4.686-4.686 4.686-12.284 0-16.971L50.053 256 245.546 60.506c4.686-4.686 4.686-12.284 0-16.971l-7.071-7.07c-4.686-4.686-12.284-4.686-16.97 0L10.454 247.515c-4.686 4.686-4.686 12.284 0 16.971l211.051 211.05c4.686 4.686 12.284 4.686 16.97-.001z"></path></svg>'}),"Back"),this.simpleNav.formatMenuTitle(this.data.title),this.simpleNav.maybeRenderNavEntries(this.data.children))}static get style(){return"nav-section-subnav{font-family:acumin-pro,helvetica,arial,sans-serif!important;font-weight:300!important;color:#fff}nav-section-subnav div{padding:30px 20px 0}nav-section-subnav a{color:#fff;display:inline-block;font-size:19px;margin-bottom:10px;padding-left:10px;text-decoration:none;text-transform:capitalize}nav-section-subnav a.all{margin-bottom:30px}nav-section-subnav a:hover{color:#ccc}nav-section-subnav h2{font-family:acumin-pro-extra-condensed,sans-serif!important;font-weight:500!important;font-size:48px;line-height:48px;margin:0;text-transform:uppercase;margin-bottom:10px}nav-section-subnav h4{font-size:11px;margin:0 0 10px;opacity:.5;text-transform:uppercase}nav-section-subnav ul{padding-left:0;margin-top:0}nav-section-subnav ul li{list-style:none}nav-section-subnav ul li.top-level a{padding-left:0}nav-section-subnav .hidden{display:none}\@media (min-width:992px){nav-section-subnav h2{display:none}}nav-section-subnav .back{font-size:14px;padding-left:0;position:relative}\@media (min-width:992px){nav-section-subnav .back{display:none}}nav-section-subnav .back span{display:inline-block;height:13px;margin-right:8px;padding:12px 0;position:relative;top:1px;width:7px}nav-section-subnav .back svg{fill:#fff;height:13px;width:7px}"}},Vo=class{constructor(n){t(this,n),this.isNavShowing=!0,this.data={},this.simpleNav=new ci(this.handleSignOut)}navTitle(){return unescape((this.data&&this.data.title||"").replace("%user_name%",this.currentUser.name||""))}backgroundImageURL(){return this.currentUser&&this.currentUser.avatarUrl||""}render(){return this.isNavShowing&&this.simpleNav.isObjectTruthyNonArray(this.data)?n("div",{class:"profile-nav"},n("div",{class:"profile-nav-img",style:{backgroundImage:`linear-gradient(0deg, rgba(2,0,36,1) 0%, rgba(0,0,0,1) 30%, rgba(0,0,0,0) 100%),url('${this.backgroundImageURL()}')`}}),this.simpleNav.renderNav(this.data,this.navTitle())):null}static get style(){return".give-nav,.profile-nav{font-family:acumin-pro,helvetica,arial,sans-serif!important;font-weight:300!important;color:#fff;background-color:#000;background-repeat:no-repeat;background-size:100%;height:100vh;left:0;margin-left:-15px;max-height:100vh;overflow-y:scroll;position:-webkit-sticky;position:sticky;top:48px;width:100vw;z-index:2}.give-nav div,.profile-nav div{height:auto;padding:30px 20px 90px}.give-nav a,.profile-nav a{color:#fff;display:inline-block;font-size:19px;margin-bottom:10px;padding-left:10px;text-decoration:none;text-transform:capitalize}.give-nav a.all,.profile-nav a.all{margin-bottom:30px}.give-nav a:hover,.profile-nav a:hover{color:#ccc}.give-nav h2,.profile-nav h2{font-family:acumin-pro-extra-condensed,sans-serif!important;font-weight:500!important;font-size:48px;line-height:48px;margin:0;text-transform:uppercase;margin-bottom:20px}.give-nav h4,.profile-nav h4{font-size:11px;margin:0 0 10px;opacity:.5;text-transform:uppercase}.give-nav ul,.profile-nav ul{padding-left:0;margin-top:0}.give-nav ul li,.profile-nav ul li{list-style:none}.give-nav ul li.top-level a,.profile-nav ul li.top-level a{padding-left:0}\@media (min-width:992px){.give-nav,.profile-nav{height:auto;left:auto;margin-right:-15px;position:absolute;right:15px;width:375px}}\@media (min-width:1170px){.give-nav,.profile-nav{margin-right:0}}.give-nav::-webkit-scrollbar,.profile-nav::-webkit-scrollbar{width:0}.give-nav ul:last-of-type,.profile-nav ul:last-of-type{padding-bottom:30px}.give-nav{background-image:url(https://crds-media.imgix.net/6sNxa1MWhMOfjhAB47yTCa/0acf1af4109f23abc0199b1e34abeb7a/give-bg_2x.jpg?auto=format%2Ccompress)}.profile-nav:after{background-color:rgba(0,0,0,.75);content:\" \";z-index:-1}.profile-nav .profile-nav-img,.profile-nav:after{height:100%;left:0;position:absolute;top:0;width:100%}.profile-nav .profile-nav-img{background-position:top;background-repeat:no-repeat;background-size:100% auto;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-filter:blur(2px);filter:blur(2px);z-index:-2}\@media (min-width:992px){.profile-nav div{padding-bottom:0}}"}};export{f as crds_default_card,d as crds_greeting,tt as crds_heart_button,it as crds_icon,rt as crds_image,et as crds_media_card,st as crds_modal,ct as crds_recommended_content,lt as crds_shared_footer,dt as crds_shared_header,mt as crds_site_happenings,Ft as crds_snail_trail,hi as crds_snail_trail_link,ui as crds_subscribe,fi as give_nav,jo as global_nav,Bo as main_nav,$o as nav_ctas,Ko as nav_section,qo as nav_section_subnav,Vo as profile_nav};